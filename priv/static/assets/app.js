var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __objRest = (source, exclude) => {
  var target = {};
  for (var prop in source)
    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)
      target[prop] = source[prop];
  if (source != null && __getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(source)) {
      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))
        target[prop] = source[prop];
    }
  return target;
};
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// node_modules/inputmask/dist/inputmask.js
var require_inputmask = __commonJS({
  "node_modules/inputmask/dist/inputmask.js"(exports, module2) {
    !function(e, t) {
      if ("object" == typeof exports && "object" == typeof module2)
        module2.exports = t();
      else if ("function" == typeof define && define.amd)
        define([], t);
      else {
        var i = t();
        for (var n in i)
          ("object" == typeof exports ? exports : e)[n] = i[n];
      }
    }("undefined" != typeof self ? self : exports, function() {
      return function() {
        "use strict";
        var e = {
          8741: function(e2, t2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.default = void 0;
            var i2 = !("undefined" == typeof window || !window.document || !window.document.createElement);
            t2.default = i2;
          },
          3976: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.default = void 0;
            var n2 = i2(2839), a = {
              _maxTestPos: 500,
              placeholder: "_",
              optionalmarker: ["[", "]"],
              quantifiermarker: ["{", "}"],
              groupmarker: ["(", ")"],
              alternatormarker: "|",
              escapeChar: "\\",
              mask: null,
              regex: null,
              oncomplete: function() {
              },
              onincomplete: function() {
              },
              oncleared: function() {
              },
              repeat: 0,
              greedy: false,
              autoUnmask: false,
              removeMaskOnSubmit: false,
              clearMaskOnLostFocus: true,
              insertMode: true,
              insertModeVisual: true,
              clearIncomplete: false,
              alias: null,
              onKeyDown: function() {
              },
              onBeforeMask: null,
              onBeforePaste: function(e3, t3) {
                return "function" == typeof t3.onBeforeMask ? t3.onBeforeMask.call(this, e3, t3) : e3;
              },
              onBeforeWrite: null,
              onUnMask: null,
              showMaskOnFocus: true,
              showMaskOnHover: true,
              onKeyValidation: function() {
              },
              skipOptionalPartCharacter: " ",
              numericInput: false,
              rightAlign: false,
              undoOnEscape: true,
              radixPoint: "",
              _radixDance: false,
              groupSeparator: "",
              keepStatic: null,
              positionCaretOnTab: true,
              tabThrough: false,
              supportsInputType: ["text", "tel", "url", "password", "search"],
              ignorables: [n2.keys.Backspace, n2.keys.Tab, n2.keys.Pause, n2.keys.Escape, n2.keys.PageUp, n2.keys.PageDown, n2.keys.End, n2.keys.Home, n2.keys.ArrowLeft, n2.keys.ArrowUp, n2.keys.ArrowRight, n2.keys.ArrowDown, n2.keys.Insert, n2.keys.Delete, n2.keys.ContextMenu, n2.keys.F1, n2.keys.F2, n2.keys.F3, n2.keys.F4, n2.keys.F5, n2.keys.F6, n2.keys.F7, n2.keys.F8, n2.keys.F9, n2.keys.F10, n2.keys.F11, n2.keys.F12, n2.keys.Process, n2.keys.Unidentified, n2.keys.Shift, n2.keys.Control, n2.keys.Alt, n2.keys.Tab, n2.keys.AltGraph, n2.keys.CapsLock],
              isComplete: null,
              preValidation: null,
              postValidation: null,
              staticDefinitionSymbol: void 0,
              jitMasking: false,
              nullable: true,
              inputEventOnly: false,
              noValuePatching: false,
              positionCaretOnClick: "lvp",
              casing: null,
              inputmode: "text",
              importDataAttributes: true,
              shiftPositions: true,
              usePrototypeDefinitions: true,
              validationEventTimeOut: 3e3,
              substitutes: {}
            };
            t2.default = a;
          },
          7392: function(e2, t2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.default = void 0;
            t2.default = {
              9: {
                validator: "[0-9\uFF10-\uFF19]",
                definitionSymbol: "*"
              },
              a: {
                validator: "[A-Za-z\u0410-\u044F\u0401\u0451\xC0-\xFF\xB5]",
                definitionSymbol: "*"
              },
              "*": {
                validator: "[0-9\uFF10-\uFF19A-Za-z\u0410-\u044F\u0401\u0451\xC0-\xFF\xB5]"
              }
            };
          },
          253: function(e2, t2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.default = function(e3, t3, i2) {
              if (void 0 === i2)
                return e3.__data ? e3.__data[t3] : null;
              e3.__data = e3.__data || {}, e3.__data[t3] = i2;
            };
          },
          3776: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.Event = void 0, t2.off = function(e3, t3) {
              var i3, n3;
              f(this[0]) && e3 && (i3 = this[0].eventRegistry, n3 = this[0], e3.split(" ").forEach(function(e4) {
                var a2 = l(e4.split("."), 2);
                (function(e5, n4) {
                  var a3, r2, o2 = [];
                  if (e5.length > 0)
                    if (void 0 === t3)
                      for (a3 = 0, r2 = i3[e5][n4].length; a3 < r2; a3++)
                        o2.push({
                          ev: e5,
                          namespace: n4 && n4.length > 0 ? n4 : "global",
                          handler: i3[e5][n4][a3]
                        });
                    else
                      o2.push({
                        ev: e5,
                        namespace: n4 && n4.length > 0 ? n4 : "global",
                        handler: t3
                      });
                  else if (n4.length > 0) {
                    for (var s2 in i3)
                      for (var l2 in i3[s2])
                        if (l2 === n4)
                          if (void 0 === t3)
                            for (a3 = 0, r2 = i3[s2][l2].length; a3 < r2; a3++)
                              o2.push({
                                ev: s2,
                                namespace: l2,
                                handler: i3[s2][l2][a3]
                              });
                          else
                            o2.push({
                              ev: s2,
                              namespace: l2,
                              handler: t3
                            });
                  }
                  return o2;
                })(a2[0], a2[1]).forEach(function(e5) {
                  var t4 = e5.ev, a3 = e5.handler;
                  !function(e6, t5, a4) {
                    if (e6 in i3 == 1)
                      if (n3.removeEventListener ? n3.removeEventListener(e6, a4, false) : n3.detachEvent && n3.detachEvent("on".concat(e6), a4), "global" === t5)
                        for (var r2 in i3[e6])
                          i3[e6][r2].splice(i3[e6][r2].indexOf(a4), 1);
                      else
                        i3[e6][t5].splice(i3[e6][t5].indexOf(a4), 1);
                  }(t4, e5.namespace, a3);
                });
              }));
              return this;
            }, t2.on = function(e3, t3) {
              if (f(this[0])) {
                var i3 = this[0].eventRegistry, n3 = this[0];
                e3.split(" ").forEach(function(e4) {
                  var a2 = l(e4.split("."), 2), r2 = a2[0], o2 = a2[1];
                  !function(e5, a3) {
                    n3.addEventListener ? n3.addEventListener(e5, t3, false) : n3.attachEvent && n3.attachEvent("on".concat(e5), t3), i3[e5] = i3[e5] || {}, i3[e5][a3] = i3[e5][a3] || [], i3[e5][a3].push(t3);
                  }(r2, void 0 === o2 ? "global" : o2);
                });
              }
              return this;
            }, t2.trigger = function(e3) {
              var t3 = arguments;
              if (f(this[0]))
                for (var i3 = this[0].eventRegistry, n3 = this[0], r2 = "string" == typeof e3 ? e3.split(" ") : [e3.type], s2 = 0; s2 < r2.length; s2++) {
                  var l2 = r2[s2].split("."), c2 = l2[0], u2 = l2[1] || "global";
                  if (void 0 !== document && "global" === u2) {
                    var d, p = {
                      bubbles: true,
                      cancelable: true,
                      composed: true,
                      detail: arguments[1]
                    };
                    if (document.createEvent) {
                      try {
                        if ("input" === c2)
                          p.inputType = "insertText", d = new InputEvent(c2, p);
                        else
                          d = new CustomEvent(c2, p);
                      } catch (e4) {
                        (d = document.createEvent("CustomEvent")).initCustomEvent(c2, p.bubbles, p.cancelable, p.detail);
                      }
                      e3.type && (0, a.default)(d, e3), n3.dispatchEvent(d);
                    } else
                      (d = document.createEventObject()).eventType = c2, d.detail = arguments[1], e3.type && (0, a.default)(d, e3), n3.fireEvent("on" + d.eventType, d);
                  } else if (void 0 !== i3[c2]) {
                    arguments[0] = arguments[0].type ? arguments[0] : o.default.Event(arguments[0]), arguments[0].detail = arguments.slice(1);
                    var h = i3[c2];
                    ("global" === u2 ? Object.values(h).flat() : h[u2]).forEach(function(e4) {
                      return e4.apply(n3, t3);
                    });
                  }
                }
              return this;
            };
            var n2, a = u(i2(600)), r = u(i2(9380)), o = u(i2(4963)), s = u(i2(8741));
            function l(e3, t3) {
              return function(e4) {
                if (Array.isArray(e4))
                  return e4;
              }(e3) || function(e4, t4) {
                var i3 = null == e4 ? null : "undefined" != typeof Symbol && e4[Symbol.iterator] || e4["@@iterator"];
                if (null != i3) {
                  var n3, a2, r2, o2, s2 = [], l2 = true, c2 = false;
                  try {
                    if (r2 = (i3 = i3.call(e4)).next, 0 === t4) {
                      if (Object(i3) !== i3)
                        return;
                      l2 = false;
                    } else
                      for (; !(l2 = (n3 = r2.call(i3)).done) && (s2.push(n3.value), s2.length !== t4); l2 = true)
                        ;
                  } catch (e5) {
                    c2 = true, a2 = e5;
                  } finally {
                    try {
                      if (!l2 && null != i3.return && (o2 = i3.return(), Object(o2) !== o2))
                        return;
                    } finally {
                      if (c2)
                        throw a2;
                    }
                  }
                  return s2;
                }
              }(e3, t3) || function(e4, t4) {
                if (!e4)
                  return;
                if ("string" == typeof e4)
                  return c(e4, t4);
                var i3 = Object.prototype.toString.call(e4).slice(8, -1);
                "Object" === i3 && e4.constructor && (i3 = e4.constructor.name);
                if ("Map" === i3 || "Set" === i3)
                  return Array.from(e4);
                if ("Arguments" === i3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i3))
                  return c(e4, t4);
              }(e3, t3) || function() {
                throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
              }();
            }
            function c(e3, t3) {
              (null == t3 || t3 > e3.length) && (t3 = e3.length);
              for (var i3 = 0, n3 = new Array(t3); i3 < t3; i3++)
                n3[i3] = e3[i3];
              return n3;
            }
            function u(e3) {
              return e3 && e3.__esModule ? e3 : {
                default: e3
              };
            }
            function f(e3) {
              return e3 instanceof Element;
            }
            t2.Event = n2, "function" == typeof r.default.CustomEvent ? t2.Event = n2 = r.default.CustomEvent : s.default && (t2.Event = n2 = function(e3, t3) {
              t3 = t3 || {
                bubbles: false,
                cancelable: false,
                composed: true,
                detail: void 0
              };
              var i3 = document.createEvent("CustomEvent");
              return i3.initCustomEvent(e3, t3.bubbles, t3.cancelable, t3.detail), i3;
            }, n2.prototype = r.default.Event.prototype);
          },
          600: function(e2, t2) {
            function i2(e3) {
              return i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
                return typeof e4;
              } : function(e4) {
                return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
              }, i2(e3);
            }
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.default = function e3() {
              var t3, n2, a, r, o, s, l = arguments[0] || {}, c = 1, u = arguments.length, f = false;
              "boolean" == typeof l && (f = l, l = arguments[c] || {}, c++);
              "object" !== i2(l) && "function" != typeof l && (l = {});
              for (; c < u; c++)
                if (null != (t3 = arguments[c]))
                  for (n2 in t3)
                    a = l[n2], l !== (r = t3[n2]) && (f && r && ("[object Object]" === Object.prototype.toString.call(r) || (o = Array.isArray(r))) ? (o ? (o = false, s = a && Array.isArray(a) ? a : []) : s = a && "[object Object]" === Object.prototype.toString.call(a) ? a : {}, l[n2] = e3(f, s, r)) : void 0 !== r && (l[n2] = r));
              return l;
            };
          },
          4963: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.default = void 0;
            var n2 = s(i2(600)), a = s(i2(9380)), r = s(i2(253)), o = i2(3776);
            function s(e3) {
              return e3 && e3.__esModule ? e3 : {
                default: e3
              };
            }
            var l = a.default.document;
            function c(e3) {
              return e3 instanceof c ? e3 : this instanceof c ? void (null != e3 && e3 !== a.default && (this[0] = e3.nodeName ? e3 : void 0 !== e3[0] && e3[0].nodeName ? e3[0] : l.querySelector(e3), void 0 !== this[0] && null !== this[0] && (this[0].eventRegistry = this[0].eventRegistry || {}))) : new c(e3);
            }
            c.prototype = {
              on: o.on,
              off: o.off,
              trigger: o.trigger
            }, c.extend = n2.default, c.data = r.default, c.Event = o.Event;
            var u = c;
            t2.default = u;
          },
          9845: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.mobile = t2.iphone = t2.ie = void 0;
            var n2, a = (n2 = i2(9380)) && n2.__esModule ? n2 : {
              default: n2
            };
            var r = a.default.navigator && a.default.navigator.userAgent || "", o = r.indexOf("MSIE ") > 0 || r.indexOf("Trident/") > 0, s = navigator.userAgentData && navigator.userAgentData.mobile || a.default.navigator && a.default.navigator.maxTouchPoints || "ontouchstart" in a.default, l = /iphone/i.test(r);
            t2.iphone = l, t2.mobile = s, t2.ie = o;
          },
          7184: function(e2, t2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.default = function(e3) {
              return e3.replace(i2, "\\$1");
            };
            var i2 = new RegExp("(\\" + ["/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^"].join("|\\") + ")", "gim");
          },
          6030: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.EventHandlers = void 0;
            var n2 = i2(8711), a = i2(2839), r = i2(9845), o = i2(7215), s = i2(7760), l = i2(4713);
            function c(e3, t3) {
              var i3 = "undefined" != typeof Symbol && e3[Symbol.iterator] || e3["@@iterator"];
              if (!i3) {
                if (Array.isArray(e3) || (i3 = function(e4, t4) {
                  if (!e4)
                    return;
                  if ("string" == typeof e4)
                    return u(e4, t4);
                  var i4 = Object.prototype.toString.call(e4).slice(8, -1);
                  "Object" === i4 && e4.constructor && (i4 = e4.constructor.name);
                  if ("Map" === i4 || "Set" === i4)
                    return Array.from(e4);
                  if ("Arguments" === i4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i4))
                    return u(e4, t4);
                }(e3)) || t3 && e3 && "number" == typeof e3.length) {
                  i3 && (e3 = i3);
                  var n3 = 0, a2 = function() {
                  };
                  return {
                    s: a2,
                    n: function() {
                      return n3 >= e3.length ? {
                        done: true
                      } : {
                        done: false,
                        value: e3[n3++]
                      };
                    },
                    e: function(e4) {
                      throw e4;
                    },
                    f: a2
                  };
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
              }
              var r2, o2 = true, s2 = false;
              return {
                s: function() {
                  i3 = i3.call(e3);
                },
                n: function() {
                  var e4 = i3.next();
                  return o2 = e4.done, e4;
                },
                e: function(e4) {
                  s2 = true, r2 = e4;
                },
                f: function() {
                  try {
                    o2 || null == i3.return || i3.return();
                  } finally {
                    if (s2)
                      throw r2;
                  }
                }
              };
            }
            function u(e3, t3) {
              (null == t3 || t3 > e3.length) && (t3 = e3.length);
              for (var i3 = 0, n3 = new Array(t3); i3 < t3; i3++)
                n3[i3] = e3[i3];
              return n3;
            }
            var f = {
              keyEvent: function(e3, t3, i3, c2, u2) {
                var d = this.inputmask, p = d.opts, h = d.dependencyLib, v = d.maskset, m = this, g = h(m), y = e3.key, k = n2.caret.call(d, m), b = p.onKeyDown.call(this, e3, n2.getBuffer.call(d), k, p);
                if (void 0 !== b)
                  return b;
                if (y === a.keys.Backspace || y === a.keys.Delete || r.iphone && y === a.keys.BACKSPACE_SAFARI || e3.ctrlKey && y === a.keys.x && !("oncut" in m))
                  e3.preventDefault(), o.handleRemove.call(d, m, y, k), (0, s.writeBuffer)(m, n2.getBuffer.call(d, true), v.p, e3, m.inputmask._valueGet() !== n2.getBuffer.call(d).join(""));
                else if (y === a.keys.End || y === a.keys.PageDown) {
                  e3.preventDefault();
                  var x = n2.seekNext.call(d, n2.getLastValidPosition.call(d));
                  n2.caret.call(d, m, e3.shiftKey ? k.begin : x, x, true);
                } else
                  y === a.keys.Home && !e3.shiftKey || y === a.keys.PageUp ? (e3.preventDefault(), n2.caret.call(d, m, 0, e3.shiftKey ? k.begin : 0, true)) : p.undoOnEscape && y === a.keys.Escape && true !== e3.altKey ? ((0, s.checkVal)(m, true, false, d.undoValue.split("")), g.trigger("click")) : y !== a.keys.Insert || e3.shiftKey || e3.ctrlKey || void 0 !== d.userOptions.insertMode ? true === p.tabThrough && y === a.keys.Tab ? true === e3.shiftKey ? (k.end = n2.seekPrevious.call(d, k.end, true), true === l.getTest.call(d, k.end - 1).match.static && k.end--, k.begin = n2.seekPrevious.call(d, k.end, true), k.begin >= 0 && k.end > 0 && (e3.preventDefault(), n2.caret.call(d, m, k.begin, k.end))) : (k.begin = n2.seekNext.call(d, k.begin, true), k.end = n2.seekNext.call(d, k.begin, true), k.end < v.maskLength && k.end--, k.begin <= v.maskLength && (e3.preventDefault(), n2.caret.call(d, m, k.begin, k.end))) : e3.shiftKey || p.insertModeVisual && false === p.insertMode && (y === a.keys.ArrowRight ? setTimeout(function() {
                    var e4 = n2.caret.call(d, m);
                    n2.caret.call(d, m, e4.begin);
                  }, 0) : y === a.keys.ArrowLeft && setTimeout(function() {
                    var e4 = n2.translatePosition.call(d, m.inputmask.caretPos.begin);
                    n2.translatePosition.call(d, m.inputmask.caretPos.end);
                    d.isRTL ? n2.caret.call(d, m, e4 + (e4 === v.maskLength ? 0 : 1)) : n2.caret.call(d, m, e4 - (0 === e4 ? 0 : 1));
                  }, 0)) : o.isSelection.call(d, k) ? p.insertMode = !p.insertMode : (p.insertMode = !p.insertMode, n2.caret.call(d, m, k.begin, k.begin));
                return d.isComposing = y == a.keys.Process || y == a.keys.Unidentified, d.ignorable = p.ignorables.includes(y), f.keypressEvent.call(this, e3, t3, i3, c2, u2);
              },
              keypressEvent: function(e3, t3, i3, r2, l2) {
                var c2 = this.inputmask || this, u2 = c2.opts, f2 = c2.dependencyLib, d = c2.maskset, p = c2.el, h = f2(p), v = e3.key;
                if (true === t3 || e3.ctrlKey && e3.altKey || !(e3.ctrlKey || e3.metaKey || c2.ignorable)) {
                  if (v) {
                    var m, g = t3 ? {
                      begin: l2,
                      end: l2
                    } : n2.caret.call(c2, p);
                    v = u2.substitutes[v] || v, d.writeOutBuffer = true;
                    var y = o.isValid.call(c2, g, v, r2, void 0, void 0, void 0, t3);
                    if (false !== y && (n2.resetMaskSet.call(c2, true), m = void 0 !== y.caret ? y.caret : n2.seekNext.call(c2, y.pos.begin ? y.pos.begin : y.pos), d.p = m), m = u2.numericInput && void 0 === y.caret ? n2.seekPrevious.call(c2, m) : m, false !== i3 && (setTimeout(function() {
                      u2.onKeyValidation.call(p, v, y);
                    }, 0), d.writeOutBuffer && false !== y)) {
                      var k = n2.getBuffer.call(c2);
                      (0, s.writeBuffer)(p, k, m, e3, true !== t3);
                    }
                    if (e3.preventDefault(), t3)
                      return false !== y && (y.forwardPosition = m), y;
                  }
                } else
                  v === a.keys.Enter && c2.undoValue !== c2._valueGet(true) && (c2.undoValue = c2._valueGet(true), setTimeout(function() {
                    h.trigger("change");
                  }, 0));
              },
              pasteEvent: function(e3) {
                var t3, i3 = this.inputmask, a2 = i3.opts, r2 = i3._valueGet(true), o2 = n2.caret.call(i3, this);
                i3.isRTL && (t3 = o2.end, o2.end = n2.translatePosition.call(i3, o2.begin), o2.begin = n2.translatePosition.call(i3, t3));
                var l2 = r2.substr(0, o2.begin), u2 = r2.substr(o2.end, r2.length);
                if (l2 == (i3.isRTL ? n2.getBufferTemplate.call(i3).slice().reverse() : n2.getBufferTemplate.call(i3)).slice(0, o2.begin).join("") && (l2 = ""), u2 == (i3.isRTL ? n2.getBufferTemplate.call(i3).slice().reverse() : n2.getBufferTemplate.call(i3)).slice(o2.end).join("") && (u2 = ""), window.clipboardData && window.clipboardData.getData)
                  r2 = l2 + window.clipboardData.getData("Text") + u2;
                else {
                  if (!e3.clipboardData || !e3.clipboardData.getData)
                    return true;
                  r2 = l2 + e3.clipboardData.getData("text/plain") + u2;
                }
                var f2 = r2;
                if (i3.isRTL) {
                  f2 = f2.split("");
                  var d, p = c(n2.getBufferTemplate.call(i3));
                  try {
                    for (p.s(); !(d = p.n()).done; ) {
                      var h = d.value;
                      f2[0] === h && f2.shift();
                    }
                  } catch (e4) {
                    p.e(e4);
                  } finally {
                    p.f();
                  }
                  f2 = f2.join("");
                }
                if ("function" == typeof a2.onBeforePaste) {
                  if (false === (f2 = a2.onBeforePaste.call(i3, f2, a2)))
                    return false;
                  f2 || (f2 = r2);
                }
                (0, s.checkVal)(this, true, false, f2.toString().split(""), e3), e3.preventDefault();
              },
              inputFallBackEvent: function(e3) {
                var t3 = this.inputmask, i3 = t3.opts, o2 = t3.dependencyLib;
                var c2, u2 = this, d = u2.inputmask._valueGet(true), p = (t3.isRTL ? n2.getBuffer.call(t3).slice().reverse() : n2.getBuffer.call(t3)).join(""), h = n2.caret.call(t3, u2, void 0, void 0, true);
                if (p !== d) {
                  if (c2 = function(e4, a2, r2) {
                    for (var o3, s2, c3, u3 = e4.substr(0, r2.begin).split(""), f2 = e4.substr(r2.begin).split(""), d2 = a2.substr(0, r2.begin).split(""), p2 = a2.substr(r2.begin).split(""), h2 = u3.length >= d2.length ? u3.length : d2.length, v2 = f2.length >= p2.length ? f2.length : p2.length, m = "", g = [], y = "~"; u3.length < h2; )
                      u3.push(y);
                    for (; d2.length < h2; )
                      d2.push(y);
                    for (; f2.length < v2; )
                      f2.unshift(y);
                    for (; p2.length < v2; )
                      p2.unshift(y);
                    var k = u3.concat(f2), b = d2.concat(p2);
                    for (s2 = 0, o3 = k.length; s2 < o3; s2++)
                      switch (c3 = l.getPlaceholder.call(t3, n2.translatePosition.call(t3, s2)), m) {
                        case "insertText":
                          b[s2 - 1] === k[s2] && r2.begin == k.length - 1 && g.push(k[s2]), s2 = o3;
                          break;
                        case "insertReplacementText":
                        case "deleteContentBackward":
                          k[s2] === y ? r2.end++ : s2 = o3;
                          break;
                        default:
                          k[s2] !== b[s2] && (k[s2 + 1] !== y && k[s2 + 1] !== c3 && void 0 !== k[s2 + 1] || (b[s2] !== c3 || b[s2 + 1] !== y) && b[s2] !== y ? b[s2 + 1] === y && b[s2] === k[s2 + 1] ? (m = "insertText", g.push(k[s2]), r2.begin--, r2.end--) : k[s2] !== c3 && k[s2] !== y && (k[s2 + 1] === y || b[s2] !== k[s2] && b[s2 + 1] === k[s2 + 1]) ? (m = "insertReplacementText", g.push(k[s2]), r2.begin--) : k[s2] === y ? (m = "deleteContentBackward", (n2.isMask.call(t3, n2.translatePosition.call(t3, s2), true) || b[s2] === i3.radixPoint) && r2.end++) : s2 = o3 : (m = "insertText", g.push(k[s2]), r2.begin--, r2.end--));
                      }
                    return {
                      action: m,
                      data: g,
                      caret: r2
                    };
                  }(d, p, h), (u2.inputmask.shadowRoot || u2.ownerDocument).activeElement !== u2 && u2.focus(), (0, s.writeBuffer)(u2, n2.getBuffer.call(t3)), n2.caret.call(t3, u2, h.begin, h.end, true), !r.mobile && t3.skipNextInsert && "insertText" === e3.inputType && "insertText" === c2.action && t3.isComposing)
                    return false;
                  switch ("insertCompositionText" === e3.inputType && "insertText" === c2.action && t3.isComposing ? t3.skipNextInsert = true : t3.skipNextInsert = false, c2.action) {
                    case "insertText":
                    case "insertReplacementText":
                      c2.data.forEach(function(e4, i4) {
                        var n3 = new o2.Event("keypress");
                        n3.key = e4, t3.ignorable = false, f.keypressEvent.call(u2, n3);
                      }), setTimeout(function() {
                        t3.$el.trigger("keyup");
                      }, 0);
                      break;
                    case "deleteContentBackward":
                      var v = new o2.Event("keydown");
                      v.key = a.keys.Backspace, f.keyEvent.call(u2, v);
                      break;
                    default:
                      (0, s.applyInputValue)(u2, d), n2.caret.call(t3, u2, h.begin, h.end, true);
                  }
                  e3.preventDefault();
                }
              },
              setValueEvent: function(e3) {
                var t3 = this.inputmask, i3 = this, a2 = e3 && e3.detail ? e3.detail[0] : arguments[1];
                void 0 === a2 && (a2 = i3.inputmask._valueGet(true)), (0, s.applyInputValue)(i3, a2), (e3.detail && void 0 !== e3.detail[1] || void 0 !== arguments[2]) && n2.caret.call(t3, i3, e3.detail ? e3.detail[1] : arguments[2]);
              },
              focusEvent: function(e3) {
                var t3 = this.inputmask, i3 = t3.opts, a2 = null == t3 ? void 0 : t3._valueGet();
                i3.showMaskOnFocus && a2 !== n2.getBuffer.call(t3).join("") && (0, s.writeBuffer)(this, n2.getBuffer.call(t3), n2.seekNext.call(t3, n2.getLastValidPosition.call(t3))), true !== i3.positionCaretOnTab || false !== t3.mouseEnter || o.isComplete.call(t3, n2.getBuffer.call(t3)) && -1 !== n2.getLastValidPosition.call(t3) || f.clickEvent.apply(this, [e3, true]), t3.undoValue = null == t3 ? void 0 : t3._valueGet(true);
              },
              invalidEvent: function(e3) {
                this.inputmask.validationEvent = true;
              },
              mouseleaveEvent: function() {
                var e3 = this.inputmask, t3 = e3.opts, i3 = this;
                e3.mouseEnter = false, t3.clearMaskOnLostFocus && (i3.inputmask.shadowRoot || i3.ownerDocument).activeElement !== i3 && (0, s.HandleNativePlaceholder)(i3, e3.originalPlaceholder);
              },
              clickEvent: function(e3, t3) {
                var i3 = this.inputmask;
                i3.clicked++;
                var a2 = this;
                if ((a2.inputmask.shadowRoot || a2.ownerDocument).activeElement === a2) {
                  var r2 = n2.determineNewCaretPosition.call(i3, n2.caret.call(i3, a2), t3);
                  void 0 !== r2 && n2.caret.call(i3, a2, r2);
                }
              },
              cutEvent: function(e3) {
                var t3 = this.inputmask, i3 = t3.maskset, r2 = this, l2 = n2.caret.call(t3, r2), c2 = t3.isRTL ? n2.getBuffer.call(t3).slice(l2.end, l2.begin) : n2.getBuffer.call(t3).slice(l2.begin, l2.end), u2 = t3.isRTL ? c2.reverse().join("") : c2.join("");
                window.navigator.clipboard ? window.navigator.clipboard.writeText(u2) : window.clipboardData && window.clipboardData.getData && window.clipboardData.setData("Text", u2), o.handleRemove.call(t3, r2, a.keys.Delete, l2), (0, s.writeBuffer)(r2, n2.getBuffer.call(t3), i3.p, e3, t3.undoValue !== t3._valueGet(true));
              },
              blurEvent: function(e3) {
                var t3 = this.inputmask, i3 = t3.opts, a2 = t3.dependencyLib;
                t3.clicked = 0;
                var r2 = a2(this), l2 = this;
                if (l2.inputmask) {
                  (0, s.HandleNativePlaceholder)(l2, t3.originalPlaceholder);
                  var c2 = l2.inputmask._valueGet(), u2 = n2.getBuffer.call(t3).slice();
                  "" !== c2 && (i3.clearMaskOnLostFocus && (-1 === n2.getLastValidPosition.call(t3) && c2 === n2.getBufferTemplate.call(t3).join("") ? u2 = [] : s.clearOptionalTail.call(t3, u2)), false === o.isComplete.call(t3, u2) && (setTimeout(function() {
                    r2.trigger("incomplete");
                  }, 0), i3.clearIncomplete && (n2.resetMaskSet.call(t3), u2 = i3.clearMaskOnLostFocus ? [] : n2.getBufferTemplate.call(t3).slice())), (0, s.writeBuffer)(l2, u2, void 0, e3)), t3.undoValue !== t3._valueGet(true) && (t3.undoValue = t3._valueGet(true), r2.trigger("change"));
                }
              },
              mouseenterEvent: function() {
                var e3 = this.inputmask, t3 = e3.opts.showMaskOnHover, i3 = this;
                if (e3.mouseEnter = true, (i3.inputmask.shadowRoot || i3.ownerDocument).activeElement !== i3) {
                  var a2 = (e3.isRTL ? n2.getBufferTemplate.call(e3).slice().reverse() : n2.getBufferTemplate.call(e3)).join("");
                  t3 && (0, s.HandleNativePlaceholder)(i3, a2);
                }
              },
              submitEvent: function() {
                var e3 = this.inputmask, t3 = e3.opts;
                e3.undoValue !== e3._valueGet(true) && e3.$el.trigger("change"), -1 === n2.getLastValidPosition.call(e3) && e3._valueGet && e3._valueGet() === n2.getBufferTemplate.call(e3).join("") && e3._valueSet(""), t3.clearIncomplete && false === o.isComplete.call(e3, n2.getBuffer.call(e3)) && e3._valueSet(""), t3.removeMaskOnSubmit && (e3._valueSet(e3.unmaskedvalue(), true), setTimeout(function() {
                  (0, s.writeBuffer)(e3.el, n2.getBuffer.call(e3));
                }, 0));
              },
              resetEvent: function() {
                var e3 = this.inputmask;
                e3.refreshValue = true, setTimeout(function() {
                  (0, s.applyInputValue)(e3.el, e3._valueGet(true));
                }, 0);
              }
            };
            t2.EventHandlers = f;
          },
          9716: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.EventRuler = void 0;
            var n2, a = (n2 = i2(2394)) && n2.__esModule ? n2 : {
              default: n2
            }, r = i2(2839), o = i2(8711), s = i2(7760);
            var l = {
              on: function(e3, t3, i3) {
                var n3 = e3.inputmask.dependencyLib, l2 = function(t4) {
                  t4.originalEvent && (t4 = t4.originalEvent || t4, arguments[0] = t4);
                  var l3, c = this, u = c.inputmask, f = u ? u.opts : void 0;
                  if (void 0 === u && "FORM" !== this.nodeName) {
                    var d = n3.data(c, "_inputmask_opts");
                    n3(c).off(), d && new a.default(d).mask(c);
                  } else {
                    if (["submit", "reset", "setvalue"].includes(t4.type) || "FORM" === this.nodeName || !(c.disabled || c.readOnly && !("keydown" === t4.type && t4.ctrlKey && t4.key === r.keys.c || false === f.tabThrough && t4.key === r.keys.Tab))) {
                      switch (t4.type) {
                        case "input":
                          if (true === u.skipInputEvent)
                            return u.skipInputEvent = false, t4.preventDefault();
                          break;
                        case "click":
                        case "focus":
                          return u.validationEvent ? (u.validationEvent = false, e3.blur(), (0, s.HandleNativePlaceholder)(e3, (u.isRTL ? o.getBufferTemplate.call(u).slice().reverse() : o.getBufferTemplate.call(u)).join("")), setTimeout(function() {
                            e3.focus();
                          }, f.validationEventTimeOut), false) : (l3 = arguments, void setTimeout(function() {
                            e3.inputmask && i3.apply(c, l3);
                          }, 0));
                      }
                      var p = i3.apply(c, arguments);
                      return false === p && (t4.preventDefault(), t4.stopPropagation()), p;
                    }
                    t4.preventDefault();
                  }
                };
                ["submit", "reset"].includes(t3) ? (l2 = l2.bind(e3), null !== e3.form && n3(e3.form).on(t3, l2)) : n3(e3).on(t3, l2), e3.inputmask.events[t3] = e3.inputmask.events[t3] || [], e3.inputmask.events[t3].push(l2);
              },
              off: function(e3, t3) {
                if (e3.inputmask && e3.inputmask.events) {
                  var i3 = e3.inputmask.dependencyLib, n3 = e3.inputmask.events;
                  for (var a2 in t3 && ((n3 = [])[t3] = e3.inputmask.events[t3]), n3) {
                    for (var r2 = n3[a2]; r2.length > 0; ) {
                      var o2 = r2.pop();
                      ["submit", "reset"].includes(a2) ? null !== e3.form && i3(e3.form).off(a2, o2) : i3(e3).off(a2, o2);
                    }
                    delete e3.inputmask.events[a2];
                  }
                }
              }
            };
            t2.EventRuler = l;
          },
          219: function(e2, t2, i2) {
            var n2 = d(i2(2394)), a = i2(2839), r = d(i2(7184)), o = i2(8711), s = i2(4713);
            function l(e3, t3) {
              return function(e4) {
                if (Array.isArray(e4))
                  return e4;
              }(e3) || function(e4, t4) {
                var i3 = null == e4 ? null : "undefined" != typeof Symbol && e4[Symbol.iterator] || e4["@@iterator"];
                if (null != i3) {
                  var n3, a2, r2, o2, s2 = [], l2 = true, c2 = false;
                  try {
                    if (r2 = (i3 = i3.call(e4)).next, 0 === t4) {
                      if (Object(i3) !== i3)
                        return;
                      l2 = false;
                    } else
                      for (; !(l2 = (n3 = r2.call(i3)).done) && (s2.push(n3.value), s2.length !== t4); l2 = true)
                        ;
                  } catch (e5) {
                    c2 = true, a2 = e5;
                  } finally {
                    try {
                      if (!l2 && null != i3.return && (o2 = i3.return(), Object(o2) !== o2))
                        return;
                    } finally {
                      if (c2)
                        throw a2;
                    }
                  }
                  return s2;
                }
              }(e3, t3) || function(e4, t4) {
                if (!e4)
                  return;
                if ("string" == typeof e4)
                  return c(e4, t4);
                var i3 = Object.prototype.toString.call(e4).slice(8, -1);
                "Object" === i3 && e4.constructor && (i3 = e4.constructor.name);
                if ("Map" === i3 || "Set" === i3)
                  return Array.from(e4);
                if ("Arguments" === i3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i3))
                  return c(e4, t4);
              }(e3, t3) || function() {
                throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
              }();
            }
            function c(e3, t3) {
              (null == t3 || t3 > e3.length) && (t3 = e3.length);
              for (var i3 = 0, n3 = new Array(t3); i3 < t3; i3++)
                n3[i3] = e3[i3];
              return n3;
            }
            function u(e3) {
              return u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
                return typeof e4;
              } : function(e4) {
                return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
              }, u(e3);
            }
            function f(e3, t3) {
              for (var i3 = 0; i3 < t3.length; i3++) {
                var n3 = t3[i3];
                n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(e3, (a2 = n3.key, r2 = void 0, r2 = function(e4, t4) {
                  if ("object" !== u(e4) || null === e4)
                    return e4;
                  var i4 = e4[Symbol.toPrimitive];
                  if (void 0 !== i4) {
                    var n4 = i4.call(e4, t4 || "default");
                    if ("object" !== u(n4))
                      return n4;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                  }
                  return ("string" === t4 ? String : Number)(e4);
                }(a2, "string"), "symbol" === u(r2) ? r2 : String(r2)), n3);
              }
              var a2, r2;
            }
            function d(e3) {
              return e3 && e3.__esModule ? e3 : {
                default: e3
              };
            }
            var p = n2.default.dependencyLib, h = function() {
              function e3(t4, i4, n4) {
                !function(e4, t5) {
                  if (!(e4 instanceof t5))
                    throw new TypeError("Cannot call a class as a function");
                }(this, e3), this.mask = t4, this.format = i4, this.opts = n4, this._date = new Date(1, 0, 1), this.initDateObject(t4, this.opts);
              }
              var t3, i3, n3;
              return t3 = e3, (i3 = [{
                key: "date",
                get: function() {
                  return void 0 === this._date && (this._date = new Date(1, 0, 1), this.initDateObject(void 0, this.opts)), this._date;
                }
              }, {
                key: "initDateObject",
                value: function(e4, t4) {
                  var i4;
                  for (P(t4).lastIndex = 0; i4 = P(t4).exec(this.format); ) {
                    var n4 = new RegExp("\\d+$").exec(i4[0]), a2 = n4 ? i4[0][0] + "x" : i4[0], r2 = void 0;
                    if (void 0 !== e4) {
                      if (n4) {
                        var o2 = P(t4).lastIndex, s2 = E(i4.index, t4);
                        P(t4).lastIndex = o2, r2 = e4.slice(0, e4.indexOf(s2.nextMatch[0]));
                      } else
                        r2 = e4.slice(0, g[a2] && g[a2][4] || a2.length);
                      e4 = e4.slice(r2.length);
                    }
                    Object.prototype.hasOwnProperty.call(g, a2) && this.setValue(this, r2, a2, g[a2][2], g[a2][1]);
                  }
                }
              }, {
                key: "setValue",
                value: function(e4, t4, i4, n4, a2) {
                  if (void 0 !== t4 && (e4[n4] = "ampm" === n4 ? t4 : t4.replace(/[^0-9]/g, "0"), e4["raw" + n4] = t4.replace(/\s/g, "_")), void 0 !== a2) {
                    var r2 = e4[n4];
                    ("day" === n4 && 29 === parseInt(r2) || "month" === n4 && 2 === parseInt(r2)) && (29 !== parseInt(e4.day) || 2 !== parseInt(e4.month) || "" !== e4.year && void 0 !== e4.year || e4._date.setFullYear(2012, 1, 29)), "day" === n4 && (m = true, 0 === parseInt(r2) && (r2 = 1)), "month" === n4 && (m = true), "year" === n4 && (m = true, r2.length < 4 && (r2 = M(r2, 4, true))), "" === r2 || isNaN(r2) || a2.call(e4._date, r2), "ampm" === n4 && a2.call(e4._date, r2);
                  }
                }
              }, {
                key: "reset",
                value: function() {
                  this._date = new Date(1, 0, 1);
                }
              }, {
                key: "reInit",
                value: function() {
                  this._date = void 0, this.date;
                }
              }]) && f(t3.prototype, i3), n3 && f(t3, n3), Object.defineProperty(t3, "prototype", {
                writable: false
              }), e3;
            }(), v = (/* @__PURE__ */ new Date()).getFullYear(), m = false, g = {
              d: ["[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", Date.prototype.getDate],
              dd: ["0[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", function() {
                return M(Date.prototype.getDate.call(this), 2);
              }],
              ddd: [""],
              dddd: [""],
              m: ["[1-9]|1[012]", function(e3) {
                var t3 = e3 ? parseInt(e3) : 0;
                return t3 > 0 && t3--, Date.prototype.setMonth.call(this, t3);
              }, "month", function() {
                return Date.prototype.getMonth.call(this) + 1;
              }],
              mm: ["0[1-9]|1[012]", function(e3) {
                var t3 = e3 ? parseInt(e3) : 0;
                return t3 > 0 && t3--, Date.prototype.setMonth.call(this, t3);
              }, "month", function() {
                return M(Date.prototype.getMonth.call(this) + 1, 2);
              }],
              mmm: [""],
              mmmm: [""],
              yy: ["[0-9]{2}", Date.prototype.setFullYear, "year", function() {
                return M(Date.prototype.getFullYear.call(this), 2);
              }],
              yyyy: ["[0-9]{4}", Date.prototype.setFullYear, "year", function() {
                return M(Date.prototype.getFullYear.call(this), 4);
              }],
              h: ["[1-9]|1[0-2]", Date.prototype.setHours, "hours", Date.prototype.getHours],
              hh: ["0[1-9]|1[0-2]", Date.prototype.setHours, "hours", function() {
                return M(Date.prototype.getHours.call(this), 2);
              }],
              hx: [function(e3) {
                return "[0-9]{".concat(e3, "}");
              }, Date.prototype.setHours, "hours", function(e3) {
                return Date.prototype.getHours;
              }],
              H: ["1?[0-9]|2[0-3]", Date.prototype.setHours, "hours", Date.prototype.getHours],
              HH: ["0[0-9]|1[0-9]|2[0-3]", Date.prototype.setHours, "hours", function() {
                return M(Date.prototype.getHours.call(this), 2);
              }],
              Hx: [function(e3) {
                return "[0-9]{".concat(e3, "}");
              }, Date.prototype.setHours, "hours", function(e3) {
                return function() {
                  return M(Date.prototype.getHours.call(this), e3);
                };
              }],
              M: ["[1-5]?[0-9]", Date.prototype.setMinutes, "minutes", Date.prototype.getMinutes],
              MM: ["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]", Date.prototype.setMinutes, "minutes", function() {
                return M(Date.prototype.getMinutes.call(this), 2);
              }],
              s: ["[1-5]?[0-9]", Date.prototype.setSeconds, "seconds", Date.prototype.getSeconds],
              ss: ["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]", Date.prototype.setSeconds, "seconds", function() {
                return M(Date.prototype.getSeconds.call(this), 2);
              }],
              l: ["[0-9]{3}", Date.prototype.setMilliseconds, "milliseconds", function() {
                return M(Date.prototype.getMilliseconds.call(this), 3);
              }, 3],
              L: ["[0-9]{2}", Date.prototype.setMilliseconds, "milliseconds", function() {
                return M(Date.prototype.getMilliseconds.call(this), 2);
              }, 2],
              t: ["[ap]", k, "ampm", b, 1],
              tt: ["[ap]m", k, "ampm", b, 2],
              T: ["[AP]", k, "ampm", b, 1],
              TT: ["[AP]M", k, "ampm", b, 2],
              Z: [".*", void 0, "Z", function() {
                var e3 = this.toString().match(/\((.+)\)/)[1];
                e3.includes(" ") && (e3 = (e3 = e3.replace("-", " ").toUpperCase()).split(" ").map(function(e4) {
                  return l(e4, 1)[0];
                }).join(""));
                return e3;
              }],
              o: [""],
              S: [""]
            }, y = {
              isoDate: "yyyy-mm-dd",
              isoTime: "HH:MM:ss",
              isoDateTime: "yyyy-mm-dd'T'HH:MM:ss",
              isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"
            };
            function k(e3) {
              var t3 = this.getHours();
              e3.toLowerCase().includes("p") ? this.setHours(t3 + 12) : e3.toLowerCase().includes("a") && t3 >= 12 && this.setHours(t3 - 12);
            }
            function b() {
              var e3 = this.getHours();
              return (e3 = e3 || 12) >= 12 ? "PM" : "AM";
            }
            function x(e3) {
              var t3 = new RegExp("\\d+$").exec(e3[0]);
              if (t3 && void 0 !== t3[0]) {
                var i3 = g[e3[0][0] + "x"].slice("");
                return i3[0] = i3[0](t3[0]), i3[3] = i3[3](t3[0]), i3;
              }
              if (g[e3[0]])
                return g[e3[0]];
            }
            function P(e3) {
              if (!e3.tokenizer) {
                var t3 = [], i3 = [];
                for (var n3 in g)
                  if (/\.*x$/.test(n3)) {
                    var a2 = n3[0] + "\\d+";
                    -1 === i3.indexOf(a2) && i3.push(a2);
                  } else
                    -1 === t3.indexOf(n3[0]) && t3.push(n3[0]);
                e3.tokenizer = "(" + (i3.length > 0 ? i3.join("|") + "|" : "") + t3.join("+|") + ")+?|.", e3.tokenizer = new RegExp(e3.tokenizer, "g");
              }
              return e3.tokenizer;
            }
            function w(e3, t3, i3) {
              if (!m)
                return true;
              if (void 0 === e3.rawday || !isFinite(e3.rawday) && new Date(e3.date.getFullYear(), isFinite(e3.rawmonth) ? e3.month : e3.date.getMonth() + 1, 0).getDate() >= e3.day || "29" == e3.day && (!isFinite(e3.rawyear) || void 0 === e3.rawyear || "" === e3.rawyear) || new Date(e3.date.getFullYear(), isFinite(e3.rawmonth) ? e3.month : e3.date.getMonth() + 1, 0).getDate() >= e3.day)
                return t3;
              if ("29" == e3.day) {
                var n3 = E(t3.pos, i3);
                if ("yyyy" === n3.targetMatch[0] && t3.pos - n3.targetMatchIndex == 2)
                  return t3.remove = t3.pos + 1, t3;
              } else if ("02" == e3.month && "30" == e3.day && void 0 !== t3.c)
                return e3.day = "03", e3.date.setDate(3), e3.date.setMonth(1), t3.insert = [{
                  pos: t3.pos,
                  c: "0"
                }, {
                  pos: t3.pos + 1,
                  c: t3.c
                }], t3.caret = o.seekNext.call(this, t3.pos + 1), t3;
              return false;
            }
            function S(e3, t3, i3, n3) {
              var a2, o2, s2 = "";
              for (P(i3).lastIndex = 0; a2 = P(i3).exec(e3); ) {
                if (void 0 === t3)
                  if (o2 = x(a2))
                    s2 += "(" + o2[0] + ")";
                  else
                    switch (a2[0]) {
                      case "[":
                        s2 += "(";
                        break;
                      case "]":
                        s2 += ")?";
                        break;
                      default:
                        s2 += (0, r.default)(a2[0]);
                    }
                else if (o2 = x(a2))
                  if (true !== n3 && o2[3])
                    s2 += o2[3].call(t3.date);
                  else
                    o2[2] ? s2 += t3["raw" + o2[2]] : s2 += a2[0];
                else
                  s2 += a2[0];
              }
              return s2;
            }
            function M(e3, t3, i3) {
              for (e3 = String(e3), t3 = t3 || 2; e3.length < t3; )
                e3 = i3 ? e3 + "0" : "0" + e3;
              return e3;
            }
            function _(e3, t3, i3) {
              return "string" == typeof e3 ? new h(e3, t3, i3) : e3 && "object" === u(e3) && Object.prototype.hasOwnProperty.call(e3, "date") ? e3 : void 0;
            }
            function O(e3, t3) {
              return S(t3.inputFormat, {
                date: e3
              }, t3);
            }
            function E(e3, t3) {
              var i3, n3, a2 = 0, r2 = 0;
              for (P(t3).lastIndex = 0; n3 = P(t3).exec(t3.inputFormat); ) {
                var o2 = new RegExp("\\d+$").exec(n3[0]);
                if ((a2 += r2 = o2 ? parseInt(o2[0]) : n3[0].length) >= e3 + 1) {
                  i3 = n3, n3 = P(t3).exec(t3.inputFormat);
                  break;
                }
              }
              return {
                targetMatchIndex: a2 - r2,
                nextMatch: n3,
                targetMatch: i3
              };
            }
            n2.default.extendAliases({
              datetime: {
                mask: function(e3) {
                  return e3.numericInput = false, g.S = e3.i18n.ordinalSuffix.join("|"), e3.inputFormat = y[e3.inputFormat] || e3.inputFormat, e3.displayFormat = y[e3.displayFormat] || e3.displayFormat || e3.inputFormat, e3.outputFormat = y[e3.outputFormat] || e3.outputFormat || e3.inputFormat, e3.placeholder = "" !== e3.placeholder ? e3.placeholder : e3.inputFormat.replace(/[[\]]/, ""), e3.regex = S(e3.inputFormat, void 0, e3), e3.min = _(e3.min, e3.inputFormat, e3), e3.max = _(e3.max, e3.inputFormat, e3), null;
                },
                placeholder: "",
                inputFormat: "isoDateTime",
                displayFormat: null,
                outputFormat: null,
                min: null,
                max: null,
                skipOptionalPartCharacter: "",
                i18n: {
                  dayNames: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
                  monthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                  ordinalSuffix: ["st", "nd", "rd", "th"]
                },
                preValidation: function(e3, t3, i3, n3, a2, r2, o2, s2) {
                  if (s2)
                    return true;
                  if (isNaN(i3) && e3[t3] !== i3) {
                    var l2 = E(t3, a2);
                    if (l2.nextMatch && l2.nextMatch[0] === i3 && l2.targetMatch[0].length > 1) {
                      var c2 = g[l2.targetMatch[0]][0];
                      if (new RegExp(c2).test("0" + e3[t3 - 1]))
                        return e3[t3] = e3[t3 - 1], e3[t3 - 1] = "0", {
                          fuzzy: true,
                          buffer: e3,
                          refreshFromBuffer: {
                            start: t3 - 1,
                            end: t3 + 1
                          },
                          pos: t3 + 1
                        };
                    }
                  }
                  return true;
                },
                postValidation: function(e3, t3, i3, n3, a2, r2, o2, l2) {
                  var c2, u2;
                  if (o2)
                    return true;
                  if (false === n3 && (((c2 = E(t3 + 1, a2)).targetMatch && c2.targetMatchIndex === t3 && c2.targetMatch[0].length > 1 && void 0 !== g[c2.targetMatch[0]] || (c2 = E(t3 + 2, a2)).targetMatch && c2.targetMatchIndex === t3 + 1 && c2.targetMatch[0].length > 1 && void 0 !== g[c2.targetMatch[0]]) && (u2 = g[c2.targetMatch[0]][0]), void 0 !== u2 && (void 0 !== r2.validPositions[t3 + 1] && new RegExp(u2).test(i3 + "0") ? (e3[t3] = i3, e3[t3 + 1] = "0", n3 = {
                    pos: t3 + 2,
                    caret: t3
                  }) : new RegExp(u2).test("0" + i3) && (e3[t3] = "0", e3[t3 + 1] = i3, n3 = {
                    pos: t3 + 2
                  })), false === n3))
                    return n3;
                  if (n3.fuzzy && (e3 = n3.buffer, t3 = n3.pos), (c2 = E(t3, a2)).targetMatch && c2.targetMatch[0] && void 0 !== g[c2.targetMatch[0]]) {
                    var f2 = g[c2.targetMatch[0]];
                    u2 = f2[0];
                    var d2 = e3.slice(c2.targetMatchIndex, c2.targetMatchIndex + c2.targetMatch[0].length);
                    if (false === new RegExp(u2).test(d2.join("")) && 2 === c2.targetMatch[0].length && r2.validPositions[c2.targetMatchIndex] && r2.validPositions[c2.targetMatchIndex + 1] && (r2.validPositions[c2.targetMatchIndex + 1].input = "0"), "year" == f2[2])
                      for (var p2 = s.getMaskTemplate.call(this, false, 1, void 0, true), h2 = t3 + 1; h2 < e3.length; h2++)
                        e3[h2] = p2[h2], delete r2.validPositions[h2];
                  }
                  var m2 = n3, y2 = _(e3.join(""), a2.inputFormat, a2);
                  return m2 && !isNaN(y2.date.getTime()) && (a2.prefillYear && (m2 = function(e4, t4, i4) {
                    if (e4.year !== e4.rawyear) {
                      var n4 = v.toString(), a3 = e4.rawyear.replace(/[^0-9]/g, ""), r3 = n4.slice(0, a3.length), o3 = n4.slice(a3.length);
                      if (2 === a3.length && a3 === r3) {
                        var s2 = new Date(v, e4.month - 1, e4.day);
                        e4.day == s2.getDate() && (!i4.max || i4.max.date.getTime() >= s2.getTime()) && (e4.date.setFullYear(v), e4.year = n4, t4.insert = [{
                          pos: t4.pos + 1,
                          c: o3[0]
                        }, {
                          pos: t4.pos + 2,
                          c: o3[1]
                        }]);
                      }
                    }
                    return t4;
                  }(y2, m2, a2)), m2 = function(e4, t4, i4, n4, a3) {
                    if (!t4)
                      return t4;
                    if (t4 && i4.min && !isNaN(i4.min.date.getTime())) {
                      var r3;
                      for (e4.reset(), P(i4).lastIndex = 0; r3 = P(i4).exec(i4.inputFormat); ) {
                        var o3;
                        if ((o3 = x(r3)) && o3[3]) {
                          for (var s2 = o3[1], l3 = e4[o3[2]], c3 = i4.min[o3[2]], u3 = i4.max ? i4.max[o3[2]] : c3, f3 = [], d3 = false, p3 = 0; p3 < c3.length; p3++)
                            void 0 !== n4.validPositions[p3 + r3.index] || d3 ? (f3[p3] = l3[p3], d3 = d3 || l3[p3] > c3[p3]) : (f3[p3] = c3[p3], "year" === o3[2] && l3.length - 1 == p3 && c3 != u3 && (f3 = (parseInt(f3.join("")) + 1).toString().split("")), "ampm" === o3[2] && c3 != u3 && i4.min.date.getTime() > e4.date.getTime() && (f3[p3] = u3[p3]));
                          s2.call(e4._date, f3.join(""));
                        }
                      }
                      t4 = i4.min.date.getTime() <= e4.date.getTime(), e4.reInit();
                    }
                    return t4 && i4.max && (isNaN(i4.max.date.getTime()) || (t4 = i4.max.date.getTime() >= e4.date.getTime())), t4;
                  }(y2, m2 = w.call(this, y2, m2, a2), a2, r2)), void 0 !== t3 && m2 && n3.pos !== t3 ? {
                    buffer: S(a2.inputFormat, y2, a2).split(""),
                    refreshFromBuffer: {
                      start: t3,
                      end: n3.pos
                    },
                    pos: n3.caret || n3.pos
                  } : m2;
                },
                onKeyDown: function(e3, t3, i3, n3) {
                  e3.ctrlKey && e3.key === a.keys.ArrowRight && (this.inputmask._valueSet(O(/* @__PURE__ */ new Date(), n3)), p(this).trigger("setvalue"));
                },
                onUnMask: function(e3, t3, i3) {
                  return t3 ? S(i3.outputFormat, _(e3, i3.inputFormat, i3), i3, true) : t3;
                },
                casing: function(e3, t3, i3, n3) {
                  return 0 == t3.nativeDef.indexOf("[ap]") ? e3.toLowerCase() : 0 == t3.nativeDef.indexOf("[AP]") ? e3.toUpperCase() : e3;
                },
                onBeforeMask: function(e3, t3) {
                  return "[object Date]" === Object.prototype.toString.call(e3) && (e3 = O(e3, t3)), e3;
                },
                insertMode: false,
                insertModeVisual: false,
                shiftPositions: false,
                keepStatic: false,
                inputmode: "numeric",
                prefillYear: true
              }
            });
          },
          3851: function(e2, t2, i2) {
            var n2, a = (n2 = i2(2394)) && n2.__esModule ? n2 : {
              default: n2
            }, r = i2(8711), o = i2(4713);
            a.default.extendDefinitions({
              A: {
                validator: "[A-Za-z\u0410-\u044F\u0401\u0451\xC0-\xFF\xB5]",
                casing: "upper"
              },
              "&": {
                validator: "[0-9A-Za-z\u0410-\u044F\u0401\u0451\xC0-\xFF\xB5]",
                casing: "upper"
              },
              "#": {
                validator: "[0-9A-Fa-f]",
                casing: "upper"
              }
            });
            var s = new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");
            function l(e3, t3, i3, n3, a2) {
              return i3 - 1 > -1 && "." !== t3.buffer[i3 - 1] ? (e3 = t3.buffer[i3 - 1] + e3, e3 = i3 - 2 > -1 && "." !== t3.buffer[i3 - 2] ? t3.buffer[i3 - 2] + e3 : "0" + e3) : e3 = "00" + e3, s.test(e3);
            }
            a.default.extendAliases({
              cssunit: {
                regex: "[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"
              },
              url: {
                regex: "(https?|ftp)://.*",
                autoUnmask: false,
                keepStatic: false,
                tabThrough: true
              },
              ip: {
                mask: "i{1,3}.j{1,3}.k{1,3}.l{1,3}",
                definitions: {
                  i: {
                    validator: l
                  },
                  j: {
                    validator: l
                  },
                  k: {
                    validator: l
                  },
                  l: {
                    validator: l
                  }
                },
                onUnMask: function(e3, t3, i3) {
                  return e3;
                },
                inputmode: "decimal",
                substitutes: {
                  ",": "."
                }
              },
              email: {
                mask: function(e3) {
                  var t3 = e3.separator, i3 = e3.quantifier, n3 = "*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]", a2 = n3;
                  if (t3)
                    for (var r2 = 0; r2 < i3; r2++)
                      a2 += "[".concat(t3).concat(n3, "]");
                  return a2;
                },
                greedy: false,
                casing: "lower",
                separator: null,
                quantifier: 5,
                skipOptionalPartCharacter: "",
                onBeforePaste: function(e3, t3) {
                  return (e3 = e3.toLowerCase()).replace("mailto:", "");
                },
                definitions: {
                  "*": {
                    validator: "[0-9\uFF11-\uFF19A-Za-z\u0410-\u044F\u0401\u0451\xC0-\xFF\xB5!#$%&'*+/=?^_`{|}~-]"
                  },
                  "-": {
                    validator: "[0-9A-Za-z-]"
                  }
                },
                onUnMask: function(e3, t3, i3) {
                  return e3;
                },
                inputmode: "email"
              },
              mac: {
                mask: "##:##:##:##:##:##"
              },
              vin: {
                mask: "V{13}9{4}",
                definitions: {
                  V: {
                    validator: "[A-HJ-NPR-Za-hj-npr-z\\d]",
                    casing: "upper"
                  }
                },
                clearIncomplete: true,
                autoUnmask: true
              },
              ssn: {
                mask: "999-99-9999",
                postValidation: function(e3, t3, i3, n3, a2, s2, l2) {
                  var c = o.getMaskTemplate.call(this, true, r.getLastValidPosition.call(this), true, true);
                  return /^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(c.join(""));
                }
              }
            });
          },
          207: function(e2, t2, i2) {
            var n2 = s(i2(2394)), a = s(i2(7184)), r = i2(8711), o = i2(2839);
            function s(e3) {
              return e3 && e3.__esModule ? e3 : {
                default: e3
              };
            }
            var l = n2.default.dependencyLib;
            function c(e3, t3) {
              for (var i3 = "", a2 = 0; a2 < e3.length; a2++)
                n2.default.prototype.definitions[e3.charAt(a2)] || t3.definitions[e3.charAt(a2)] || t3.optionalmarker[0] === e3.charAt(a2) || t3.optionalmarker[1] === e3.charAt(a2) || t3.quantifiermarker[0] === e3.charAt(a2) || t3.quantifiermarker[1] === e3.charAt(a2) || t3.groupmarker[0] === e3.charAt(a2) || t3.groupmarker[1] === e3.charAt(a2) || t3.alternatormarker === e3.charAt(a2) ? i3 += "\\" + e3.charAt(a2) : i3 += e3.charAt(a2);
              return i3;
            }
            function u(e3, t3, i3, n3) {
              if (e3.length > 0 && t3 > 0 && (!i3.digitsOptional || n3)) {
                var a2 = e3.indexOf(i3.radixPoint), r2 = false;
                i3.negationSymbol.back === e3[e3.length - 1] && (r2 = true, e3.length--), -1 === a2 && (e3.push(i3.radixPoint), a2 = e3.length - 1);
                for (var o2 = 1; o2 <= t3; o2++)
                  isFinite(e3[a2 + o2]) || (e3[a2 + o2] = "0");
              }
              return r2 && e3.push(i3.negationSymbol.back), e3;
            }
            function f(e3, t3) {
              var i3 = 0;
              for (var n3 in "+" === e3 && (i3 = r.seekNext.call(this, t3.validPositions.length - 1)), t3.tests)
                if ((n3 = parseInt(n3)) >= i3) {
                  for (var a2 = 0, o2 = t3.tests[n3].length; a2 < o2; a2++)
                    if ((void 0 === t3.validPositions[n3] || "-" === e3) && t3.tests[n3][a2].match.def === e3)
                      return n3 + (void 0 !== t3.validPositions[n3] && "-" !== e3 ? 1 : 0);
                }
              return i3;
            }
            function d(e3, t3) {
              for (var i3 = -1, n3 = 0, a2 = t3.validPositions.length; n3 < a2; n3++) {
                var r2 = t3.validPositions[n3];
                if (r2 && r2.match.def === e3) {
                  i3 = n3;
                  break;
                }
              }
              return i3;
            }
            function p(e3, t3, i3, n3, a2) {
              var r2 = t3.buffer ? t3.buffer.indexOf(a2.radixPoint) : -1, o2 = (-1 !== r2 || n3 && a2.jitMasking) && new RegExp(a2.definitions[9].validator).test(e3);
              return a2._radixDance && -1 !== r2 && o2 && null == t3.validPositions[r2] ? {
                insert: {
                  pos: r2 === i3 ? r2 + 1 : r2,
                  c: a2.radixPoint
                },
                pos: i3
              } : o2;
            }
            n2.default.extendAliases({
              numeric: {
                mask: function(e3) {
                  e3.repeat = 0, e3.groupSeparator === e3.radixPoint && e3.digits && "0" !== e3.digits && ("." === e3.radixPoint ? e3.groupSeparator = "," : "," === e3.radixPoint ? e3.groupSeparator = "." : e3.groupSeparator = ""), " " === e3.groupSeparator && (e3.skipOptionalPartCharacter = void 0), e3.placeholder.length > 1 && (e3.placeholder = e3.placeholder.charAt(0)), "radixFocus" === e3.positionCaretOnClick && "" === e3.placeholder && (e3.positionCaretOnClick = "lvp");
                  var t3 = "0", i3 = e3.radixPoint;
                  true === e3.numericInput && void 0 === e3.__financeInput ? (t3 = "1", e3.positionCaretOnClick = "radixFocus" === e3.positionCaretOnClick ? "lvp" : e3.positionCaretOnClick, e3.digitsOptional = false, isNaN(e3.digits) && (e3.digits = 2), e3._radixDance = false, i3 = "," === e3.radixPoint ? "?" : "!", "" !== e3.radixPoint && void 0 === e3.definitions[i3] && (e3.definitions[i3] = {}, e3.definitions[i3].validator = "[" + e3.radixPoint + "]", e3.definitions[i3].placeholder = e3.radixPoint, e3.definitions[i3].static = true, e3.definitions[i3].generated = true)) : (e3.__financeInput = false, e3.numericInput = true);
                  var n3, r2 = "[+]";
                  if (r2 += c(e3.prefix, e3), "" !== e3.groupSeparator ? (void 0 === e3.definitions[e3.groupSeparator] && (e3.definitions[e3.groupSeparator] = {}, e3.definitions[e3.groupSeparator].validator = "[" + e3.groupSeparator + "]", e3.definitions[e3.groupSeparator].placeholder = e3.groupSeparator, e3.definitions[e3.groupSeparator].static = true, e3.definitions[e3.groupSeparator].generated = true), r2 += e3._mask(e3)) : r2 += "9{+}", void 0 !== e3.digits && 0 !== e3.digits) {
                    var o2 = e3.digits.toString().split(",");
                    isFinite(o2[0]) && o2[1] && isFinite(o2[1]) ? r2 += i3 + t3 + "{" + e3.digits + "}" : (isNaN(e3.digits) || parseInt(e3.digits) > 0) && (e3.digitsOptional || e3.jitMasking ? (n3 = r2 + i3 + t3 + "{0," + e3.digits + "}", e3.keepStatic = true) : r2 += i3 + t3 + "{" + e3.digits + "}");
                  } else
                    e3.inputmode = "numeric";
                  return r2 += c(e3.suffix, e3), r2 += "[-]", n3 && (r2 = [n3 + c(e3.suffix, e3) + "[-]", r2]), e3.greedy = false, function(e4) {
                    void 0 === e4.parseMinMaxOptions && (null !== e4.min && (e4.min = e4.min.toString().replace(new RegExp((0, a.default)(e4.groupSeparator), "g"), ""), "," === e4.radixPoint && (e4.min = e4.min.replace(e4.radixPoint, ".")), e4.min = isFinite(e4.min) ? parseFloat(e4.min) : NaN, isNaN(e4.min) && (e4.min = Number.MIN_VALUE)), null !== e4.max && (e4.max = e4.max.toString().replace(new RegExp((0, a.default)(e4.groupSeparator), "g"), ""), "," === e4.radixPoint && (e4.max = e4.max.replace(e4.radixPoint, ".")), e4.max = isFinite(e4.max) ? parseFloat(e4.max) : NaN, isNaN(e4.max) && (e4.max = Number.MAX_VALUE)), e4.parseMinMaxOptions = "done");
                  }(e3), "" !== e3.radixPoint && e3.substituteRadixPoint && (e3.substitutes["." == e3.radixPoint ? "," : "."] = e3.radixPoint), r2;
                },
                _mask: function(e3) {
                  return "(" + e3.groupSeparator + "999){+|1}";
                },
                digits: "*",
                digitsOptional: true,
                enforceDigitsOnBlur: false,
                radixPoint: ".",
                positionCaretOnClick: "radixFocus",
                _radixDance: true,
                groupSeparator: "",
                allowMinus: true,
                negationSymbol: {
                  front: "-",
                  back: ""
                },
                prefix: "",
                suffix: "",
                min: null,
                max: null,
                SetMaxOnOverflow: false,
                step: 1,
                inputType: "text",
                unmaskAsNumber: false,
                roundingFN: Math.round,
                inputmode: "decimal",
                shortcuts: {
                  k: "1000",
                  m: "1000000"
                },
                placeholder: "0",
                greedy: false,
                rightAlign: true,
                insertMode: true,
                autoUnmask: false,
                skipOptionalPartCharacter: "",
                usePrototypeDefinitions: false,
                stripLeadingZeroes: true,
                substituteRadixPoint: true,
                definitions: {
                  0: {
                    validator: p
                  },
                  1: {
                    validator: p,
                    definitionSymbol: "9"
                  },
                  9: {
                    validator: "[0-9\uFF10-\uFF19\u0660-\u0669\u06F0-\u06F9]",
                    definitionSymbol: "*"
                  },
                  "+": {
                    validator: function(e3, t3, i3, n3, a2) {
                      return a2.allowMinus && ("-" === e3 || e3 === a2.negationSymbol.front);
                    }
                  },
                  "-": {
                    validator: function(e3, t3, i3, n3, a2) {
                      return a2.allowMinus && e3 === a2.negationSymbol.back;
                    }
                  }
                },
                preValidation: function(e3, t3, i3, n3, a2, r2, o2, s2) {
                  if (false !== a2.__financeInput && i3 === a2.radixPoint)
                    return false;
                  var l2 = e3.indexOf(a2.radixPoint), c2 = t3;
                  if (t3 = function(e4, t4, i4, n4, a3) {
                    return a3._radixDance && a3.numericInput && t4 !== a3.negationSymbol.back && e4 <= i4 && (i4 > 0 || t4 == a3.radixPoint) && (void 0 === n4.validPositions[e4 - 1] || n4.validPositions[e4 - 1].input !== a3.negationSymbol.back) && (e4 -= 1), e4;
                  }(t3, i3, l2, r2, a2), "-" === i3 || i3 === a2.negationSymbol.front) {
                    if (true !== a2.allowMinus)
                      return false;
                    var u2 = false, p2 = d("+", r2), h = d("-", r2);
                    return -1 !== p2 && (u2 = [p2, h]), false !== u2 ? {
                      remove: u2,
                      caret: c2 - a2.negationSymbol.back.length
                    } : {
                      insert: [{
                        pos: f.call(this, "+", r2),
                        c: a2.negationSymbol.front,
                        fromIsValid: true
                      }, {
                        pos: f.call(this, "-", r2),
                        c: a2.negationSymbol.back,
                        fromIsValid: void 0
                      }],
                      caret: c2 + a2.negationSymbol.back.length
                    };
                  }
                  if (i3 === a2.groupSeparator)
                    return {
                      caret: c2
                    };
                  if (s2)
                    return true;
                  if (-1 !== l2 && true === a2._radixDance && false === n3 && i3 === a2.radixPoint && void 0 !== a2.digits && (isNaN(a2.digits) || parseInt(a2.digits) > 0) && l2 !== t3)
                    return {
                      caret: a2._radixDance && t3 === l2 - 1 ? l2 + 1 : l2
                    };
                  if (false === a2.__financeInput) {
                    if (n3) {
                      if (a2.digitsOptional)
                        return {
                          rewritePosition: o2.end
                        };
                      if (!a2.digitsOptional) {
                        if (o2.begin > l2 && o2.end <= l2)
                          return i3 === a2.radixPoint ? {
                            insert: {
                              pos: l2 + 1,
                              c: "0",
                              fromIsValid: true
                            },
                            rewritePosition: l2
                          } : {
                            rewritePosition: l2 + 1
                          };
                        if (o2.begin < l2)
                          return {
                            rewritePosition: o2.begin - 1
                          };
                      }
                    } else if (!a2.showMaskOnHover && !a2.showMaskOnFocus && !a2.digitsOptional && a2.digits > 0 && "" === this.__valueGet.call(this.el))
                      return {
                        rewritePosition: l2
                      };
                  }
                  return {
                    rewritePosition: t3
                  };
                },
                postValidation: function(e3, t3, i3, n3, a2, r2, o2) {
                  if (false === n3)
                    return n3;
                  if (o2)
                    return true;
                  if (null !== a2.min || null !== a2.max) {
                    var s2 = a2.onUnMask(e3.slice().reverse().join(""), void 0, l.extend({}, a2, {
                      unmaskAsNumber: true
                    }));
                    if (null !== a2.min && s2 < a2.min && (s2.toString().length > a2.min.toString().length || s2 < 0))
                      return false;
                    if (null !== a2.max && s2 > a2.max)
                      return !!a2.SetMaxOnOverflow && {
                        refreshFromBuffer: true,
                        buffer: u(a2.max.toString().replace(".", a2.radixPoint).split(""), a2.digits, a2).reverse()
                      };
                  }
                  return n3;
                },
                onUnMask: function(e3, t3, i3) {
                  if ("" === t3 && true === i3.nullable)
                    return t3;
                  var n3 = e3.replace(i3.prefix, "");
                  return n3 = (n3 = n3.replace(i3.suffix, "")).replace(new RegExp((0, a.default)(i3.groupSeparator), "g"), ""), "" !== i3.placeholder.charAt(0) && (n3 = n3.replace(new RegExp(i3.placeholder.charAt(0), "g"), "0")), i3.unmaskAsNumber ? ("" !== i3.radixPoint && -1 !== n3.indexOf(i3.radixPoint) && (n3 = n3.replace(a.default.call(this, i3.radixPoint), ".")), n3 = (n3 = n3.replace(new RegExp("^" + (0, a.default)(i3.negationSymbol.front)), "-")).replace(new RegExp((0, a.default)(i3.negationSymbol.back) + "$"), ""), Number(n3)) : n3;
                },
                isComplete: function(e3, t3) {
                  var i3 = (t3.numericInput ? e3.slice().reverse() : e3).join("");
                  return i3 = (i3 = (i3 = (i3 = (i3 = i3.replace(new RegExp("^" + (0, a.default)(t3.negationSymbol.front)), "-")).replace(new RegExp((0, a.default)(t3.negationSymbol.back) + "$"), "")).replace(t3.prefix, "")).replace(t3.suffix, "")).replace(new RegExp((0, a.default)(t3.groupSeparator) + "([0-9]{3})", "g"), "$1"), "," === t3.radixPoint && (i3 = i3.replace((0, a.default)(t3.radixPoint), ".")), isFinite(i3);
                },
                onBeforeMask: function(e3, t3) {
                  var i3 = t3.radixPoint || ",";
                  isFinite(t3.digits) && (t3.digits = parseInt(t3.digits)), "number" != typeof e3 && "number" !== t3.inputType || "" === i3 || (e3 = e3.toString().replace(".", i3));
                  var n3 = "-" === e3.charAt(0) || e3.charAt(0) === t3.negationSymbol.front, r2 = e3.split(i3), o2 = r2[0].replace(/[^\-0-9]/g, ""), s2 = r2.length > 1 ? r2[1].replace(/[^0-9]/g, "") : "", l2 = r2.length > 1;
                  e3 = o2 + ("" !== s2 ? i3 + s2 : s2);
                  var c2 = 0;
                  if ("" !== i3 && (c2 = t3.digitsOptional ? t3.digits < s2.length ? t3.digits : s2.length : t3.digits, "" !== s2 || !t3.digitsOptional)) {
                    var f2 = Math.pow(10, c2 || 1);
                    e3 = e3.replace((0, a.default)(i3), "."), isNaN(parseFloat(e3)) || (e3 = (t3.roundingFN(parseFloat(e3) * f2) / f2).toFixed(c2)), e3 = e3.toString().replace(".", i3);
                  }
                  if (0 === t3.digits && -1 !== e3.indexOf(i3) && (e3 = e3.substring(0, e3.indexOf(i3))), null !== t3.min || null !== t3.max) {
                    var d2 = e3.toString().replace(i3, ".");
                    null !== t3.min && d2 < t3.min ? e3 = t3.min.toString().replace(".", i3) : null !== t3.max && d2 > t3.max && (e3 = t3.max.toString().replace(".", i3));
                  }
                  return n3 && "-" !== e3.charAt(0) && (e3 = "-" + e3), u(e3.toString().split(""), c2, t3, l2).join("");
                },
                onBeforeWrite: function(e3, t3, i3, n3) {
                  function r2(e4, t4) {
                    if (false !== n3.__financeInput || t4) {
                      var i4 = e4.indexOf(n3.radixPoint);
                      -1 !== i4 && e4.splice(i4, 1);
                    }
                    if ("" !== n3.groupSeparator)
                      for (; -1 !== (i4 = e4.indexOf(n3.groupSeparator)); )
                        e4.splice(i4, 1);
                    return e4;
                  }
                  var o2, s2;
                  if (n3.stripLeadingZeroes && (s2 = function(e4, t4) {
                    var i4 = new RegExp("(^" + ("" !== t4.negationSymbol.front ? (0, a.default)(t4.negationSymbol.front) + "?" : "") + (0, a.default)(t4.prefix) + ")(.*)(" + (0, a.default)(t4.suffix) + ("" != t4.negationSymbol.back ? (0, a.default)(t4.negationSymbol.back) + "?" : "") + "$)").exec(e4.slice().reverse().join("")), n4 = i4 ? i4[2] : "", r3 = false;
                    return n4 && (n4 = n4.split(t4.radixPoint.charAt(0))[0], r3 = new RegExp("^[0" + t4.groupSeparator + "]*").exec(n4)), !(!r3 || !(r3[0].length > 1 || r3[0].length > 0 && r3[0].length < n4.length)) && r3;
                  }(t3, n3)))
                    for (var c2 = t3.join("").lastIndexOf(s2[0].split("").reverse().join("")) - (s2[0] == s2.input ? 0 : 1), f2 = s2[0] == s2.input ? 1 : 0, d2 = s2[0].length - f2; d2 > 0; d2--)
                      delete this.maskset.validPositions[c2 + d2], delete t3[c2 + d2];
                  if (e3)
                    switch (e3.type) {
                      case "blur":
                      case "checkval":
                        if (null !== n3.min) {
                          var p2 = n3.onUnMask(t3.slice().reverse().join(""), void 0, l.extend({}, n3, {
                            unmaskAsNumber: true
                          }));
                          if (null !== n3.min && p2 < n3.min)
                            return {
                              refreshFromBuffer: true,
                              buffer: u(n3.min.toString().replace(".", n3.radixPoint).split(""), n3.digits, n3).reverse()
                            };
                        }
                        if (t3[t3.length - 1] === n3.negationSymbol.front) {
                          var h = new RegExp("(^" + ("" != n3.negationSymbol.front ? (0, a.default)(n3.negationSymbol.front) + "?" : "") + (0, a.default)(n3.prefix) + ")(.*)(" + (0, a.default)(n3.suffix) + ("" != n3.negationSymbol.back ? (0, a.default)(n3.negationSymbol.back) + "?" : "") + "$)").exec(r2(t3.slice(), true).reverse().join(""));
                          0 == (h ? h[2] : "") && (o2 = {
                            refreshFromBuffer: true,
                            buffer: [0]
                          });
                        } else if ("" !== n3.radixPoint) {
                          t3.indexOf(n3.radixPoint) === n3.suffix.length && (o2 && o2.buffer ? o2.buffer.splice(0, 1 + n3.suffix.length) : (t3.splice(0, 1 + n3.suffix.length), o2 = {
                            refreshFromBuffer: true,
                            buffer: r2(t3)
                          }));
                        }
                        if (n3.enforceDigitsOnBlur) {
                          var v = (o2 = o2 || {}) && o2.buffer || t3.slice().reverse();
                          o2.refreshFromBuffer = true, o2.buffer = u(v, n3.digits, n3, true).reverse();
                        }
                    }
                  return o2;
                },
                onKeyDown: function(e3, t3, i3, n3) {
                  var a2, r2 = l(this);
                  if (3 != e3.location) {
                    var s2, c2 = e3.key;
                    if ((s2 = n3.shortcuts && n3.shortcuts[c2]) && s2.length > 1)
                      return this.inputmask.__valueSet.call(this, parseFloat(this.inputmask.unmaskedvalue()) * parseInt(s2)), r2.trigger("setvalue"), false;
                  }
                  if (e3.ctrlKey)
                    switch (e3.key) {
                      case o.keys.ArrowUp:
                        return this.inputmask.__valueSet.call(this, parseFloat(this.inputmask.unmaskedvalue()) + parseInt(n3.step)), r2.trigger("setvalue"), false;
                      case o.keys.ArrowDown:
                        return this.inputmask.__valueSet.call(this, parseFloat(this.inputmask.unmaskedvalue()) - parseInt(n3.step)), r2.trigger("setvalue"), false;
                    }
                  if (!e3.shiftKey && (e3.key === o.keys.Delete || e3.key === o.keys.Backspace || e3.key === o.keys.BACKSPACE_SAFARI) && i3.begin !== t3.length) {
                    if (t3[e3.key === o.keys.Delete ? i3.begin - 1 : i3.end] === n3.negationSymbol.front)
                      return a2 = t3.slice().reverse(), "" !== n3.negationSymbol.front && a2.shift(), "" !== n3.negationSymbol.back && a2.pop(), r2.trigger("setvalue", [a2.join(""), i3.begin]), false;
                    if (true === n3._radixDance) {
                      var f2 = t3.indexOf(n3.radixPoint);
                      if (n3.digitsOptional) {
                        if (0 === f2)
                          return (a2 = t3.slice().reverse()).pop(), r2.trigger("setvalue", [a2.join(""), i3.begin >= a2.length ? a2.length : i3.begin]), false;
                      } else if (-1 !== f2 && (i3.begin < f2 || i3.end < f2 || e3.key === o.keys.Delete && (i3.begin === f2 || i3.begin - 1 === f2))) {
                        var d2 = void 0;
                        return i3.begin === i3.end && (e3.key === o.keys.Backspace || e3.key === o.keys.BACKSPACE_SAFARI ? i3.begin++ : e3.key === o.keys.Delete && i3.begin - 1 === f2 && (d2 = l.extend({}, i3), i3.begin--, i3.end--)), (a2 = t3.slice().reverse()).splice(a2.length - i3.begin, i3.begin - i3.end + 1), a2 = u(a2, n3.digits, n3).join(""), d2 && (i3 = d2), r2.trigger("setvalue", [a2, i3.begin >= a2.length ? f2 + 1 : i3.begin]), false;
                      }
                    }
                  }
                }
              },
              currency: {
                prefix: "",
                groupSeparator: ",",
                alias: "numeric",
                digits: 2,
                digitsOptional: false
              },
              decimal: {
                alias: "numeric"
              },
              integer: {
                alias: "numeric",
                inputmode: "numeric",
                digits: 0
              },
              percentage: {
                alias: "numeric",
                min: 0,
                max: 100,
                suffix: " %",
                digits: 0,
                allowMinus: false
              },
              indianns: {
                alias: "numeric",
                _mask: function(e3) {
                  return "(" + e3.groupSeparator + "99){*|1}(" + e3.groupSeparator + "999){1|1}";
                },
                groupSeparator: ",",
                radixPoint: ".",
                placeholder: "0",
                digits: 2,
                digitsOptional: false
              }
            });
          },
          9380: function(e2, t2, i2) {
            var n2;
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.default = void 0;
            var a = ((n2 = i2(8741)) && n2.__esModule ? n2 : {
              default: n2
            }).default ? window : {};
            t2.default = a;
          },
          7760: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.HandleNativePlaceholder = function(e3, t3) {
              var i3 = e3 ? e3.inputmask : this;
              if (s.ie) {
                if (e3.inputmask._valueGet() !== t3 && (e3.placeholder !== t3 || "" === e3.placeholder)) {
                  var n3 = r.getBuffer.call(i3).slice(), a2 = e3.inputmask._valueGet();
                  if (a2 !== t3) {
                    var o2 = r.getLastValidPosition.call(i3);
                    -1 === o2 && a2 === r.getBufferTemplate.call(i3).join("") ? n3 = [] : -1 !== o2 && u.call(i3, n3), d(e3, n3);
                  }
                }
              } else
                e3.placeholder !== t3 && (e3.placeholder = t3, "" === e3.placeholder && e3.removeAttribute("placeholder"));
            }, t2.applyInputValue = c, t2.checkVal = f, t2.clearOptionalTail = u, t2.unmaskedvalue = function(e3) {
              var t3 = e3 ? e3.inputmask : this, i3 = t3.opts, n3 = t3.maskset;
              if (e3) {
                if (void 0 === e3.inputmask)
                  return e3.value;
                e3.inputmask && e3.inputmask.refreshValue && c(e3, e3.inputmask._valueGet(true));
              }
              for (var a2 = [], o2 = n3.validPositions, s2 = 0, l2 = o2.length; s2 < l2; s2++)
                o2[s2] && o2[s2].match && (1 != o2[s2].match.static || Array.isArray(n3.metadata) && true !== o2[s2].generatedInput) && a2.push(o2[s2].input);
              var u2 = 0 === a2.length ? "" : (t3.isRTL ? a2.reverse() : a2).join("");
              if ("function" == typeof i3.onUnMask) {
                var f2 = (t3.isRTL ? r.getBuffer.call(t3).slice().reverse() : r.getBuffer.call(t3)).join("");
                u2 = i3.onUnMask.call(t3, f2, u2, i3);
              }
              return u2;
            }, t2.writeBuffer = d;
            var n2 = i2(2839), a = i2(4713), r = i2(8711), o = i2(7215), s = i2(9845), l = i2(6030);
            function c(e3, t3) {
              var i3 = e3 ? e3.inputmask : this, n3 = i3.opts;
              e3.inputmask.refreshValue = false, "function" == typeof n3.onBeforeMask && (t3 = n3.onBeforeMask.call(i3, t3, n3) || t3), f(e3, true, false, t3 = (t3 || "").toString().split("")), i3.undoValue = i3._valueGet(true), (n3.clearMaskOnLostFocus || n3.clearIncomplete) && e3.inputmask._valueGet() === r.getBufferTemplate.call(i3).join("") && -1 === r.getLastValidPosition.call(i3) && e3.inputmask._valueSet("");
            }
            function u(e3) {
              e3.length = 0;
              for (var t3, i3 = a.getMaskTemplate.call(this, true, 0, true, void 0, true); void 0 !== (t3 = i3.shift()); )
                e3.push(t3);
              return e3;
            }
            function f(e3, t3, i3, n3, s2) {
              var c2 = e3 ? e3.inputmask : this, u2 = c2.maskset, f2 = c2.opts, p = c2.dependencyLib, h = n3.slice(), v = "", m = -1, g = void 0, y = f2.skipOptionalPartCharacter;
              f2.skipOptionalPartCharacter = "", r.resetMaskSet.call(c2), u2.tests = {}, m = f2.radixPoint ? r.determineNewCaretPosition.call(c2, {
                begin: 0,
                end: 0
              }, false, false === f2.__financeInput ? "radixFocus" : void 0).begin : 0, u2.p = m, c2.caretPos = {
                begin: m
              };
              var k = [], b = c2.caretPos;
              if (h.forEach(function(e4, t4) {
                if (void 0 !== e4) {
                  var n4 = new p.Event("_checkval");
                  n4.key = e4, v += e4;
                  var o2 = r.getLastValidPosition.call(c2, void 0, true);
                  !function(e5, t5) {
                    for (var i4 = a.getMaskTemplate.call(c2, true, 0).slice(e5, r.seekNext.call(c2, e5, false, false)).join("").replace(/'/g, ""), n5 = i4.indexOf(t5); n5 > 0 && " " === i4[n5 - 1]; )
                      n5--;
                    var o3 = 0 === n5 && !r.isMask.call(c2, e5) && (a.getTest.call(c2, e5).match.nativeDef === t5.charAt(0) || true === a.getTest.call(c2, e5).match.static && a.getTest.call(c2, e5).match.nativeDef === "'" + t5.charAt(0) || " " === a.getTest.call(c2, e5).match.nativeDef && (a.getTest.call(c2, e5 + 1).match.nativeDef === t5.charAt(0) || true === a.getTest.call(c2, e5 + 1).match.static && a.getTest.call(c2, e5 + 1).match.nativeDef === "'" + t5.charAt(0)));
                    if (!o3 && n5 > 0 && !r.isMask.call(c2, e5, false, true)) {
                      var s3 = r.seekNext.call(c2, e5);
                      c2.caretPos.begin < s3 && (c2.caretPos = {
                        begin: s3
                      });
                    }
                    return o3;
                  }(m, v) ? (g = l.EventHandlers.keypressEvent.call(c2, n4, true, false, i3, c2.caretPos.begin)) && (m = c2.caretPos.begin + 1, v = "") : g = l.EventHandlers.keypressEvent.call(c2, n4, true, false, i3, o2 + 1), g ? (void 0 !== g.pos && u2.validPositions[g.pos] && true === u2.validPositions[g.pos].match.static && void 0 === u2.validPositions[g.pos].alternation && (k.push(g.pos), c2.isRTL || (g.forwardPosition = g.pos + 1)), d.call(c2, void 0, r.getBuffer.call(c2), g.forwardPosition, n4, false), c2.caretPos = {
                    begin: g.forwardPosition,
                    end: g.forwardPosition
                  }, b = c2.caretPos) : void 0 === u2.validPositions[t4] && h[t4] === a.getPlaceholder.call(c2, t4) && r.isMask.call(c2, t4, true) ? c2.caretPos.begin++ : c2.caretPos = b;
                }
              }), k.length > 0) {
                var x, P, w = r.seekNext.call(c2, -1, void 0, false);
                if (!o.isComplete.call(c2, r.getBuffer.call(c2)) && k.length <= w || o.isComplete.call(c2, r.getBuffer.call(c2)) && k.length > 0 && k.length !== w && 0 === k[0])
                  for (var S = w; void 0 !== (x = k.shift()); ) {
                    var M = new p.Event("_checkval");
                    if ((P = u2.validPositions[x]).generatedInput = true, M.key = P.input, (g = l.EventHandlers.keypressEvent.call(c2, M, true, false, i3, S)) && void 0 !== g.pos && g.pos !== x && u2.validPositions[g.pos] && true === u2.validPositions[g.pos].match.static)
                      k.push(g.pos);
                    else if (!g)
                      break;
                    S++;
                  }
              }
              t3 && d.call(c2, e3, r.getBuffer.call(c2), g ? g.forwardPosition : c2.caretPos.begin, s2 || new p.Event("checkval"), s2 && ("input" === s2.type && c2.undoValue !== r.getBuffer.call(c2).join("") || "paste" === s2.type)), f2.skipOptionalPartCharacter = y;
            }
            function d(e3, t3, i3, a2, s2) {
              var l2 = e3 ? e3.inputmask : this, c2 = l2.opts, u2 = l2.dependencyLib;
              if (a2 && "function" == typeof c2.onBeforeWrite) {
                var f2 = c2.onBeforeWrite.call(l2, a2, t3, i3, c2);
                if (f2) {
                  if (f2.refreshFromBuffer) {
                    var d2 = f2.refreshFromBuffer;
                    o.refreshFromBuffer.call(l2, true === d2 ? d2 : d2.start, d2.end, f2.buffer || t3), t3 = r.getBuffer.call(l2, true);
                  }
                  void 0 !== i3 && (i3 = void 0 !== f2.caret ? f2.caret : i3);
                }
              }
              if (void 0 !== e3 && (e3.inputmask._valueSet(t3.join("")), void 0 === i3 || void 0 !== a2 && "blur" === a2.type || r.caret.call(l2, e3, i3, void 0, void 0, void 0 !== a2 && "keydown" === a2.type && (a2.key === n2.keys.Delete || a2.key === n2.keys.Backspace)), true === s2)) {
                var p = u2(e3), h = e3.inputmask._valueGet();
                e3.inputmask.skipInputEvent = true, p.trigger("input"), setTimeout(function() {
                  h === r.getBufferTemplate.call(l2).join("") ? p.trigger("cleared") : true === o.isComplete.call(l2, t3) && p.trigger("complete");
                }, 0);
              }
            }
          },
          2394: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.default = void 0;
            var n2 = i2(157), a = m(i2(4963)), r = m(i2(9380)), o = i2(2391), s = i2(4713), l = i2(8711), c = i2(7215), u = i2(7760), f = i2(9716), d = m(i2(7392)), p = m(i2(3976)), h = m(i2(8741));
            function v(e3) {
              return v = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
                return typeof e4;
              } : function(e4) {
                return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
              }, v(e3);
            }
            function m(e3) {
              return e3 && e3.__esModule ? e3 : {
                default: e3
              };
            }
            var g = r.default.document, y = "_inputmask_opts";
            function k(e3, t3, i3) {
              if (h.default) {
                if (!(this instanceof k))
                  return new k(e3, t3, i3);
                this.dependencyLib = a.default, this.el = void 0, this.events = {}, this.maskset = void 0, true !== i3 && ("[object Object]" === Object.prototype.toString.call(e3) ? t3 = e3 : (t3 = t3 || {}, e3 && (t3.alias = e3)), this.opts = a.default.extend(true, {}, this.defaults, t3), this.noMasksCache = t3 && void 0 !== t3.definitions, this.userOptions = t3 || {}, b(this.opts.alias, t3, this.opts)), this.refreshValue = false, this.undoValue = void 0, this.$el = void 0, this.skipInputEvent = false, this.validationEvent = false, this.ignorable = false, this.maxLength, this.mouseEnter = false, this.clicked = 0, this.originalPlaceholder = void 0, this.isComposing = false, this.hasAlternator = false;
              }
            }
            function b(e3, t3, i3) {
              var n3 = k.prototype.aliases[e3];
              return n3 ? (n3.alias && b(n3.alias, void 0, i3), a.default.extend(true, i3, n3), a.default.extend(true, i3, t3), true) : (null === i3.mask && (i3.mask = e3), false);
            }
            k.prototype = {
              dataAttribute: "data-inputmask",
              defaults: p.default,
              definitions: d.default,
              aliases: {},
              masksCache: {},
              get isRTL() {
                return this.opts.isRTL || this.opts.numericInput;
              },
              mask: function(e3) {
                var t3 = this;
                return "string" == typeof e3 && (e3 = g.getElementById(e3) || g.querySelectorAll(e3)), (e3 = e3.nodeName ? [e3] : Array.isArray(e3) ? e3 : [].slice.call(e3)).forEach(function(e4, i3) {
                  var s2 = a.default.extend(true, {}, t3.opts);
                  if (function(e5, t4, i4, n3) {
                    function o2(t5, a2) {
                      var o3 = "" === n3 ? t5 : n3 + "-" + t5;
                      null !== (a2 = void 0 !== a2 ? a2 : e5.getAttribute(o3)) && ("string" == typeof a2 && (0 === t5.indexOf("on") ? a2 = r.default[a2] : "false" === a2 ? a2 = false : "true" === a2 && (a2 = true)), i4[t5] = a2);
                    }
                    if (true === t4.importDataAttributes) {
                      var s3, l3, c2, u2, f2 = e5.getAttribute(n3);
                      if (f2 && "" !== f2 && (f2 = f2.replace(/'/g, '"'), l3 = JSON.parse("{" + f2 + "}")), l3) {
                        for (u2 in c2 = void 0, l3)
                          if ("alias" === u2.toLowerCase()) {
                            c2 = l3[u2];
                            break;
                          }
                      }
                      for (s3 in o2("alias", c2), i4.alias && b(i4.alias, i4, t4), t4) {
                        if (l3) {
                          for (u2 in c2 = void 0, l3)
                            if (u2.toLowerCase() === s3.toLowerCase()) {
                              c2 = l3[u2];
                              break;
                            }
                        }
                        o2(s3, c2);
                      }
                    }
                    a.default.extend(true, t4, i4), ("rtl" === e5.dir || t4.rightAlign) && (e5.style.textAlign = "right");
                    ("rtl" === e5.dir || t4.numericInput) && (e5.dir = "ltr", e5.removeAttribute("dir"), t4.isRTL = true);
                    return Object.keys(i4).length;
                  }(e4, s2, a.default.extend(true, {}, t3.userOptions), t3.dataAttribute)) {
                    var l2 = (0, o.generateMaskSet)(s2, t3.noMasksCache);
                    void 0 !== l2 && (void 0 !== e4.inputmask && (e4.inputmask.opts.autoUnmask = true, e4.inputmask.remove()), e4.inputmask = new k(void 0, void 0, true), e4.inputmask.opts = s2, e4.inputmask.noMasksCache = t3.noMasksCache, e4.inputmask.userOptions = a.default.extend(true, {}, t3.userOptions), e4.inputmask.el = e4, e4.inputmask.$el = (0, a.default)(e4), e4.inputmask.maskset = l2, a.default.data(e4, y, t3.userOptions), n2.mask.call(e4.inputmask));
                  }
                }), e3 && e3[0] && e3[0].inputmask || this;
              },
              option: function(e3, t3) {
                return "string" == typeof e3 ? this.opts[e3] : "object" === v(e3) ? (a.default.extend(this.userOptions, e3), this.el && true !== t3 && this.mask(this.el), this) : void 0;
              },
              unmaskedvalue: function(e3) {
                if (this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache), void 0 === this.el || void 0 !== e3) {
                  var t3 = ("function" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e3, this.opts) || e3).split("");
                  u.checkVal.call(this, void 0, false, false, t3), "function" == typeof this.opts.onBeforeWrite && this.opts.onBeforeWrite.call(this, void 0, l.getBuffer.call(this), 0, this.opts);
                }
                return u.unmaskedvalue.call(this, this.el);
              },
              remove: function() {
                if (this.el) {
                  a.default.data(this.el, y, null);
                  var e3 = this.opts.autoUnmask ? (0, u.unmaskedvalue)(this.el) : this._valueGet(this.opts.autoUnmask);
                  e3 !== l.getBufferTemplate.call(this).join("") ? this._valueSet(e3, this.opts.autoUnmask) : this._valueSet(""), f.EventRuler.off(this.el), Object.getOwnPropertyDescriptor && Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el), "value") && this.__valueGet && Object.defineProperty(this.el, "value", {
                    get: this.__valueGet,
                    set: this.__valueSet,
                    configurable: true
                  }) : g.__lookupGetter__ && this.el.__lookupGetter__("value") && this.__valueGet && (this.el.__defineGetter__("value", this.__valueGet), this.el.__defineSetter__("value", this.__valueSet)), this.el.inputmask = void 0;
                }
                return this.el;
              },
              getemptymask: function() {
                return this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache), (this.isRTL ? l.getBufferTemplate.call(this).reverse() : l.getBufferTemplate.call(this)).join("");
              },
              hasMaskedValue: function() {
                return !this.opts.autoUnmask;
              },
              isComplete: function() {
                return this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache), c.isComplete.call(this, l.getBuffer.call(this));
              },
              getmetadata: function() {
                if (this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache), Array.isArray(this.maskset.metadata)) {
                  var e3 = s.getMaskTemplate.call(this, true, 0, false).join("");
                  return this.maskset.metadata.forEach(function(t3) {
                    return t3.mask !== e3 || (e3 = t3, false);
                  }), e3;
                }
                return this.maskset.metadata;
              },
              isValid: function(e3) {
                if (this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache), e3) {
                  var t3 = ("function" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e3, this.opts) || e3).split("");
                  u.checkVal.call(this, void 0, true, false, t3);
                } else
                  e3 = this.isRTL ? l.getBuffer.call(this).slice().reverse().join("") : l.getBuffer.call(this).join("");
                for (var i3 = l.getBuffer.call(this), n3 = l.determineLastRequiredPosition.call(this), a2 = i3.length - 1; a2 > n3 && !l.isMask.call(this, a2); a2--)
                  ;
                return i3.splice(n3, a2 + 1 - n3), c.isComplete.call(this, i3) && e3 === (this.isRTL ? l.getBuffer.call(this).slice().reverse().join("") : l.getBuffer.call(this).join(""));
              },
              format: function(e3, t3) {
                this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache);
                var i3 = ("function" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e3, this.opts) || e3).split("");
                u.checkVal.call(this, void 0, true, false, i3);
                var n3 = this.isRTL ? l.getBuffer.call(this).slice().reverse().join("") : l.getBuffer.call(this).join("");
                return t3 ? {
                  value: n3,
                  metadata: this.getmetadata()
                } : n3;
              },
              setValue: function(e3) {
                this.el && (0, a.default)(this.el).trigger("setvalue", [e3]);
              },
              analyseMask: o.analyseMask
            }, k.extendDefaults = function(e3) {
              a.default.extend(true, k.prototype.defaults, e3);
            }, k.extendDefinitions = function(e3) {
              a.default.extend(true, k.prototype.definitions, e3);
            }, k.extendAliases = function(e3) {
              a.default.extend(true, k.prototype.aliases, e3);
            }, k.format = function(e3, t3, i3) {
              return k(t3).format(e3, i3);
            }, k.unmask = function(e3, t3) {
              return k(t3).unmaskedvalue(e3);
            }, k.isValid = function(e3, t3) {
              return k(t3).isValid(e3);
            }, k.remove = function(e3) {
              "string" == typeof e3 && (e3 = g.getElementById(e3) || g.querySelectorAll(e3)), (e3 = e3.nodeName ? [e3] : e3).forEach(function(e4) {
                e4.inputmask && e4.inputmask.remove();
              });
            }, k.setValue = function(e3, t3) {
              "string" == typeof e3 && (e3 = g.getElementById(e3) || g.querySelectorAll(e3)), (e3 = e3.nodeName ? [e3] : e3).forEach(function(e4) {
                e4.inputmask ? e4.inputmask.setValue(t3) : (0, a.default)(e4).trigger("setvalue", [t3]);
              });
            }, k.dependencyLib = a.default, r.default.Inputmask = k;
            var x = k;
            t2.default = x;
          },
          5296: function(e2, t2, i2) {
            function n2(e3) {
              return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
                return typeof e4;
              } : function(e4) {
                return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
              }, n2(e3);
            }
            var a = h(i2(9380)), r = h(i2(2394)), o = h(i2(8741));
            function s(e3, t3) {
              for (var i3 = 0; i3 < t3.length; i3++) {
                var a2 = t3[i3];
                a2.enumerable = a2.enumerable || false, a2.configurable = true, "value" in a2 && (a2.writable = true), Object.defineProperty(e3, (r2 = a2.key, o2 = void 0, o2 = function(e4, t4) {
                  if ("object" !== n2(e4) || null === e4)
                    return e4;
                  var i4 = e4[Symbol.toPrimitive];
                  if (void 0 !== i4) {
                    var a3 = i4.call(e4, t4 || "default");
                    if ("object" !== n2(a3))
                      return a3;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                  }
                  return ("string" === t4 ? String : Number)(e4);
                }(r2, "string"), "symbol" === n2(o2) ? o2 : String(o2)), a2);
              }
              var r2, o2;
            }
            function l(e3) {
              var t3 = f();
              return function() {
                var i3, a2 = p(e3);
                if (t3) {
                  var r2 = p(this).constructor;
                  i3 = Reflect.construct(a2, arguments, r2);
                } else
                  i3 = a2.apply(this, arguments);
                return function(e4, t4) {
                  if (t4 && ("object" === n2(t4) || "function" == typeof t4))
                    return t4;
                  if (void 0 !== t4)
                    throw new TypeError("Derived constructors may only return object or undefined");
                  return function(e5) {
                    if (void 0 === e5)
                      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e5;
                  }(e4);
                }(this, i3);
              };
            }
            function c(e3) {
              var t3 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
              return c = function(e4) {
                if (null === e4 || (i3 = e4, -1 === Function.toString.call(i3).indexOf("[native code]")))
                  return e4;
                var i3;
                if ("function" != typeof e4)
                  throw new TypeError("Super expression must either be null or a function");
                if (void 0 !== t3) {
                  if (t3.has(e4))
                    return t3.get(e4);
                  t3.set(e4, n3);
                }
                function n3() {
                  return u(e4, arguments, p(this).constructor);
                }
                return n3.prototype = Object.create(e4.prototype, {
                  constructor: {
                    value: n3,
                    enumerable: false,
                    writable: true,
                    configurable: true
                  }
                }), d(n3, e4);
              }, c(e3);
            }
            function u(e3, t3, i3) {
              return u = f() ? Reflect.construct.bind() : function(e4, t4, i4) {
                var n3 = [null];
                n3.push.apply(n3, t4);
                var a2 = new (Function.bind.apply(e4, n3))();
                return i4 && d(a2, i4.prototype), a2;
              }, u.apply(null, arguments);
            }
            function f() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (e3) {
                return false;
              }
            }
            function d(e3, t3) {
              return d = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e4, t4) {
                return e4.__proto__ = t4, e4;
              }, d(e3, t3);
            }
            function p(e3) {
              return p = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e4) {
                return e4.__proto__ || Object.getPrototypeOf(e4);
              }, p(e3);
            }
            function h(e3) {
              return e3 && e3.__esModule ? e3 : {
                default: e3
              };
            }
            var v = a.default.document;
            if (o.default && v && v.head && v.head.attachShadow && a.default.customElements && void 0 === a.default.customElements.get("input-mask")) {
              var m = function(e3) {
                !function(e4, t4) {
                  if ("function" != typeof t4 && null !== t4)
                    throw new TypeError("Super expression must either be null or a function");
                  e4.prototype = Object.create(t4 && t4.prototype, {
                    constructor: {
                      value: e4,
                      writable: true,
                      configurable: true
                    }
                  }), Object.defineProperty(e4, "prototype", {
                    writable: false
                  }), t4 && d(e4, t4);
                }(o2, e3);
                var t3, i3, n3, a2 = l(o2);
                function o2() {
                  var e4;
                  !function(e5, t5) {
                    if (!(e5 instanceof t5))
                      throw new TypeError("Cannot call a class as a function");
                  }(this, o2);
                  var t4 = (e4 = a2.call(this)).getAttributeNames(), i4 = e4.attachShadow({
                    mode: "closed"
                  }), n4 = v.createElement("input");
                  for (var s2 in n4.type = "text", i4.appendChild(n4), t4)
                    Object.prototype.hasOwnProperty.call(t4, s2) && n4.setAttribute(t4[s2], e4.getAttribute(t4[s2]));
                  var l2 = new r.default();
                  return l2.dataAttribute = "", l2.mask(n4), n4.inputmask.shadowRoot = i4, e4;
                }
                return t3 = o2, i3 && s(t3.prototype, i3), n3 && s(t3, n3), Object.defineProperty(t3, "prototype", {
                  writable: false
                }), t3;
              }(c(HTMLElement));
              a.default.customElements.define("input-mask", m);
            }
          },
          2839: function(e2, t2) {
            function i2(e3, t3) {
              return function(e4) {
                if (Array.isArray(e4))
                  return e4;
              }(e3) || function(e4, t4) {
                var i3 = null == e4 ? null : "undefined" != typeof Symbol && e4[Symbol.iterator] || e4["@@iterator"];
                if (null != i3) {
                  var n3, a2, r2, o2, s = [], l = true, c = false;
                  try {
                    if (r2 = (i3 = i3.call(e4)).next, 0 === t4) {
                      if (Object(i3) !== i3)
                        return;
                      l = false;
                    } else
                      for (; !(l = (n3 = r2.call(i3)).done) && (s.push(n3.value), s.length !== t4); l = true)
                        ;
                  } catch (e5) {
                    c = true, a2 = e5;
                  } finally {
                    try {
                      if (!l && null != i3.return && (o2 = i3.return(), Object(o2) !== o2))
                        return;
                    } finally {
                      if (c)
                        throw a2;
                    }
                  }
                  return s;
                }
              }(e3, t3) || function(e4, t4) {
                if (!e4)
                  return;
                if ("string" == typeof e4)
                  return n2(e4, t4);
                var i3 = Object.prototype.toString.call(e4).slice(8, -1);
                "Object" === i3 && e4.constructor && (i3 = e4.constructor.name);
                if ("Map" === i3 || "Set" === i3)
                  return Array.from(e4);
                if ("Arguments" === i3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i3))
                  return n2(e4, t4);
              }(e3, t3) || function() {
                throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
              }();
            }
            function n2(e3, t3) {
              (null == t3 || t3 > e3.length) && (t3 = e3.length);
              for (var i3 = 0, n3 = new Array(t3); i3 < t3; i3++)
                n3[i3] = e3[i3];
              return n3;
            }
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.keys = t2.keyCode = void 0, t2.toKey = function(e3, t3) {
              return r[e3] || (t3 ? String.fromCharCode(e3) : String.fromCharCode(e3).toLowerCase());
            }, t2.toKeyCode = function(e3) {
              return a[e3];
            };
            var a = {
              AltGraph: 18,
              ArrowDown: 40,
              ArrowLeft: 37,
              ArrowRight: 39,
              ArrowUp: 38,
              Backspace: 8,
              BACKSPACE_SAFARI: 127,
              CapsLock: 20,
              Delete: 46,
              End: 35,
              Enter: 13,
              Escape: 27,
              Home: 36,
              Insert: 45,
              PageDown: 34,
              PageUp: 33,
              Space: 32,
              Tab: 9,
              c: 67,
              x: 88,
              z: 90,
              Shift: 16,
              Control: 17,
              Alt: 18,
              Pause: 19,
              Meta_LEFT: 91,
              Meta_RIGHT: 92,
              ContextMenu: 93,
              Process: 229,
              Unidentified: 229,
              F1: 112,
              F2: 113,
              F3: 114,
              F4: 115,
              F5: 116,
              F6: 117,
              F7: 118,
              F8: 119,
              F9: 120,
              F10: 121,
              F11: 122,
              F12: 123
            };
            t2.keyCode = a;
            var r = Object.entries(a).reduce(function(e3, t3) {
              var n3 = i2(t3, 2), a2 = n3[0], r2 = n3[1];
              return e3[r2] = void 0 === e3[r2] ? a2 : e3[r2], e3;
            }, {}), o = Object.entries(a).reduce(function(e3, t3) {
              var n3 = i2(t3, 2), a2 = n3[0];
              n3[1];
              return e3[a2] = "Space" === a2 ? " " : a2, e3;
            }, {});
            t2.keys = o;
          },
          2391: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.analyseMask = function(e3, t3, i3) {
              var n3, o2, s2, l2, c, u, f = /(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g, d = /\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g, p = false, h = new a.default(), v = [], m = [], g = false;
              function y(e4, n4, a2) {
                a2 = void 0 !== a2 ? a2 : e4.matches.length;
                var o3 = e4.matches[a2 - 1];
                if (t3) {
                  if (0 === n4.indexOf("[") || p && /\\d|\\s|\\w|\\p/i.test(n4) || "." === n4) {
                    var s3 = i3.casing ? "i" : "";
                    /^\\p\{.*}$/i.test(n4) && (s3 += "u"), e4.matches.splice(a2++, 0, {
                      fn: new RegExp(n4, s3),
                      static: false,
                      optionality: false,
                      newBlockMarker: void 0 === o3 ? "master" : o3.def !== n4,
                      casing: null,
                      def: n4,
                      placeholder: void 0,
                      nativeDef: n4
                    });
                  } else
                    p && (n4 = n4[n4.length - 1]), n4.split("").forEach(function(t4, n5) {
                      o3 = e4.matches[a2 - 1], e4.matches.splice(a2++, 0, {
                        fn: /[a-z]/i.test(i3.staticDefinitionSymbol || t4) ? new RegExp("[" + (i3.staticDefinitionSymbol || t4) + "]", i3.casing ? "i" : "") : null,
                        static: true,
                        optionality: false,
                        newBlockMarker: void 0 === o3 ? "master" : o3.def !== t4 && true !== o3.static,
                        casing: null,
                        def: i3.staticDefinitionSymbol || t4,
                        placeholder: void 0 !== i3.staticDefinitionSymbol ? t4 : void 0,
                        nativeDef: (p ? "'" : "") + t4
                      });
                    });
                  p = false;
                } else {
                  var l3 = i3.definitions && i3.definitions[n4] || i3.usePrototypeDefinitions && r.default.prototype.definitions[n4];
                  l3 && !p ? e4.matches.splice(a2++, 0, {
                    fn: l3.validator ? "string" == typeof l3.validator ? new RegExp(l3.validator, i3.casing ? "i" : "") : new function() {
                      this.test = l3.validator;
                    }() : new RegExp("."),
                    static: l3.static || false,
                    optionality: l3.optional || false,
                    defOptionality: l3.optional || false,
                    newBlockMarker: void 0 === o3 || l3.optional ? "master" : o3.def !== (l3.definitionSymbol || n4),
                    casing: l3.casing,
                    def: l3.definitionSymbol || n4,
                    placeholder: l3.placeholder,
                    nativeDef: n4,
                    generated: l3.generated
                  }) : (e4.matches.splice(a2++, 0, {
                    fn: /[a-z]/i.test(i3.staticDefinitionSymbol || n4) ? new RegExp("[" + (i3.staticDefinitionSymbol || n4) + "]", i3.casing ? "i" : "") : null,
                    static: true,
                    optionality: false,
                    newBlockMarker: void 0 === o3 ? "master" : o3.def !== n4 && true !== o3.static,
                    casing: null,
                    def: i3.staticDefinitionSymbol || n4,
                    placeholder: void 0 !== i3.staticDefinitionSymbol ? n4 : void 0,
                    nativeDef: (p ? "'" : "") + n4
                  }), p = false);
                }
              }
              function k() {
                if (v.length > 0) {
                  if (y(l2 = v[v.length - 1], o2), l2.isAlternator) {
                    c = v.pop();
                    for (var e4 = 0; e4 < c.matches.length; e4++)
                      c.matches[e4].isGroup && (c.matches[e4].isGroup = false);
                    v.length > 0 ? (l2 = v[v.length - 1]).matches.push(c) : h.matches.push(c);
                  }
                } else
                  y(h, o2);
              }
              function b(e4) {
                var t4 = new a.default(true);
                return t4.openGroup = false, t4.matches = e4, t4;
              }
              function x() {
                if ((s2 = v.pop()).openGroup = false, void 0 !== s2)
                  if (v.length > 0) {
                    if ((l2 = v[v.length - 1]).matches.push(s2), l2.isAlternator) {
                      for (var e4 = (c = v.pop()).matches[0].matches ? c.matches[0].matches.length : 1, t4 = 0; t4 < c.matches.length; t4++)
                        c.matches[t4].isGroup = false, c.matches[t4].alternatorGroup = false, null === i3.keepStatic && e4 < (c.matches[t4].matches ? c.matches[t4].matches.length : 1) && (i3.keepStatic = true), e4 = c.matches[t4].matches ? c.matches[t4].matches.length : 1;
                      v.length > 0 ? (l2 = v[v.length - 1]).matches.push(c) : h.matches.push(c);
                    }
                  } else
                    h.matches.push(s2);
                else
                  k();
              }
              function P(e4) {
                var t4 = e4.pop();
                return t4.isQuantifier && (t4 = b([e4.pop(), t4])), t4;
              }
              t3 && (i3.optionalmarker[0] = void 0, i3.optionalmarker[1] = void 0);
              for (; n3 = t3 ? d.exec(e3) : f.exec(e3); ) {
                if (o2 = n3[0], t3) {
                  switch (o2.charAt(0)) {
                    case "?":
                      o2 = "{0,1}";
                      break;
                    case "+":
                    case "*":
                      o2 = "{" + o2 + "}";
                      break;
                    case "|":
                      if (0 === v.length) {
                        var w = b(h.matches);
                        w.openGroup = true, v.push(w), h.matches = [], g = true;
                      }
                  }
                  switch (o2) {
                    case "\\d":
                      o2 = "[0-9]";
                      break;
                    case "\\p":
                      o2 += d.exec(e3)[0], o2 += d.exec(e3)[0];
                  }
                }
                if (p)
                  k();
                else
                  switch (o2.charAt(0)) {
                    case "$":
                    case "^":
                      t3 || k();
                      break;
                    case i3.escapeChar:
                      p = true, t3 && k();
                      break;
                    case i3.optionalmarker[1]:
                    case i3.groupmarker[1]:
                      x();
                      break;
                    case i3.optionalmarker[0]:
                      v.push(new a.default(false, true));
                      break;
                    case i3.groupmarker[0]:
                      v.push(new a.default(true));
                      break;
                    case i3.quantifiermarker[0]:
                      var S = new a.default(false, false, true), M = (o2 = o2.replace(/[{}?]/g, "")).split("|"), _ = M[0].split(","), O = isNaN(_[0]) ? _[0] : parseInt(_[0]), E = 1 === _.length ? O : isNaN(_[1]) ? _[1] : parseInt(_[1]), T = isNaN(M[1]) ? M[1] : parseInt(M[1]);
                      "*" !== O && "+" !== O || (O = "*" === E ? 0 : 1), S.quantifier = {
                        min: O,
                        max: E,
                        jit: T
                      };
                      var j = v.length > 0 ? v[v.length - 1].matches : h.matches;
                      (n3 = j.pop()).isGroup || (n3 = b([n3])), j.push(n3), j.push(S);
                      break;
                    case i3.alternatormarker:
                      if (v.length > 0) {
                        var A = (l2 = v[v.length - 1]).matches[l2.matches.length - 1];
                        u = l2.openGroup && (void 0 === A.matches || false === A.isGroup && false === A.isAlternator) ? v.pop() : P(l2.matches);
                      } else
                        u = P(h.matches);
                      if (u.isAlternator)
                        v.push(u);
                      else if (u.alternatorGroup ? (c = v.pop(), u.alternatorGroup = false) : c = new a.default(false, false, false, true), c.matches.push(u), v.push(c), u.openGroup) {
                        u.openGroup = false;
                        var D = new a.default(true);
                        D.alternatorGroup = true, v.push(D);
                      }
                      break;
                    default:
                      k();
                  }
              }
              g && x();
              for (; v.length > 0; )
                s2 = v.pop(), h.matches.push(s2);
              h.matches.length > 0 && (!function e4(n4) {
                n4 && n4.matches && n4.matches.forEach(function(a2, r2) {
                  var o3 = n4.matches[r2 + 1];
                  (void 0 === o3 || void 0 === o3.matches || false === o3.isQuantifier) && a2 && a2.isGroup && (a2.isGroup = false, t3 || (y(a2, i3.groupmarker[0], 0), true !== a2.openGroup && y(a2, i3.groupmarker[1]))), e4(a2);
                });
              }(h), m.push(h));
              (i3.numericInput || i3.isRTL) && function e4(t4) {
                for (var n4 in t4.matches = t4.matches.reverse(), t4.matches)
                  if (Object.prototype.hasOwnProperty.call(t4.matches, n4)) {
                    var a2 = parseInt(n4);
                    if (t4.matches[n4].isQuantifier && t4.matches[a2 + 1] && t4.matches[a2 + 1].isGroup) {
                      var r2 = t4.matches[n4];
                      t4.matches.splice(n4, 1), t4.matches.splice(a2 + 1, 0, r2);
                    }
                    void 0 !== t4.matches[n4].matches ? t4.matches[n4] = e4(t4.matches[n4]) : t4.matches[n4] = ((o3 = t4.matches[n4]) === i3.optionalmarker[0] ? o3 = i3.optionalmarker[1] : o3 === i3.optionalmarker[1] ? o3 = i3.optionalmarker[0] : o3 === i3.groupmarker[0] ? o3 = i3.groupmarker[1] : o3 === i3.groupmarker[1] && (o3 = i3.groupmarker[0]), o3);
                  }
                var o3;
                return t4;
              }(m[0]);
              return m;
            }, t2.generateMaskSet = function(e3, t3) {
              var i3;
              function a2(e4, t4) {
                var i4 = t4.repeat, n3 = t4.groupmarker, a3 = t4.quantifiermarker, r2 = t4.keepStatic;
                if (i4 > 0 || "*" === i4 || "+" === i4) {
                  var l3 = "*" === i4 ? 0 : "+" === i4 ? 1 : i4;
                  e4 = n3[0] + e4 + n3[1] + a3[0] + l3 + "," + i4 + a3[1];
                }
                if (true === r2) {
                  var c2 = e4.match(new RegExp("(.)\\[([^\\]]*)\\]", "g"));
                  c2 && c2.forEach(function(t5, i5) {
                    var n4 = function(e5, t6) {
                      return function(e6) {
                        if (Array.isArray(e6))
                          return e6;
                      }(e5) || function(e6, t7) {
                        var i6 = null == e6 ? null : "undefined" != typeof Symbol && e6[Symbol.iterator] || e6["@@iterator"];
                        if (null != i6) {
                          var n5, a5, r4, o2, s2 = [], l4 = true, c3 = false;
                          try {
                            if (r4 = (i6 = i6.call(e6)).next, 0 === t7) {
                              if (Object(i6) !== i6)
                                return;
                              l4 = false;
                            } else
                              for (; !(l4 = (n5 = r4.call(i6)).done) && (s2.push(n5.value), s2.length !== t7); l4 = true)
                                ;
                          } catch (e7) {
                            c3 = true, a5 = e7;
                          } finally {
                            try {
                              if (!l4 && null != i6.return && (o2 = i6.return(), Object(o2) !== o2))
                                return;
                            } finally {
                              if (c3)
                                throw a5;
                            }
                          }
                          return s2;
                        }
                      }(e5, t6) || function(e6, t7) {
                        if (!e6)
                          return;
                        if ("string" == typeof e6)
                          return s(e6, t7);
                        var i6 = Object.prototype.toString.call(e6).slice(8, -1);
                        "Object" === i6 && e6.constructor && (i6 = e6.constructor.name);
                        if ("Map" === i6 || "Set" === i6)
                          return Array.from(e6);
                        if ("Arguments" === i6 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i6))
                          return s(e6, t7);
                      }(e5, t6) || function() {
                        throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                      }();
                    }(t5.split("["), 2), a4 = n4[0], r3 = n4[1];
                    r3 = r3.replace("]", ""), e4 = e4.replace(new RegExp("".concat((0, o.default)(a4), "\\[").concat((0, o.default)(r3), "\\]")), a4.charAt(0) === r3.charAt(0) ? "(".concat(a4, "|").concat(a4).concat(r3, ")") : "".concat(a4, "[").concat(r3, "]"));
                  });
                }
                return e4;
              }
              function l2(e4, i4, o2) {
                var s2, l3, c2 = false;
                return null !== e4 && "" !== e4 || ((c2 = null !== o2.regex) ? e4 = (e4 = o2.regex).replace(/^(\^)(.*)(\$)$/, "$2") : (c2 = true, e4 = ".*")), 1 === e4.length && false === o2.greedy && 0 !== o2.repeat && (o2.placeholder = ""), e4 = a2(e4, o2), l3 = c2 ? "regex_" + o2.regex : o2.numericInput ? e4.split("").reverse().join("") : e4, null !== o2.keepStatic && (l3 = "ks_" + o2.keepStatic + l3), void 0 === r.default.prototype.masksCache[l3] || true === t3 ? (s2 = {
                  mask: e4,
                  maskToken: r.default.prototype.analyseMask(e4, c2, o2),
                  validPositions: [],
                  _buffer: void 0,
                  buffer: void 0,
                  tests: {},
                  excludes: {},
                  metadata: i4,
                  maskLength: void 0,
                  jitOffset: {}
                }, true !== t3 && (r.default.prototype.masksCache[l3] = s2, s2 = n2.default.extend(true, {}, r.default.prototype.masksCache[l3]))) : s2 = n2.default.extend(true, {}, r.default.prototype.masksCache[l3]), s2;
              }
              "function" == typeof e3.mask && (e3.mask = e3.mask(e3));
              if (Array.isArray(e3.mask)) {
                if (e3.mask.length > 1) {
                  null === e3.keepStatic && (e3.keepStatic = true);
                  var c = e3.groupmarker[0];
                  return (e3.isRTL ? e3.mask.reverse() : e3.mask).forEach(function(t4) {
                    c.length > 1 && (c += e3.alternatormarker), void 0 !== t4.mask && "function" != typeof t4.mask ? c += t4.mask : c += t4;
                  }), l2(c += e3.groupmarker[1], e3.mask, e3);
                }
                e3.mask = e3.mask.pop();
              }
              i3 = e3.mask && void 0 !== e3.mask.mask && "function" != typeof e3.mask.mask ? l2(e3.mask.mask, e3.mask, e3) : l2(e3.mask, e3.mask, e3);
              null === e3.keepStatic && (e3.keepStatic = false);
              return i3;
            };
            var n2 = l(i2(4963)), a = l(i2(9695)), r = l(i2(2394)), o = l(i2(7184));
            function s(e3, t3) {
              (null == t3 || t3 > e3.length) && (t3 = e3.length);
              for (var i3 = 0, n3 = new Array(t3); i3 < t3; i3++)
                n3[i3] = e3[i3];
              return n3;
            }
            function l(e3) {
              return e3 && e3.__esModule ? e3 : {
                default: e3
              };
            }
          },
          157: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.mask = function() {
              var e3 = this, t3 = this.opts, i3 = this.el, u = this.dependencyLib;
              o.EventRuler.off(i3);
              var f = function(t4, i4) {
                "textarea" !== t4.tagName.toLowerCase() && i4.ignorables.push(n2.keys.Enter);
                var s2 = t4.getAttribute("type"), l2 = "input" === t4.tagName.toLowerCase() && i4.supportsInputType.includes(s2) || t4.isContentEditable || "textarea" === t4.tagName.toLowerCase();
                if (!l2)
                  if ("input" === t4.tagName.toLowerCase()) {
                    var c2 = document.createElement("input");
                    c2.setAttribute("type", s2), l2 = "text" === c2.type, c2 = null;
                  } else
                    l2 = "partial";
                return false !== l2 ? function(t5) {
                  var n3, s3;
                  function l3() {
                    return this.inputmask ? this.inputmask.opts.autoUnmask ? this.inputmask.unmaskedvalue() : -1 !== a.getLastValidPosition.call(e3) || true !== i4.nullable ? (this.inputmask.shadowRoot || this.ownerDocument).activeElement === this && i4.clearMaskOnLostFocus ? (e3.isRTL ? r.clearOptionalTail.call(e3, a.getBuffer.call(e3).slice()).reverse() : r.clearOptionalTail.call(e3, a.getBuffer.call(e3).slice())).join("") : n3.call(this) : "" : n3.call(this);
                  }
                  function c3(e4) {
                    s3.call(this, e4), this.inputmask && (0, r.applyInputValue)(this, e4);
                  }
                  if (!t5.inputmask.__valueGet) {
                    if (true !== i4.noValuePatching) {
                      if (Object.getOwnPropertyDescriptor) {
                        var f2 = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t5), "value") : void 0;
                        f2 && f2.get && f2.set ? (n3 = f2.get, s3 = f2.set, Object.defineProperty(t5, "value", {
                          get: l3,
                          set: c3,
                          configurable: true
                        })) : "input" !== t5.tagName.toLowerCase() && (n3 = function() {
                          return this.textContent;
                        }, s3 = function(e4) {
                          this.textContent = e4;
                        }, Object.defineProperty(t5, "value", {
                          get: l3,
                          set: c3,
                          configurable: true
                        }));
                      } else
                        document.__lookupGetter__ && t5.__lookupGetter__("value") && (n3 = t5.__lookupGetter__("value"), s3 = t5.__lookupSetter__("value"), t5.__defineGetter__("value", l3), t5.__defineSetter__("value", c3));
                      t5.inputmask.__valueGet = n3, t5.inputmask.__valueSet = s3;
                    }
                    t5.inputmask._valueGet = function(t6) {
                      return e3.isRTL && true !== t6 ? n3.call(this.el).split("").reverse().join("") : n3.call(this.el);
                    }, t5.inputmask._valueSet = function(t6, i5) {
                      s3.call(this.el, null == t6 ? "" : true !== i5 && e3.isRTL ? t6.split("").reverse().join("") : t6);
                    }, void 0 === n3 && (n3 = function() {
                      return this.value;
                    }, s3 = function(e4) {
                      this.value = e4;
                    }, function(t6) {
                      if (u.valHooks && (void 0 === u.valHooks[t6] || true !== u.valHooks[t6].inputmaskpatch)) {
                        var n4 = u.valHooks[t6] && u.valHooks[t6].get ? u.valHooks[t6].get : function(e4) {
                          return e4.value;
                        }, o2 = u.valHooks[t6] && u.valHooks[t6].set ? u.valHooks[t6].set : function(e4, t7) {
                          return e4.value = t7, e4;
                        };
                        u.valHooks[t6] = {
                          get: function(t7) {
                            if (t7.inputmask) {
                              if (t7.inputmask.opts.autoUnmask)
                                return t7.inputmask.unmaskedvalue();
                              var r2 = n4(t7);
                              return -1 !== a.getLastValidPosition.call(e3, void 0, void 0, t7.inputmask.maskset.validPositions) || true !== i4.nullable ? r2 : "";
                            }
                            return n4(t7);
                          },
                          set: function(e4, t7) {
                            var i5 = o2(e4, t7);
                            return e4.inputmask && (0, r.applyInputValue)(e4, t7), i5;
                          },
                          inputmaskpatch: true
                        };
                      }
                    }(t5.type), function(e4) {
                      o.EventRuler.on(e4, "mouseenter", function() {
                        var e5 = this, t6 = e5.inputmask._valueGet(true);
                        t6 != (e5.inputmask.isRTL ? a.getBuffer.call(e5.inputmask).slice().reverse() : a.getBuffer.call(e5.inputmask)).join("") && (0, r.applyInputValue)(e5, t6);
                      });
                    }(t5));
                  }
                }(t4) : t4.inputmask = void 0, l2;
              }(i3, t3);
              if (false !== f) {
                e3.originalPlaceholder = i3.placeholder, e3.maxLength = void 0 !== i3 ? i3.maxLength : void 0, -1 === e3.maxLength && (e3.maxLength = void 0), "inputMode" in i3 && null === i3.getAttribute("inputmode") && (i3.inputMode = t3.inputmode, i3.setAttribute("inputmode", t3.inputmode)), true === f && (t3.showMaskOnFocus = t3.showMaskOnFocus && -1 === ["cc-number", "cc-exp"].indexOf(i3.autocomplete), s.iphone && (t3.insertModeVisual = false, i3.setAttribute("autocorrect", "off")), o.EventRuler.on(i3, "submit", c.EventHandlers.submitEvent), o.EventRuler.on(i3, "reset", c.EventHandlers.resetEvent), o.EventRuler.on(i3, "blur", c.EventHandlers.blurEvent), o.EventRuler.on(i3, "focus", c.EventHandlers.focusEvent), o.EventRuler.on(i3, "invalid", c.EventHandlers.invalidEvent), o.EventRuler.on(i3, "click", c.EventHandlers.clickEvent), o.EventRuler.on(i3, "mouseleave", c.EventHandlers.mouseleaveEvent), o.EventRuler.on(i3, "mouseenter", c.EventHandlers.mouseenterEvent), o.EventRuler.on(i3, "paste", c.EventHandlers.pasteEvent), o.EventRuler.on(i3, "cut", c.EventHandlers.cutEvent), o.EventRuler.on(i3, "complete", t3.oncomplete), o.EventRuler.on(i3, "incomplete", t3.onincomplete), o.EventRuler.on(i3, "cleared", t3.oncleared), true !== t3.inputEventOnly && o.EventRuler.on(i3, "keydown", c.EventHandlers.keyEvent), (s.mobile || t3.inputEventOnly) && i3.removeAttribute("maxLength"), o.EventRuler.on(i3, "input", c.EventHandlers.inputFallBackEvent)), o.EventRuler.on(i3, "setvalue", c.EventHandlers.setValueEvent), a.getBufferTemplate.call(e3).join(""), e3.undoValue = e3._valueGet(true);
                var d = (i3.inputmask.shadowRoot || i3.ownerDocument).activeElement;
                if ("" !== i3.inputmask._valueGet(true) || false === t3.clearMaskOnLostFocus || d === i3) {
                  (0, r.applyInputValue)(i3, i3.inputmask._valueGet(true), t3);
                  var p = a.getBuffer.call(e3).slice();
                  false === l.isComplete.call(e3, p) && t3.clearIncomplete && a.resetMaskSet.call(e3), t3.clearMaskOnLostFocus && d !== i3 && (-1 === a.getLastValidPosition.call(e3) ? p = [] : r.clearOptionalTail.call(e3, p)), (false === t3.clearMaskOnLostFocus || t3.showMaskOnFocus && d === i3 || "" !== i3.inputmask._valueGet(true)) && (0, r.writeBuffer)(i3, p), d === i3 && a.caret.call(e3, i3, a.seekNext.call(e3, a.getLastValidPosition.call(e3)));
                }
              }
            };
            var n2 = i2(2839), a = i2(8711), r = i2(7760), o = i2(9716), s = i2(9845), l = i2(7215), c = i2(6030);
          },
          9695: function(e2, t2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.default = function(e3, t3, i2, n2) {
              this.matches = [], this.openGroup = e3 || false, this.alternatorGroup = false, this.isGroup = e3 || false, this.isOptional = t3 || false, this.isQuantifier = i2 || false, this.isAlternator = n2 || false, this.quantifier = {
                min: 1,
                max: 1
              };
            };
          },
          3194: function() {
            Array.prototype.includes || Object.defineProperty(Array.prototype, "includes", {
              value: function(e2, t2) {
                if (null == this)
                  throw new TypeError('"this" is null or not defined');
                var i2 = Object(this), n2 = i2.length >>> 0;
                if (0 === n2)
                  return false;
                for (var a = 0 | t2, r = Math.max(a >= 0 ? a : n2 - Math.abs(a), 0); r < n2; ) {
                  if (i2[r] === e2)
                    return true;
                  r++;
                }
                return false;
              }
            });
          },
          9302: function() {
            var e2 = Function.bind.call(Function.call, Array.prototype.reduce), t2 = Function.bind.call(Function.call, Object.prototype.propertyIsEnumerable), i2 = Function.bind.call(Function.call, Array.prototype.concat), n2 = Object.keys;
            Object.entries || (Object.entries = function(a) {
              return e2(n2(a), function(e3, n3) {
                return i2(e3, "string" == typeof n3 && t2(a, n3) ? [[n3, a[n3]]] : []);
              }, []);
            });
          },
          7149: function() {
            function e2(t2) {
              return e2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e3) {
                return typeof e3;
              } : function(e3) {
                return e3 && "function" == typeof Symbol && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
              }, e2(t2);
            }
            "function" != typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === e2("test".__proto__) ? function(e3) {
              return e3.__proto__;
            } : function(e3) {
              return e3.constructor.prototype;
            });
          },
          4013: function() {
            String.prototype.includes || (String.prototype.includes = function(e2, t2) {
              return "number" != typeof t2 && (t2 = 0), !(t2 + e2.length > this.length) && -1 !== this.indexOf(e2, t2);
            });
          },
          8711: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.caret = function(e3, t3, i3, n3, a2) {
              var r2, o2 = this, s2 = this.opts;
              if (void 0 === t3)
                return "selectionStart" in e3 && "selectionEnd" in e3 ? (t3 = e3.selectionStart, i3 = e3.selectionEnd) : window.getSelection ? (r2 = window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode !== e3 && r2.commonAncestorContainer !== e3 || (t3 = r2.startOffset, i3 = r2.endOffset) : document.selection && document.selection.createRange && (i3 = (t3 = 0 - (r2 = document.selection.createRange()).duplicate().moveStart("character", -e3.inputmask._valueGet().length)) + r2.text.length), {
                  begin: n3 ? t3 : c.call(o2, t3),
                  end: n3 ? i3 : c.call(o2, i3)
                };
              if (Array.isArray(t3) && (i3 = o2.isRTL ? t3[0] : t3[1], t3 = o2.isRTL ? t3[1] : t3[0]), void 0 !== t3.begin && (i3 = o2.isRTL ? t3.begin : t3.end, t3 = o2.isRTL ? t3.end : t3.begin), "number" == typeof t3) {
                t3 = n3 ? t3 : c.call(o2, t3), i3 = "number" == typeof (i3 = n3 ? i3 : c.call(o2, i3)) ? i3 : t3;
                var l2 = parseInt(((e3.ownerDocument.defaultView || window).getComputedStyle ? (e3.ownerDocument.defaultView || window).getComputedStyle(e3, null) : e3.currentStyle).fontSize) * i3;
                if (e3.scrollLeft = l2 > e3.scrollWidth ? l2 : 0, e3.inputmask.caretPos = {
                  begin: t3,
                  end: i3
                }, s2.insertModeVisual && false === s2.insertMode && t3 === i3 && (a2 || i3++), e3 === (e3.inputmask.shadowRoot || e3.ownerDocument).activeElement)
                  if ("setSelectionRange" in e3)
                    e3.setSelectionRange(t3, i3);
                  else if (window.getSelection) {
                    if (r2 = document.createRange(), void 0 === e3.firstChild || null === e3.firstChild) {
                      var u = document.createTextNode("");
                      e3.appendChild(u);
                    }
                    r2.setStart(e3.firstChild, t3 < e3.inputmask._valueGet().length ? t3 : e3.inputmask._valueGet().length), r2.setEnd(e3.firstChild, i3 < e3.inputmask._valueGet().length ? i3 : e3.inputmask._valueGet().length), r2.collapse(true);
                    var f = window.getSelection();
                    f.removeAllRanges(), f.addRange(r2);
                  } else
                    e3.createTextRange && ((r2 = e3.createTextRange()).collapse(true), r2.moveEnd("character", i3), r2.moveStart("character", t3), r2.select());
              }
            }, t2.determineLastRequiredPosition = function(e3) {
              var t3, i3, r2 = this, s2 = r2.maskset, l2 = r2.dependencyLib, c2 = n2.getMaskTemplate.call(r2, true, o.call(r2), true, true), u = c2.length, f = o.call(r2), d = {}, p = s2.validPositions[f], h = void 0 !== p ? p.locator.slice() : void 0;
              for (t3 = f + 1; t3 < c2.length; t3++)
                h = (i3 = n2.getTestTemplate.call(r2, t3, h, t3 - 1)).locator.slice(), d[t3] = l2.extend(true, {}, i3);
              var v = p && void 0 !== p.alternation ? p.locator[p.alternation] : void 0;
              for (t3 = u - 1; t3 > f && (((i3 = d[t3]).match.optionality || i3.match.optionalQuantifier && i3.match.newBlockMarker || v && (v !== d[t3].locator[p.alternation] && 1 != i3.match.static || true === i3.match.static && i3.locator[p.alternation] && a.checkAlternationMatch.call(r2, i3.locator[p.alternation].toString().split(","), v.toString().split(",")) && "" !== n2.getTests.call(r2, t3)[0].def)) && c2[t3] === n2.getPlaceholder.call(r2, t3, i3.match)); t3--)
                u--;
              return e3 ? {
                l: u,
                def: d[u] ? d[u].match : void 0
              } : u;
            }, t2.determineNewCaretPosition = function(e3, t3, i3) {
              var a2 = this, c2 = a2.maskset, u = a2.opts;
              t3 && (a2.isRTL ? e3.end = e3.begin : e3.begin = e3.end);
              if (e3.begin === e3.end) {
                switch (i3 = i3 || u.positionCaretOnClick) {
                  case "none":
                    break;
                  case "select":
                    e3 = {
                      begin: 0,
                      end: r.call(a2).length
                    };
                    break;
                  case "ignore":
                    e3.end = e3.begin = l.call(a2, o.call(a2));
                    break;
                  case "radixFocus":
                    if (a2.clicked > 1 && 0 == c2.validPositions.length)
                      break;
                    if (function(e4) {
                      if ("" !== u.radixPoint && 0 !== u.digits) {
                        var t4 = c2.validPositions;
                        if (void 0 === t4[e4] || t4[e4].input === n2.getPlaceholder.call(a2, e4)) {
                          if (e4 < l.call(a2, -1))
                            return true;
                          var i4 = r.call(a2).indexOf(u.radixPoint);
                          if (-1 !== i4) {
                            for (var o2 = 0, s2 = t4.length; o2 < s2; o2++)
                              if (t4[o2] && i4 < o2 && t4[o2].input !== n2.getPlaceholder.call(a2, o2))
                                return false;
                            return true;
                          }
                        }
                      }
                      return false;
                    }(e3.begin)) {
                      var f = r.call(a2).join("").indexOf(u.radixPoint);
                      e3.end = e3.begin = u.numericInput ? l.call(a2, f) : f;
                      break;
                    }
                  default:
                    var d = e3.begin, p = o.call(a2, d, true), h = l.call(a2, -1 !== p || s.call(a2, 0) ? p : -1);
                    if (d <= h)
                      e3.end = e3.begin = s.call(a2, d, false, true) ? d : l.call(a2, d);
                    else {
                      var v = c2.validPositions[p], m = n2.getTestTemplate.call(a2, h, v ? v.match.locator : void 0, v), g = n2.getPlaceholder.call(a2, h, m.match);
                      if ("" !== g && r.call(a2)[h] !== g && true !== m.match.optionalQuantifier && true !== m.match.newBlockMarker || !s.call(a2, h, u.keepStatic, true) && m.match.def === g) {
                        var y = l.call(a2, h);
                        (d >= y || d === h) && (h = y);
                      }
                      e3.end = e3.begin = h;
                    }
                }
                return e3;
              }
            }, t2.getBuffer = r, t2.getBufferTemplate = function() {
              var e3 = this.maskset;
              void 0 === e3._buffer && (e3._buffer = n2.getMaskTemplate.call(this, false, 1), void 0 === e3.buffer && (e3.buffer = e3._buffer.slice()));
              return e3._buffer;
            }, t2.getLastValidPosition = o, t2.isMask = s, t2.resetMaskSet = function(e3) {
              var t3 = this.maskset;
              t3.buffer = void 0, true !== e3 && (t3.validPositions = [], t3.p = 0);
            }, t2.seekNext = l, t2.seekPrevious = function(e3, t3) {
              var i3 = this, a2 = e3 - 1;
              if (e3 <= 0)
                return 0;
              for (; a2 > 0 && (true === t3 && (true !== n2.getTest.call(i3, a2).match.newBlockMarker || !s.call(i3, a2, void 0, true)) || true !== t3 && !s.call(i3, a2, void 0, true)); )
                a2--;
              return a2;
            }, t2.translatePosition = c;
            var n2 = i2(4713), a = i2(7215);
            function r(e3) {
              var t3 = this, i3 = t3.maskset;
              return void 0 !== i3.buffer && true !== e3 || (i3.buffer = n2.getMaskTemplate.call(t3, true, o.call(t3), true), void 0 === i3._buffer && (i3._buffer = i3.buffer.slice())), i3.buffer;
            }
            function o(e3, t3, i3) {
              var n3 = this.maskset, a2 = -1, r2 = -1, o2 = i3 || n3.validPositions;
              void 0 === e3 && (e3 = -1);
              for (var s2 = 0, l2 = o2.length; s2 < l2; s2++)
                o2[s2] && (t3 || true !== o2[s2].generatedInput) && (s2 <= e3 && (a2 = s2), s2 >= e3 && (r2 = s2));
              return -1 === a2 || a2 == e3 ? r2 : -1 == r2 || e3 - a2 < r2 - e3 ? a2 : r2;
            }
            function s(e3, t3, i3) {
              var a2 = this, r2 = this.maskset, o2 = n2.getTestTemplate.call(a2, e3).match;
              if ("" === o2.def && (o2 = n2.getTest.call(a2, e3).match), true !== o2.static)
                return o2.fn;
              if (true === i3 && void 0 !== r2.validPositions[e3] && true !== r2.validPositions[e3].generatedInput)
                return true;
              if (true !== t3 && e3 > -1) {
                if (i3) {
                  var s2 = n2.getTests.call(a2, e3);
                  return s2.length > 1 + ("" === s2[s2.length - 1].match.def ? 1 : 0);
                }
                var l2 = n2.determineTestTemplate.call(a2, e3, n2.getTests.call(a2, e3)), c2 = n2.getPlaceholder.call(a2, e3, l2.match);
                return l2.match.def !== c2;
              }
              return false;
            }
            function l(e3, t3, i3) {
              var a2 = this;
              void 0 === i3 && (i3 = true);
              for (var r2 = e3 + 1; "" !== n2.getTest.call(a2, r2).match.def && (true === t3 && (true !== n2.getTest.call(a2, r2).match.newBlockMarker || !s.call(a2, r2, void 0, true)) || true !== t3 && !s.call(a2, r2, void 0, i3)); )
                r2++;
              return r2;
            }
            function c(e3) {
              var t3 = this.opts, i3 = this.el;
              return !this.isRTL || "number" != typeof e3 || t3.greedy && "" === t3.placeholder || !i3 || (e3 = this._valueGet().length - e3) < 0 && (e3 = 0), e3;
            }
          },
          4713: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.determineTestTemplate = c, t2.getDecisionTaker = o, t2.getMaskTemplate = function(e3, t3, i3, n3, a2) {
              var r2 = this, o2 = this.opts, u2 = this.maskset, f2 = o2.greedy;
              a2 && o2.greedy && (o2.greedy = false, r2.maskset.tests = {});
              t3 = t3 || 0;
              var p, h, v, m, g = [], y = 0;
              do {
                if (true === e3 && u2.validPositions[y])
                  h = (v = a2 && u2.validPositions[y].match.optionality && void 0 === u2.validPositions[y + 1] && (true === u2.validPositions[y].generatedInput || u2.validPositions[y].input == o2.skipOptionalPartCharacter && y > 0) ? c.call(r2, y, d.call(r2, y, p, y - 1)) : u2.validPositions[y]).match, p = v.locator.slice(), g.push(true === i3 ? v.input : false === i3 ? h.nativeDef : s.call(r2, y, h));
                else {
                  h = (v = l.call(r2, y, p, y - 1)).match, p = v.locator.slice();
                  var k = true !== n3 && (false !== o2.jitMasking ? o2.jitMasking : h.jit);
                  (m = (m && h.static && h.def !== o2.groupSeparator && null === h.fn || u2.validPositions[y - 1] && h.static && h.def !== o2.groupSeparator && null === h.fn) && u2.tests[y]) || false === k || void 0 === k || "number" == typeof k && isFinite(k) && k > y ? g.push(false === i3 ? h.nativeDef : s.call(r2, g.length, h)) : m = false;
                }
                y++;
              } while (true !== h.static || "" !== h.def || t3 > y);
              "" === g[g.length - 1] && g.pop();
              false === i3 && void 0 !== u2.maskLength || (u2.maskLength = y - 1);
              return o2.greedy = f2, g;
            }, t2.getPlaceholder = s, t2.getTest = u, t2.getTestTemplate = l, t2.getTests = d, t2.isSubsetOf = f;
            var n2, a = (n2 = i2(2394)) && n2.__esModule ? n2 : {
              default: n2
            };
            function r(e3, t3) {
              var i3 = (null != e3.alternation ? e3.mloc[o(e3)] : e3.locator).join("");
              if ("" !== i3)
                for (; i3.length < t3; )
                  i3 += "0";
              return i3;
            }
            function o(e3) {
              var t3 = e3.locator[e3.alternation];
              return "string" == typeof t3 && t3.length > 0 && (t3 = t3.split(",")[0]), void 0 !== t3 ? t3.toString() : "";
            }
            function s(e3, t3, i3) {
              var n3 = this.opts, a2 = this.maskset;
              if (void 0 !== (t3 = t3 || u.call(this, e3).match).placeholder || true === i3)
                return "function" == typeof t3.placeholder ? t3.placeholder(n3) : t3.placeholder;
              if (true === t3.static) {
                if (e3 > -1 && void 0 === a2.validPositions[e3]) {
                  var r2, o2 = d.call(this, e3), s2 = [];
                  if (o2.length > 1 + ("" === o2[o2.length - 1].match.def ? 1 : 0)) {
                    for (var l2 = 0; l2 < o2.length; l2++)
                      if ("" !== o2[l2].match.def && true !== o2[l2].match.optionality && true !== o2[l2].match.optionalQuantifier && (true === o2[l2].match.static || void 0 === r2 || false !== o2[l2].match.fn.test(r2.match.def, a2, e3, true, n3)) && (s2.push(o2[l2]), true === o2[l2].match.static && (r2 = o2[l2]), s2.length > 1 && /[0-9a-bA-Z]/.test(s2[0].match.def)))
                        return n3.placeholder.charAt(e3 % n3.placeholder.length);
                  }
                }
                return t3.def;
              }
              return n3.placeholder.charAt(e3 % n3.placeholder.length);
            }
            function l(e3, t3, i3) {
              return this.maskset.validPositions[e3] || c.call(this, e3, d.call(this, e3, t3 ? t3.slice() : t3, i3));
            }
            function c(e3, t3) {
              var i3 = this.opts, n3 = 0, a2 = function(e4, t4) {
                var i4 = 0, n4 = false;
                t4.forEach(function(e5) {
                  e5.match.optionality && (0 !== i4 && i4 !== e5.match.optionality && (n4 = true), (0 === i4 || i4 > e5.match.optionality) && (i4 = e5.match.optionality));
                }), i4 && (0 == e4 || 1 == t4.length ? i4 = 0 : n4 || (i4 = 0));
                return i4;
              }(e3, t3);
              e3 = e3 > 0 ? e3 - 1 : 0;
              var o2, s2, l2, c2 = r(u.call(this, e3));
              i3.greedy && t3.length > 1 && "" === t3[t3.length - 1].match.def && (n3 = 1);
              for (var f2 = 0; f2 < t3.length - n3; f2++) {
                var d2 = t3[f2];
                o2 = r(d2, c2.length);
                var p = Math.abs(o2 - c2);
                (void 0 === s2 || "" !== o2 && p < s2 || l2 && !i3.greedy && l2.match.optionality && l2.match.optionality - a2 > 0 && "master" === l2.match.newBlockMarker && (!d2.match.optionality || d2.match.optionality - a2 < 1 || !d2.match.newBlockMarker) || l2 && !i3.greedy && l2.match.optionalQuantifier && !d2.match.optionalQuantifier) && (s2 = p, l2 = d2);
              }
              return l2;
            }
            function u(e3, t3) {
              var i3 = this.maskset;
              return i3.validPositions[e3] ? i3.validPositions[e3] : (t3 || d.call(this, e3))[0];
            }
            function f(e3, t3, i3) {
              function n3(e4) {
                for (var t4, i4 = [], n4 = -1, a2 = 0, r2 = e4.length; a2 < r2; a2++)
                  if ("-" === e4.charAt(a2))
                    for (t4 = e4.charCodeAt(a2 + 1); ++n4 < t4; )
                      i4.push(String.fromCharCode(n4));
                  else
                    n4 = e4.charCodeAt(a2), i4.push(e4.charAt(a2));
                return i4.join("");
              }
              return e3.match.def === t3.match.nativeDef || !(!(i3.regex || e3.match.fn instanceof RegExp && t3.match.fn instanceof RegExp) || true === e3.match.static || true === t3.match.static) && -1 !== n3(t3.match.fn.toString().replace(/[[\]/]/g, "")).indexOf(n3(e3.match.fn.toString().replace(/[[\]/]/g, "")));
            }
            function d(e3, t3, i3) {
              var n3, r2, o2 = this, s2 = this.dependencyLib, l2 = this.maskset, u2 = this.opts, d2 = this.el, p = l2.maskToken, h = t3 ? i3 : 0, v = t3 ? t3.slice() : [0], m = [], g = false, y = t3 ? t3.join("") : "";
              function k(t4, i4, r3, s3) {
                function c2(r4, s4, p3) {
                  function v3(e4, t5) {
                    var i5 = 0 === t5.matches.indexOf(e4);
                    return i5 || t5.matches.every(function(n4, a2) {
                      return true === n4.isQuantifier ? i5 = v3(e4, t5.matches[a2 - 1]) : Object.prototype.hasOwnProperty.call(n4, "matches") && (i5 = v3(e4, n4)), !i5;
                    }), i5;
                  }
                  function x2(e4, t5, i5) {
                    var n4, a2;
                    if ((l2.tests[e4] || l2.validPositions[e4]) && (l2.tests[e4] || [l2.validPositions[e4]]).every(function(e5, r6) {
                      if (e5.mloc[t5])
                        return n4 = e5, false;
                      var o3 = void 0 !== i5 ? i5 : e5.alternation, s5 = void 0 !== e5.locator[o3] ? e5.locator[o3].toString().indexOf(t5) : -1;
                      return (void 0 === a2 || s5 < a2) && -1 !== s5 && (n4 = e5, a2 = s5), true;
                    }), n4) {
                      var r5 = n4.locator[n4.alternation];
                      return (n4.mloc[t5] || n4.mloc[r5] || n4.locator).slice((void 0 !== i5 ? i5 : n4.alternation) + 1);
                    }
                    return void 0 !== i5 ? x2(e4, t5) : void 0;
                  }
                  function P2(e4, t5) {
                    var i5 = e4.alternation, n4 = void 0 === t5 || i5 === t5.alternation && -1 === e4.locator[i5].toString().indexOf(t5.locator[i5]);
                    if (!n4 && i5 > t5.alternation) {
                      for (var a2 = t5.alternation; a2 < i5; a2++)
                        if (e4.locator[a2] !== t5.locator[a2]) {
                          i5 = a2, n4 = true;
                          break;
                        }
                    }
                    if (n4) {
                      e4.mloc = e4.mloc || {};
                      var r5 = e4.locator[i5];
                      if (void 0 !== r5) {
                        if ("string" == typeof r5 && (r5 = r5.split(",")[0]), void 0 === e4.mloc[r5] && (e4.mloc[r5] = e4.locator.slice()), void 0 !== t5) {
                          for (var o3 in t5.mloc)
                            "string" == typeof o3 && (o3 = o3.split(",")[0]), void 0 === e4.mloc[o3] && (e4.mloc[o3] = t5.mloc[o3]);
                          e4.locator[i5] = Object.keys(e4.mloc).join(",");
                        }
                        return true;
                      }
                      e4.alternation = void 0;
                    }
                    return false;
                  }
                  function w2(e4, t5) {
                    if (e4.locator.length !== t5.locator.length)
                      return false;
                    for (var i5 = e4.alternation + 1; i5 < e4.locator.length; i5++)
                      if (e4.locator[i5] !== t5.locator[i5])
                        return false;
                    return true;
                  }
                  if (h > e3 + u2._maxTestPos)
                    throw "Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. " + l2.mask;
                  if (h === e3 && void 0 === r4.matches) {
                    if (m.push({
                      match: r4,
                      locator: s4.reverse(),
                      cd: y,
                      mloc: {}
                    }), !r4.optionality || void 0 !== p3 || !(u2.definitions && u2.definitions[r4.nativeDef] && u2.definitions[r4.nativeDef].optional || a.default.prototype.definitions[r4.nativeDef] && a.default.prototype.definitions[r4.nativeDef].optional))
                      return true;
                    g = true, h = e3;
                  } else if (void 0 !== r4.matches) {
                    if (r4.isGroup && p3 !== r4)
                      return function() {
                        if (r4 = c2(t4.matches[t4.matches.indexOf(r4) + 1], s4, p3))
                          return true;
                      }();
                    if (r4.isOptional)
                      return function() {
                        var t5 = r4, a2 = m.length;
                        if (r4 = k(r4, i4, s4, p3), m.length > 0) {
                          if (m.forEach(function(e4, t6) {
                            t6 >= a2 && (e4.match.optionality = e4.match.optionality ? e4.match.optionality + 1 : 1);
                          }), n3 = m[m.length - 1].match, void 0 !== p3 || !v3(n3, t5))
                            return r4;
                          g = true, h = e3;
                        }
                      }();
                    if (r4.isAlternator)
                      return function() {
                        o2.hasAlternator = true;
                        var n4, a2, v4, y2 = r4, k2 = [], b2 = m.slice(), S = s4.length, M = false, _ = i4.length > 0 ? i4.shift() : -1;
                        if (-1 === _ || "string" == typeof _) {
                          var O, E = h, T = i4.slice(), j = [];
                          if ("string" == typeof _)
                            j = _.split(",");
                          else
                            for (O = 0; O < y2.matches.length; O++)
                              j.push(O.toString());
                          if (void 0 !== l2.excludes[e3]) {
                            for (var A = j.slice(), D = 0, B = l2.excludes[e3].length; D < B; D++) {
                              var C = l2.excludes[e3][D].toString().split(":");
                              s4.length == C[1] && j.splice(j.indexOf(C[0]), 1);
                            }
                            0 === j.length && (delete l2.excludes[e3], j = A);
                          }
                          (true === u2.keepStatic || isFinite(parseInt(u2.keepStatic)) && E >= u2.keepStatic) && (j = j.slice(0, 1));
                          for (var R = 0; R < j.length; R++) {
                            O = parseInt(j[R]), m = [], i4 = "string" == typeof _ && x2(h, O, S) || T.slice();
                            var L = y2.matches[O];
                            if (L && c2(L, [O].concat(s4), p3))
                              r4 = true;
                            else if (0 === R && (M = true), L && L.matches && L.matches.length > y2.matches[0].matches.length)
                              break;
                            n4 = m.slice(), h = E, m = [];
                            for (var F = 0; F < n4.length; F++) {
                              var I = n4[F], N = false;
                              I.match.jit = I.match.jit || M, I.alternation = I.alternation || S, P2(I);
                              for (var V = 0; V < k2.length; V++) {
                                var G = k2[V];
                                if ("string" != typeof _ || void 0 !== I.alternation && j.includes(I.locator[I.alternation].toString())) {
                                  if (I.match.nativeDef === G.match.nativeDef) {
                                    N = true, P2(G, I);
                                    break;
                                  }
                                  if (f(I, G, u2)) {
                                    P2(I, G) && (N = true, k2.splice(k2.indexOf(G), 0, I));
                                    break;
                                  }
                                  if (f(G, I, u2)) {
                                    P2(G, I);
                                    break;
                                  }
                                  if (v4 = G, true === (a2 = I).match.static && true !== v4.match.static && v4.match.fn.test(a2.match.def, l2, e3, false, u2, false)) {
                                    w2(I, G) || void 0 !== d2.inputmask.userOptions.keepStatic ? P2(I, G) && (N = true, k2.splice(k2.indexOf(G), 0, I)) : u2.keepStatic = true;
                                    break;
                                  }
                                }
                              }
                              N || k2.push(I);
                            }
                          }
                          m = b2.concat(k2), h = e3, g = m.length > 0, r4 = k2.length > 0, i4 = T.slice();
                        } else
                          r4 = c2(y2.matches[_] || t4.matches[_], [_].concat(s4), p3);
                        if (r4)
                          return true;
                      }();
                    if (r4.isQuantifier && p3 !== t4.matches[t4.matches.indexOf(r4) - 1])
                      return function() {
                        for (var a2 = r4, o3 = false, f2 = i4.length > 0 ? i4.shift() : 0; f2 < (isNaN(a2.quantifier.max) ? f2 + 1 : a2.quantifier.max) && h <= e3; f2++) {
                          var d3 = t4.matches[t4.matches.indexOf(a2) - 1];
                          if (r4 = c2(d3, [f2].concat(s4), d3)) {
                            if (m.forEach(function(t5, i5) {
                              (n3 = b(d3, t5.match) ? t5.match : m[m.length - 1].match).optionalQuantifier = f2 >= a2.quantifier.min, n3.jit = (f2 + 1) * (d3.matches.indexOf(n3) + 1) > a2.quantifier.jit, n3.optionalQuantifier && v3(n3, d3) && (g = true, h = e3, u2.greedy && null == l2.validPositions[e3 - 1] && f2 > a2.quantifier.min && -1 != ["*", "+"].indexOf(a2.quantifier.max) && (m.pop(), y = void 0), o3 = true, r4 = false), !o3 && n3.jit && (l2.jitOffset[e3] = d3.matches.length - d3.matches.indexOf(n3));
                            }), o3)
                              break;
                            return true;
                          }
                        }
                      }();
                    if (r4 = k(r4, i4, s4, p3))
                      return true;
                  } else
                    h++;
                }
                for (var p2 = i4.length > 0 ? i4.shift() : 0; p2 < t4.matches.length; p2++)
                  if (true !== t4.matches[p2].isQuantifier) {
                    var v2 = c2(t4.matches[p2], [p2].concat(r3), s3);
                    if (v2 && h === e3)
                      return v2;
                    if (h > e3)
                      break;
                  }
              }
              function b(e4, t4) {
                var i4 = -1 != e4.matches.indexOf(t4);
                return i4 || e4.matches.forEach(function(e5, n4) {
                  void 0 === e5.matches || i4 || (i4 = b(e5, t4));
                }), i4;
              }
              if (e3 > -1) {
                if (void 0 === t3) {
                  for (var x, P = e3 - 1; void 0 === (x = l2.validPositions[P] || l2.tests[P]) && P > -1; )
                    P--;
                  void 0 !== x && P > -1 && (v = function(e4, t4) {
                    var i4, n4 = [];
                    return Array.isArray(t4) || (t4 = [t4]), t4.length > 0 && (void 0 === t4[0].alternation || true === u2.keepStatic ? 0 === (n4 = c.call(o2, e4, t4.slice()).locator.slice()).length && (n4 = t4[0].locator.slice()) : t4.forEach(function(e5) {
                      "" !== e5.def && (0 === n4.length ? (i4 = e5.alternation, n4 = e5.locator.slice()) : e5.locator[i4] && -1 === n4[i4].toString().indexOf(e5.locator[i4]) && (n4[i4] += "," + e5.locator[i4]));
                    })), n4;
                  }(P, x), y = v.join(""), h = P);
                }
                if (l2.tests[e3] && l2.tests[e3][0].cd === y)
                  return l2.tests[e3];
                for (var w = v.shift(); w < p.length; w++) {
                  if (k(p[w], v, [w]) && h === e3 || h > e3)
                    break;
                }
              }
              return (0 === m.length || g) && m.push({
                match: {
                  fn: null,
                  static: true,
                  optionality: false,
                  casing: null,
                  def: "",
                  placeholder: ""
                },
                locator: [],
                mloc: {},
                cd: y
              }), void 0 !== t3 && l2.tests[e3] ? r2 = s2.extend(true, [], m) : (l2.tests[e3] = s2.extend(true, [], m), r2 = l2.tests[e3]), m.forEach(function(e4) {
                e4.match.optionality = e4.match.defOptionality || false;
              }), r2;
            }
          },
          7215: function(e2, t2, i2) {
            Object.defineProperty(t2, "__esModule", {
              value: true
            }), t2.alternate = s, t2.checkAlternationMatch = function(e3, t3, i3) {
              for (var n3, a2 = this.opts.greedy ? t3 : t3.slice(0, 1), r2 = false, o2 = void 0 !== i3 ? i3.split(",") : [], s2 = 0; s2 < o2.length; s2++)
                -1 !== (n3 = e3.indexOf(o2[s2])) && e3.splice(n3, 1);
              for (var l2 = 0; l2 < e3.length; l2++)
                if (a2.includes(e3[l2])) {
                  r2 = true;
                  break;
                }
              return r2;
            }, t2.handleRemove = function(e3, t3, i3, o2, l2) {
              var c2 = this, u2 = this.maskset, f2 = this.opts;
              if ((f2.numericInput || c2.isRTL) && (t3 === a.keys.Backspace ? t3 = a.keys.Delete : t3 === a.keys.Delete && (t3 = a.keys.Backspace), c2.isRTL)) {
                var d2 = i3.end;
                i3.end = i3.begin, i3.begin = d2;
              }
              var p2, h2 = r.getLastValidPosition.call(c2, void 0, true);
              i3.end >= r.getBuffer.call(c2).length && h2 >= i3.end && (i3.end = h2 + 1);
              t3 === a.keys.Backspace ? i3.end - i3.begin < 1 && (i3.begin = r.seekPrevious.call(c2, i3.begin)) : t3 === a.keys.Delete && i3.begin === i3.end && (i3.end = r.isMask.call(c2, i3.end, true, true) ? i3.end + 1 : r.seekNext.call(c2, i3.end) + 1);
              if (false !== (p2 = v.call(c2, i3))) {
                if (true !== o2 && false !== f2.keepStatic || null !== f2.regex && -1 !== n2.getTest.call(c2, i3.begin).match.def.indexOf("|")) {
                  var m = s.call(c2, true);
                  if (m) {
                    var g = void 0 !== m.caret ? m.caret : m.pos ? r.seekNext.call(c2, m.pos.begin ? m.pos.begin : m.pos) : r.getLastValidPosition.call(c2, -1, true);
                    (t3 !== a.keys.Delete || i3.begin > g) && i3.begin;
                  }
                }
                true !== o2 && (u2.p = t3 === a.keys.Delete ? i3.begin + p2 : i3.begin, u2.p = r.determineNewCaretPosition.call(c2, {
                  begin: u2.p,
                  end: u2.p
                }, false, false === f2.insertMode && t3 === a.keys.Backspace ? "none" : void 0).begin);
              }
            }, t2.isComplete = c, t2.isSelection = u, t2.isValid = f, t2.refreshFromBuffer = p, t2.revalidateMask = v;
            var n2 = i2(4713), a = i2(2839), r = i2(8711), o = i2(6030);
            function s(e3, t3, i3, a2, o2, l2) {
              var c2, u2, d2, p2, h2, v2, m, g, y, k, b, x = this, P = this.dependencyLib, w = this.opts, S = x.maskset, M = P.extend(true, [], S.validPositions), _ = P.extend(true, {}, S.tests), O = false, E = false, T = void 0 !== o2 ? o2 : r.getLastValidPosition.call(x);
              if (l2 && (k = l2.begin, b = l2.end, l2.begin > l2.end && (k = l2.end, b = l2.begin)), -1 === T && void 0 === o2)
                c2 = 0, u2 = (p2 = n2.getTest.call(x, c2)).alternation;
              else
                for (; T >= 0; T--)
                  if ((d2 = S.validPositions[T]) && void 0 !== d2.alternation) {
                    if (T <= (e3 || 0) && p2 && p2.locator[d2.alternation] !== d2.locator[d2.alternation])
                      break;
                    c2 = T, u2 = S.validPositions[c2].alternation, p2 = d2;
                  }
              if (void 0 !== u2) {
                m = parseInt(c2), S.excludes[m] = S.excludes[m] || [], true !== e3 && S.excludes[m].push((0, n2.getDecisionTaker)(p2) + ":" + p2.alternation);
                var j = [], A = -1;
                for (h2 = m; h2 < r.getLastValidPosition.call(x, void 0, true) + 1; h2++)
                  -1 === A && e3 <= h2 && void 0 !== t3 && (j.push(t3), A = j.length - 1), (v2 = S.validPositions[h2]) && true !== v2.generatedInput && (void 0 === l2 || h2 < k || h2 >= b) && j.push(v2.input), delete S.validPositions[h2];
                for (-1 === A && void 0 !== t3 && (j.push(t3), A = j.length - 1); void 0 !== S.excludes[m] && S.excludes[m].length < 10; ) {
                  for (S.tests = {}, r.resetMaskSet.call(x, true), O = true, h2 = 0; h2 < j.length && (g = O.caret || r.getLastValidPosition.call(x, void 0, true) + 1, y = j[h2], O = f.call(x, g, y, false, a2, true)); h2++)
                    h2 === A && (E = O), 1 == e3 && O && (E = {
                      caretPos: h2
                    });
                  if (O)
                    break;
                  if (r.resetMaskSet.call(x), p2 = n2.getTest.call(x, m), S.validPositions = P.extend(true, [], M), S.tests = P.extend(true, {}, _), !S.excludes[m]) {
                    E = s.call(x, e3, t3, i3, a2, m - 1, l2);
                    break;
                  }
                  var D = (0, n2.getDecisionTaker)(p2);
                  if (-1 !== S.excludes[m].indexOf(D + ":" + p2.alternation)) {
                    E = s.call(x, e3, t3, i3, a2, m - 1, l2);
                    break;
                  }
                  for (S.excludes[m].push(D + ":" + p2.alternation), h2 = m; h2 < r.getLastValidPosition.call(x, void 0, true) + 1; h2++)
                    delete S.validPositions[h2];
                }
              }
              return E && false === w.keepStatic || delete S.excludes[m], E;
            }
            function l(e3, t3, i3) {
              var n3 = this.opts, r2 = this.maskset;
              switch (n3.casing || t3.casing) {
                case "upper":
                  e3 = e3.toUpperCase();
                  break;
                case "lower":
                  e3 = e3.toLowerCase();
                  break;
                case "title":
                  var o2 = r2.validPositions[i3 - 1];
                  e3 = 0 === i3 || o2 && o2.input === String.fromCharCode(a.keyCode.Space) ? e3.toUpperCase() : e3.toLowerCase();
                  break;
                default:
                  if ("function" == typeof n3.casing) {
                    var s2 = Array.prototype.slice.call(arguments);
                    s2.push(r2.validPositions), e3 = n3.casing.apply(this, s2);
                  }
              }
              return e3;
            }
            function c(e3) {
              var t3 = this, i3 = this.opts, a2 = this.maskset;
              if ("function" == typeof i3.isComplete)
                return i3.isComplete(e3, i3);
              if ("*" !== i3.repeat) {
                var o2 = false, s2 = r.determineLastRequiredPosition.call(t3, true), l2 = r.seekPrevious.call(t3, s2.l);
                if (void 0 === s2.def || s2.def.newBlockMarker || s2.def.optionality || s2.def.optionalQuantifier) {
                  o2 = true;
                  for (var c2 = 0; c2 <= l2; c2++) {
                    var u2 = n2.getTestTemplate.call(t3, c2).match;
                    if (true !== u2.static && void 0 === a2.validPositions[c2] && true !== u2.optionality && true !== u2.optionalQuantifier || true === u2.static && e3[c2] !== n2.getPlaceholder.call(t3, c2, u2)) {
                      o2 = false;
                      break;
                    }
                  }
                }
                return o2;
              }
            }
            function u(e3) {
              var t3 = this.opts.insertMode ? 0 : 1;
              return this.isRTL ? e3.begin - e3.end > t3 : e3.end - e3.begin > t3;
            }
            function f(e3, t3, i3, a2, o2, d2, m) {
              var g = this, y = this.dependencyLib, k = this.opts, b = g.maskset;
              i3 = true === i3;
              var x = e3;
              function P(e4) {
                if (void 0 !== e4) {
                  if (void 0 !== e4.remove && (Array.isArray(e4.remove) || (e4.remove = [e4.remove]), e4.remove.sort(function(e5, t5) {
                    return g.isRTL ? e5.pos - t5.pos : t5.pos - e5.pos;
                  }).forEach(function(e5) {
                    v.call(g, {
                      begin: e5,
                      end: e5 + 1
                    });
                  }), e4.remove = void 0), void 0 !== e4.insert && (Array.isArray(e4.insert) || (e4.insert = [e4.insert]), e4.insert.sort(function(e5, t5) {
                    return g.isRTL ? t5.pos - e5.pos : e5.pos - t5.pos;
                  }).forEach(function(e5) {
                    "" !== e5.c && f.call(g, e5.pos, e5.c, void 0 === e5.strict || e5.strict, void 0 !== e5.fromIsValid ? e5.fromIsValid : a2);
                  }), e4.insert = void 0), e4.refreshFromBuffer && e4.buffer) {
                    var t4 = e4.refreshFromBuffer;
                    p.call(g, true === t4 ? t4 : t4.start, t4.end, e4.buffer), e4.refreshFromBuffer = void 0;
                  }
                  void 0 !== e4.rewritePosition && (x = e4.rewritePosition, e4 = true);
                }
                return e4;
              }
              function w(t4, i4, o3) {
                var s2 = false;
                return n2.getTests.call(g, t4).every(function(c2, f2) {
                  var d3 = c2.match;
                  if (r.getBuffer.call(g, true), false !== (s2 = (!d3.jit || void 0 !== b.validPositions[r.seekPrevious.call(g, t4)]) && (null != d3.fn ? d3.fn.test(i4, b, t4, o3, k, u.call(g, e3)) : (i4 === d3.def || i4 === k.skipOptionalPartCharacter) && "" !== d3.def && {
                    c: n2.getPlaceholder.call(g, t4, d3, true) || d3.def,
                    pos: t4
                  }))) {
                    var p2 = void 0 !== s2.c ? s2.c : i4, h2 = t4;
                    return p2 = p2 === k.skipOptionalPartCharacter && true === d3.static ? n2.getPlaceholder.call(g, t4, d3, true) || d3.def : p2, true !== (s2 = P(s2)) && void 0 !== s2.pos && s2.pos !== t4 && (h2 = s2.pos), true !== s2 && void 0 === s2.pos && void 0 === s2.c ? false : (false === v.call(g, e3, y.extend({}, c2, {
                      input: l.call(g, p2, d3, h2)
                    }), a2, h2) && (s2 = false), false);
                  }
                  return true;
                }), s2;
              }
              void 0 !== e3.begin && (x = g.isRTL ? e3.end : e3.begin);
              var S = true, M = y.extend(true, {}, b.validPositions);
              if (false === k.keepStatic && void 0 !== b.excludes[x] && true !== o2 && true !== a2)
                for (var _ = x; _ < (g.isRTL ? e3.begin : e3.end); _++)
                  void 0 !== b.excludes[_] && (b.excludes[_] = void 0, delete b.tests[_]);
              if ("function" == typeof k.preValidation && true !== a2 && true !== d2 && (S = P(S = k.preValidation.call(g, r.getBuffer.call(g), x, t3, u.call(g, e3), k, b, e3, i3 || o2))), true === S) {
                if (S = w(x, t3, i3), (!i3 || true === a2) && false === S && true !== d2) {
                  var O = b.validPositions[x];
                  if (!O || true !== O.match.static || O.match.def !== t3 && t3 !== k.skipOptionalPartCharacter) {
                    if (k.insertMode || void 0 === b.validPositions[r.seekNext.call(g, x)] || e3.end > x) {
                      var E = false;
                      if (b.jitOffset[x] && void 0 === b.validPositions[r.seekNext.call(g, x)] && false !== (S = f.call(g, x + b.jitOffset[x], t3, true, true)) && (true !== o2 && (S.caret = x), E = true), e3.end > x && (b.validPositions[x] = void 0), !E && !r.isMask.call(g, x, k.keepStatic && 0 === x)) {
                        for (var T = x + 1, j = r.seekNext.call(g, x, false, 0 !== x); T <= j; T++)
                          if (false !== (S = w(T, t3, i3))) {
                            S = h.call(g, x, void 0 !== S.pos ? S.pos : T) || S, x = T;
                            break;
                          }
                      }
                    }
                  } else
                    S = {
                      caret: r.seekNext.call(g, x)
                    };
                }
                g.hasAlternator && true !== o2 && !i3 && (false === S && k.keepStatic && (c.call(g, r.getBuffer.call(g)) || 0 === x) ? S = s.call(g, x, t3, i3, a2, void 0, e3) : (u.call(g, e3) && b.tests[x] && b.tests[x].length > 1 && k.keepStatic || 1 == S && true !== k.numericInput && b.tests[x] && b.tests[x].length > 1 && r.getLastValidPosition.call(g, void 0, true) > x) && (S = s.call(g, true))), true === S && (S = {
                  pos: x
                });
              }
              if ("function" == typeof k.postValidation && true !== a2 && true !== d2) {
                var A = k.postValidation.call(g, r.getBuffer.call(g, true), void 0 !== e3.begin ? g.isRTL ? e3.end : e3.begin : e3, t3, S, k, b, i3, m);
                void 0 !== A && (S = true === A ? S : A);
              }
              S && void 0 === S.pos && (S.pos = x), false === S || true === d2 ? (r.resetMaskSet.call(g, true), b.validPositions = y.extend(true, [], M)) : h.call(g, void 0, x, true);
              var D = P(S);
              void 0 !== g.maxLength && (r.getBuffer.call(g).length > g.maxLength && !a2 && (r.resetMaskSet.call(g, true), b.validPositions = y.extend(true, [], M), D = false));
              return D;
            }
            function d(e3, t3, i3) {
              for (var a2 = this.maskset, r2 = false, o2 = n2.getTests.call(this, e3), s2 = 0; s2 < o2.length; s2++) {
                if (o2[s2].match && (o2[s2].match.nativeDef === t3.match[i3.shiftPositions ? "def" : "nativeDef"] && (!i3.shiftPositions || !t3.match.static) || o2[s2].match.nativeDef === t3.match.nativeDef || i3.regex && !o2[s2].match.static && o2[s2].match.fn.test(t3.input, a2, e3, false, i3))) {
                  r2 = true;
                  break;
                }
                if (o2[s2].match && o2[s2].match.def === t3.match.nativeDef) {
                  r2 = void 0;
                  break;
                }
              }
              return false === r2 && void 0 !== a2.jitOffset[e3] && (r2 = d.call(this, e3 + a2.jitOffset[e3], t3, i3)), r2;
            }
            function p(e3, t3, i3) {
              var n3, a2, s2 = this, l2 = this.maskset, c2 = this.opts, u2 = this.dependencyLib, f2 = c2.skipOptionalPartCharacter, d2 = s2.isRTL ? i3.slice().reverse() : i3;
              if (c2.skipOptionalPartCharacter = "", true === e3)
                r.resetMaskSet.call(s2), l2.tests = {}, e3 = 0, t3 = i3.length, a2 = r.determineNewCaretPosition.call(s2, {
                  begin: 0,
                  end: 0
                }, false).begin;
              else {
                for (n3 = e3; n3 < t3; n3++)
                  delete l2.validPositions[n3];
                a2 = e3;
              }
              var p2 = new u2.Event("keypress");
              for (n3 = e3; n3 < t3; n3++) {
                p2.key = d2[n3].toString(), s2.ignorable = false;
                var h2 = o.EventHandlers.keypressEvent.call(s2, p2, true, false, false, a2);
                false !== h2 && void 0 !== h2 && (a2 = h2.forwardPosition);
              }
              c2.skipOptionalPartCharacter = f2;
            }
            function h(e3, t3, i3) {
              var a2 = this, o2 = this.maskset, s2 = this.dependencyLib;
              if (void 0 === e3)
                for (e3 = t3 - 1; e3 > 0 && !o2.validPositions[e3]; e3--)
                  ;
              for (var l2 = e3; l2 < t3; l2++) {
                if (void 0 === o2.validPositions[l2] && !r.isMask.call(a2, l2, false)) {
                  if (0 == l2 ? n2.getTest.call(a2, l2) : o2.validPositions[l2 - 1]) {
                    var c2 = n2.getTests.call(a2, l2).slice();
                    "" === c2[c2.length - 1].match.def && c2.pop();
                    var u2, d2 = n2.determineTestTemplate.call(a2, l2, c2);
                    if (d2 && (true !== d2.match.jit || "master" === d2.match.newBlockMarker && (u2 = o2.validPositions[l2 + 1]) && true === u2.match.optionalQuantifier) && ((d2 = s2.extend({}, d2, {
                      input: n2.getPlaceholder.call(a2, l2, d2.match, true) || d2.match.def
                    })).generatedInput = true, v.call(a2, l2, d2, true), true !== i3)) {
                      var p2 = o2.validPositions[t3].input;
                      return o2.validPositions[t3] = void 0, f.call(a2, t3, p2, true, true);
                    }
                  }
                }
              }
            }
            function v(e3, t3, i3, a2) {
              var o2 = this, s2 = this.maskset, l2 = this.opts, c2 = this.dependencyLib;
              function u2(e4, t4, i4) {
                var n3 = t4[e4];
                if (void 0 !== n3 && true === n3.match.static && true !== n3.match.optionality && (void 0 === t4[0] || void 0 === t4[0].alternation)) {
                  var a3 = i4.begin <= e4 - 1 ? t4[e4 - 1] && true === t4[e4 - 1].match.static && t4[e4 - 1] : t4[e4 - 1], r2 = i4.end > e4 + 1 ? t4[e4 + 1] && true === t4[e4 + 1].match.static && t4[e4 + 1] : t4[e4 + 1];
                  return a3 && r2;
                }
                return false;
              }
              var p2 = 0, h2 = void 0 !== e3.begin ? e3.begin : e3, v2 = void 0 !== e3.end ? e3.end : e3, m = true;
              if (e3.begin > e3.end && (h2 = e3.end, v2 = e3.begin), a2 = void 0 !== a2 ? a2 : h2, void 0 === i3 && (h2 !== v2 || l2.insertMode && void 0 !== s2.validPositions[a2] || void 0 === t3 || t3.match.optionalQuantifier || t3.match.optionality)) {
                var g, y = c2.extend(true, {}, s2.validPositions), k = r.getLastValidPosition.call(o2, void 0, true);
                for (s2.p = h2, g = k; g >= h2; g--)
                  delete s2.validPositions[g], void 0 === t3 && delete s2.tests[g + 1];
                var b, x, P = a2, w = P;
                for (t3 && (s2.validPositions[a2] = c2.extend(true, {}, t3), w++, P++), g = t3 ? v2 : v2 - 1; g <= k; g++) {
                  if (void 0 !== (b = y[g]) && true !== b.generatedInput && (g >= v2 || g >= h2 && u2(g, y, {
                    begin: h2,
                    end: v2
                  }))) {
                    for (; "" !== n2.getTest.call(o2, w).match.def; ) {
                      if (false !== (x = d.call(o2, w, b, l2)) || "+" === b.match.def) {
                        "+" === b.match.def && r.getBuffer.call(o2, true);
                        var S = f.call(o2, w, b.input, "+" !== b.match.def, true);
                        if (m = false !== S, P = (S.pos || w) + 1, !m && x)
                          break;
                      } else
                        m = false;
                      if (m) {
                        void 0 === t3 && b.match.static && g === e3.begin && p2++;
                        break;
                      }
                      if (!m && r.getBuffer.call(o2), w > s2.maskLength)
                        break;
                      w++;
                    }
                    "" == n2.getTest.call(o2, w).match.def && (m = false), w = P;
                  }
                  if (!m)
                    break;
                }
                if (!m)
                  return s2.validPositions = c2.extend(true, [], y), r.resetMaskSet.call(o2, true), false;
              } else
                t3 && n2.getTest.call(o2, a2).match.cd === t3.match.cd && (s2.validPositions[a2] = c2.extend(true, {}, t3));
              return r.resetMaskSet.call(o2, true), p2;
            }
          }
        }, t = {};
        function i(n2) {
          var a = t[n2];
          if (void 0 !== a)
            return a.exports;
          var r = t[n2] = {
            exports: {}
          };
          return e[n2](r, r.exports, i), r.exports;
        }
        var n = {};
        return function() {
          var e2, t2 = n;
          Object.defineProperty(t2, "__esModule", {
            value: true
          }), t2.default = void 0, i(7149), i(3194), i(9302), i(4013), i(3851), i(219), i(207), i(5296);
          var a = ((e2 = i(2394)) && e2.__esModule ? e2 : {
            default: e2
          }).default;
          t2.default = a;
        }(), n;
      }();
    });
  }
});

// node_modules/topbar/topbar.min.js
var require_topbar_min = __commonJS({
  "node_modules/topbar/topbar.min.js"(exports, module2) {
    (function(window2, document2) {
      "use strict";
      !function() {
        for (var lastTime = 0, vendors = ["ms", "moz", "webkit", "o"], x = 0; x < vendors.length && !window2.requestAnimationFrame; ++x)
          window2.requestAnimationFrame = window2[vendors[x] + "RequestAnimationFrame"], window2.cancelAnimationFrame = window2[vendors[x] + "CancelAnimationFrame"] || window2[vendors[x] + "CancelRequestAnimationFrame"];
        window2.requestAnimationFrame || (window2.requestAnimationFrame = function(callback, element) {
          var currTime = (/* @__PURE__ */ new Date()).getTime(), timeToCall = Math.max(0, 16 - (currTime - lastTime)), id = window2.setTimeout(function() {
            callback(currTime + timeToCall);
          }, timeToCall);
          return lastTime = currTime + timeToCall, id;
        }), window2.cancelAnimationFrame || (window2.cancelAnimationFrame = function(id) {
          clearTimeout(id);
        });
      }();
      function repaint() {
        canvas.width = window2.innerWidth, canvas.height = 5 * options.barThickness;
        var ctx = canvas.getContext("2d");
        ctx.shadowBlur = options.shadowBlur, ctx.shadowColor = options.shadowColor;
        var stop, lineGradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
        for (stop in options.barColors)
          lineGradient.addColorStop(stop, options.barColors[stop]);
        ctx.lineWidth = options.barThickness, ctx.beginPath(), ctx.moveTo(0, options.barThickness / 2), ctx.lineTo(Math.ceil(currentProgress * canvas.width), options.barThickness / 2), ctx.strokeStyle = lineGradient, ctx.stroke();
      }
      var canvas, progressTimerId, fadeTimerId, currentProgress, showing, options = { autoRun: true, barThickness: 3, barColors: { 0: "rgba(26,  188, 156, .9)", ".25": "rgba(52,  152, 219, .9)", ".50": "rgba(241, 196, 15,  .9)", ".75": "rgba(230, 126, 34,  .9)", "1.0": "rgba(211, 84,  0,   .9)" }, shadowBlur: 10, shadowColor: "rgba(0,   0,   0,   .6)", className: null }, topbar2 = { config: function(opts) {
        for (var key in opts)
          options.hasOwnProperty(key) && (options[key] = opts[key]);
      }, show: function() {
        var type, handler, elem;
        showing || (showing = true, null !== fadeTimerId && window2.cancelAnimationFrame(fadeTimerId), canvas || ((elem = (canvas = document2.createElement("canvas")).style).position = "fixed", elem.top = elem.left = elem.right = elem.margin = elem.padding = 0, elem.zIndex = 100001, elem.display = "none", options.className && canvas.classList.add(options.className), document2.body.appendChild(canvas), type = "resize", handler = repaint, (elem = window2).addEventListener ? elem.addEventListener(type, handler, false) : elem.attachEvent ? elem.attachEvent("on" + type, handler) : elem["on" + type] = handler), canvas.style.opacity = 1, canvas.style.display = "block", topbar2.progress(0), options.autoRun && function loop() {
          progressTimerId = window2.requestAnimationFrame(loop), topbar2.progress("+" + 0.05 * Math.pow(1 - Math.sqrt(currentProgress), 2));
        }());
      }, progress: function(to) {
        return void 0 === to || ("string" == typeof to && (to = (0 <= to.indexOf("+") || 0 <= to.indexOf("-") ? currentProgress : 0) + parseFloat(to)), currentProgress = 1 < to ? 1 : to, repaint()), currentProgress;
      }, hide: function() {
        showing && (showing = false, null != progressTimerId && (window2.cancelAnimationFrame(progressTimerId), progressTimerId = null), function loop() {
          return 1 <= topbar2.progress("+.1") && (canvas.style.opacity -= 0.05, canvas.style.opacity <= 0.05) ? (canvas.style.display = "none", void (fadeTimerId = null)) : void (fadeTimerId = window2.requestAnimationFrame(loop));
        }());
      } };
      "object" == typeof module2 && "object" == typeof module2.exports ? module2.exports = topbar2 : "function" == typeof define && define.amd ? define(function() {
        return topbar2;
      }) : this.topbar = topbar2;
    }).call(exports, window, document);
  }
});

// ../deps/phoenix_html/priv/static/phoenix_html.js
(function() {
  var PolyfillEvent = eventConstructor();
  function eventConstructor() {
    if (typeof window.CustomEvent === "function")
      return window.CustomEvent;
    function CustomEvent2(event, params) {
      params = params || { bubbles: false, cancelable: false, detail: void 0 };
      var evt = document.createEvent("CustomEvent");
      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
      return evt;
    }
    CustomEvent2.prototype = window.Event.prototype;
    return CustomEvent2;
  }
  function buildHiddenInput(name, value) {
    var input = document.createElement("input");
    input.type = "hidden";
    input.name = name;
    input.value = value;
    return input;
  }
  function handleClick(element, targetModifierKey) {
    var to = element.getAttribute("data-to"), method = buildHiddenInput("_method", element.getAttribute("data-method")), csrf = buildHiddenInput("_csrf_token", element.getAttribute("data-csrf")), form = document.createElement("form"), submit = document.createElement("input"), target = element.getAttribute("target");
    form.method = element.getAttribute("data-method") === "get" ? "get" : "post";
    form.action = to;
    form.style.display = "none";
    if (target)
      form.target = target;
    else if (targetModifierKey)
      form.target = "_blank";
    form.appendChild(csrf);
    form.appendChild(method);
    document.body.appendChild(form);
    submit.type = "submit";
    form.appendChild(submit);
    submit.click();
  }
  window.addEventListener("click", function(e) {
    var element = e.target;
    if (e.defaultPrevented)
      return;
    while (element && element.getAttribute) {
      var phoenixLinkEvent = new PolyfillEvent("phoenix.link.click", {
        "bubbles": true,
        "cancelable": true
      });
      if (!element.dispatchEvent(phoenixLinkEvent)) {
        e.preventDefault();
        e.stopImmediatePropagation();
        return false;
      }
      if (element.getAttribute("data-method")) {
        handleClick(element, e.metaKey || e.shiftKey);
        e.preventDefault();
        return false;
      } else {
        element = element.parentNode;
      }
    }
  }, false);
  window.addEventListener("phoenix.link.click", function(e) {
    var message = e.target.getAttribute("data-confirm");
    if (message && !window.confirm(message)) {
      e.preventDefault();
    }
  }, false);
})();

// js/app.js
var import_inputmask = __toESM(require_inputmask());

// ../deps/phoenix/priv/static/phoenix.mjs
var closure = (value) => {
  if (typeof value === "function") {
    return value;
  } else {
    let closure22 = function() {
      return value;
    };
    return closure22;
  }
};
var globalSelf = typeof self !== "undefined" ? self : null;
var phxWindow = typeof window !== "undefined" ? window : null;
var global = globalSelf || phxWindow || global;
var DEFAULT_VSN = "2.0.0";
var SOCKET_STATES = { connecting: 0, open: 1, closing: 2, closed: 3 };
var DEFAULT_TIMEOUT = 1e4;
var WS_CLOSE_NORMAL = 1e3;
var CHANNEL_STATES = {
  closed: "closed",
  errored: "errored",
  joined: "joined",
  joining: "joining",
  leaving: "leaving"
};
var CHANNEL_EVENTS = {
  close: "phx_close",
  error: "phx_error",
  join: "phx_join",
  reply: "phx_reply",
  leave: "phx_leave"
};
var TRANSPORTS = {
  longpoll: "longpoll",
  websocket: "websocket"
};
var XHR_STATES = {
  complete: 4
};
var Push = class {
  constructor(channel, event, payload, timeout) {
    this.channel = channel;
    this.event = event;
    this.payload = payload || function() {
      return {};
    };
    this.receivedResp = null;
    this.timeout = timeout;
    this.timeoutTimer = null;
    this.recHooks = [];
    this.sent = false;
  }
  /**
   *
   * @param {number} timeout
   */
  resend(timeout) {
    this.timeout = timeout;
    this.reset();
    this.send();
  }
  /**
   *
   */
  send() {
    if (this.hasReceived("timeout")) {
      return;
    }
    this.startTimeout();
    this.sent = true;
    this.channel.socket.push({
      topic: this.channel.topic,
      event: this.event,
      payload: this.payload(),
      ref: this.ref,
      join_ref: this.channel.joinRef()
    });
  }
  /**
   *
   * @param {*} status
   * @param {*} callback
   */
  receive(status, callback) {
    if (this.hasReceived(status)) {
      callback(this.receivedResp.response);
    }
    this.recHooks.push({ status, callback });
    return this;
  }
  /**
   * @private
   */
  reset() {
    this.cancelRefEvent();
    this.ref = null;
    this.refEvent = null;
    this.receivedResp = null;
    this.sent = false;
  }
  /**
   * @private
   */
  matchReceive({ status, response, _ref }) {
    this.recHooks.filter((h) => h.status === status).forEach((h) => h.callback(response));
  }
  /**
   * @private
   */
  cancelRefEvent() {
    if (!this.refEvent) {
      return;
    }
    this.channel.off(this.refEvent);
  }
  /**
   * @private
   */
  cancelTimeout() {
    clearTimeout(this.timeoutTimer);
    this.timeoutTimer = null;
  }
  /**
   * @private
   */
  startTimeout() {
    if (this.timeoutTimer) {
      this.cancelTimeout();
    }
    this.ref = this.channel.socket.makeRef();
    this.refEvent = this.channel.replyEventName(this.ref);
    this.channel.on(this.refEvent, (payload) => {
      this.cancelRefEvent();
      this.cancelTimeout();
      this.receivedResp = payload;
      this.matchReceive(payload);
    });
    this.timeoutTimer = setTimeout(() => {
      this.trigger("timeout", {});
    }, this.timeout);
  }
  /**
   * @private
   */
  hasReceived(status) {
    return this.receivedResp && this.receivedResp.status === status;
  }
  /**
   * @private
   */
  trigger(status, response) {
    this.channel.trigger(this.refEvent, { status, response });
  }
};
var Timer = class {
  constructor(callback, timerCalc) {
    this.callback = callback;
    this.timerCalc = timerCalc;
    this.timer = null;
    this.tries = 0;
  }
  reset() {
    this.tries = 0;
    clearTimeout(this.timer);
  }
  /**
   * Cancels any previous scheduleTimeout and schedules callback
   */
  scheduleTimeout() {
    clearTimeout(this.timer);
    this.timer = setTimeout(() => {
      this.tries = this.tries + 1;
      this.callback();
    }, this.timerCalc(this.tries + 1));
  }
};
var Channel = class {
  constructor(topic, params, socket) {
    this.state = CHANNEL_STATES.closed;
    this.topic = topic;
    this.params = closure(params || {});
    this.socket = socket;
    this.bindings = [];
    this.bindingRef = 0;
    this.timeout = this.socket.timeout;
    this.joinedOnce = false;
    this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout);
    this.pushBuffer = [];
    this.stateChangeRefs = [];
    this.rejoinTimer = new Timer(() => {
      if (this.socket.isConnected()) {
        this.rejoin();
      }
    }, this.socket.rejoinAfterMs);
    this.stateChangeRefs.push(this.socket.onError(() => this.rejoinTimer.reset()));
    this.stateChangeRefs.push(
      this.socket.onOpen(() => {
        this.rejoinTimer.reset();
        if (this.isErrored()) {
          this.rejoin();
        }
      })
    );
    this.joinPush.receive("ok", () => {
      this.state = CHANNEL_STATES.joined;
      this.rejoinTimer.reset();
      this.pushBuffer.forEach((pushEvent) => pushEvent.send());
      this.pushBuffer = [];
    });
    this.joinPush.receive("error", () => {
      this.state = CHANNEL_STATES.errored;
      if (this.socket.isConnected()) {
        this.rejoinTimer.scheduleTimeout();
      }
    });
    this.onClose(() => {
      this.rejoinTimer.reset();
      if (this.socket.hasLogger())
        this.socket.log("channel", `close ${this.topic} ${this.joinRef()}`);
      this.state = CHANNEL_STATES.closed;
      this.socket.remove(this);
    });
    this.onError((reason) => {
      if (this.socket.hasLogger())
        this.socket.log("channel", `error ${this.topic}`, reason);
      if (this.isJoining()) {
        this.joinPush.reset();
      }
      this.state = CHANNEL_STATES.errored;
      if (this.socket.isConnected()) {
        this.rejoinTimer.scheduleTimeout();
      }
    });
    this.joinPush.receive("timeout", () => {
      if (this.socket.hasLogger())
        this.socket.log("channel", `timeout ${this.topic} (${this.joinRef()})`, this.joinPush.timeout);
      let leavePush = new Push(this, CHANNEL_EVENTS.leave, closure({}), this.timeout);
      leavePush.send();
      this.state = CHANNEL_STATES.errored;
      this.joinPush.reset();
      if (this.socket.isConnected()) {
        this.rejoinTimer.scheduleTimeout();
      }
    });
    this.on(CHANNEL_EVENTS.reply, (payload, ref) => {
      this.trigger(this.replyEventName(ref), payload);
    });
  }
  /**
   * Join the channel
   * @param {integer} timeout
   * @returns {Push}
   */
  join(timeout = this.timeout) {
    if (this.joinedOnce) {
      throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");
    } else {
      this.timeout = timeout;
      this.joinedOnce = true;
      this.rejoin();
      return this.joinPush;
    }
  }
  /**
   * Hook into channel close
   * @param {Function} callback
   */
  onClose(callback) {
    this.on(CHANNEL_EVENTS.close, callback);
  }
  /**
   * Hook into channel errors
   * @param {Function} callback
   */
  onError(callback) {
    return this.on(CHANNEL_EVENTS.error, (reason) => callback(reason));
  }
  /**
   * Subscribes on channel events
   *
   * Subscription returns a ref counter, which can be used later to
   * unsubscribe the exact event listener
   *
   * @example
   * const ref1 = channel.on("event", do_stuff)
   * const ref2 = channel.on("event", do_other_stuff)
   * channel.off("event", ref1)
   * // Since unsubscription, do_stuff won't fire,
   * // while do_other_stuff will keep firing on the "event"
   *
   * @param {string} event
   * @param {Function} callback
   * @returns {integer} ref
   */
  on(event, callback) {
    let ref = this.bindingRef++;
    this.bindings.push({ event, ref, callback });
    return ref;
  }
  /**
   * Unsubscribes off of channel events
   *
   * Use the ref returned from a channel.on() to unsubscribe one
   * handler, or pass nothing for the ref to unsubscribe all
   * handlers for the given event.
   *
   * @example
   * // Unsubscribe the do_stuff handler
   * const ref1 = channel.on("event", do_stuff)
   * channel.off("event", ref1)
   *
   * // Unsubscribe all handlers from event
   * channel.off("event")
   *
   * @param {string} event
   * @param {integer} ref
   */
  off(event, ref) {
    this.bindings = this.bindings.filter((bind) => {
      return !(bind.event === event && (typeof ref === "undefined" || ref === bind.ref));
    });
  }
  /**
   * @private
   */
  canPush() {
    return this.socket.isConnected() && this.isJoined();
  }
  /**
   * Sends a message `event` to phoenix with the payload `payload`.
   * Phoenix receives this in the `handle_in(event, payload, socket)`
   * function. if phoenix replies or it times out (default 10000ms),
   * then optionally the reply can be received.
   *
   * @example
   * channel.push("event")
   *   .receive("ok", payload => console.log("phoenix replied:", payload))
   *   .receive("error", err => console.log("phoenix errored", err))
   *   .receive("timeout", () => console.log("timed out pushing"))
   * @param {string} event
   * @param {Object} payload
   * @param {number} [timeout]
   * @returns {Push}
   */
  push(event, payload, timeout = this.timeout) {
    payload = payload || {};
    if (!this.joinedOnce) {
      throw new Error(`tried to push '${event}' to '${this.topic}' before joining. Use channel.join() before pushing events`);
    }
    let pushEvent = new Push(this, event, function() {
      return payload;
    }, timeout);
    if (this.canPush()) {
      pushEvent.send();
    } else {
      pushEvent.startTimeout();
      this.pushBuffer.push(pushEvent);
    }
    return pushEvent;
  }
  /** Leaves the channel
   *
   * Unsubscribes from server events, and
   * instructs channel to terminate on server
   *
   * Triggers onClose() hooks
   *
   * To receive leave acknowledgements, use the `receive`
   * hook to bind to the server ack, ie:
   *
   * @example
   * channel.leave().receive("ok", () => alert("left!") )
   *
   * @param {integer} timeout
   * @returns {Push}
   */
  leave(timeout = this.timeout) {
    this.rejoinTimer.reset();
    this.joinPush.cancelTimeout();
    this.state = CHANNEL_STATES.leaving;
    let onClose = () => {
      if (this.socket.hasLogger())
        this.socket.log("channel", `leave ${this.topic}`);
      this.trigger(CHANNEL_EVENTS.close, "leave");
    };
    let leavePush = new Push(this, CHANNEL_EVENTS.leave, closure({}), timeout);
    leavePush.receive("ok", () => onClose()).receive("timeout", () => onClose());
    leavePush.send();
    if (!this.canPush()) {
      leavePush.trigger("ok", {});
    }
    return leavePush;
  }
  /**
   * Overridable message hook
   *
   * Receives all events for specialized message handling
   * before dispatching to the channel callbacks.
   *
   * Must return the payload, modified or unmodified
   * @param {string} event
   * @param {Object} payload
   * @param {integer} ref
   * @returns {Object}
   */
  onMessage(_event, payload, _ref) {
    return payload;
  }
  /**
   * @private
   */
  isMember(topic, event, payload, joinRef) {
    if (this.topic !== topic) {
      return false;
    }
    if (joinRef && joinRef !== this.joinRef()) {
      if (this.socket.hasLogger())
        this.socket.log("channel", "dropping outdated message", { topic, event, payload, joinRef });
      return false;
    } else {
      return true;
    }
  }
  /**
   * @private
   */
  joinRef() {
    return this.joinPush.ref;
  }
  /**
   * @private
   */
  rejoin(timeout = this.timeout) {
    if (this.isLeaving()) {
      return;
    }
    this.socket.leaveOpenTopic(this.topic);
    this.state = CHANNEL_STATES.joining;
    this.joinPush.resend(timeout);
  }
  /**
   * @private
   */
  trigger(event, payload, ref, joinRef) {
    let handledPayload = this.onMessage(event, payload, ref, joinRef);
    if (payload && !handledPayload) {
      throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");
    }
    let eventBindings = this.bindings.filter((bind) => bind.event === event);
    for (let i = 0; i < eventBindings.length; i++) {
      let bind = eventBindings[i];
      bind.callback(handledPayload, ref, joinRef || this.joinRef());
    }
  }
  /**
   * @private
   */
  replyEventName(ref) {
    return `chan_reply_${ref}`;
  }
  /**
   * @private
   */
  isClosed() {
    return this.state === CHANNEL_STATES.closed;
  }
  /**
   * @private
   */
  isErrored() {
    return this.state === CHANNEL_STATES.errored;
  }
  /**
   * @private
   */
  isJoined() {
    return this.state === CHANNEL_STATES.joined;
  }
  /**
   * @private
   */
  isJoining() {
    return this.state === CHANNEL_STATES.joining;
  }
  /**
   * @private
   */
  isLeaving() {
    return this.state === CHANNEL_STATES.leaving;
  }
};
var Ajax = class {
  static request(method, endPoint, accept, body, timeout, ontimeout, callback) {
    if (global.XDomainRequest) {
      let req = new global.XDomainRequest();
      return this.xdomainRequest(req, method, endPoint, body, timeout, ontimeout, callback);
    } else {
      let req = new global.XMLHttpRequest();
      return this.xhrRequest(req, method, endPoint, accept, body, timeout, ontimeout, callback);
    }
  }
  static xdomainRequest(req, method, endPoint, body, timeout, ontimeout, callback) {
    req.timeout = timeout;
    req.open(method, endPoint);
    req.onload = () => {
      let response = this.parseJSON(req.responseText);
      callback && callback(response);
    };
    if (ontimeout) {
      req.ontimeout = ontimeout;
    }
    req.onprogress = () => {
    };
    req.send(body);
    return req;
  }
  static xhrRequest(req, method, endPoint, accept, body, timeout, ontimeout, callback) {
    req.open(method, endPoint, true);
    req.timeout = timeout;
    req.setRequestHeader("Content-Type", accept);
    req.onerror = () => callback && callback(null);
    req.onreadystatechange = () => {
      if (req.readyState === XHR_STATES.complete && callback) {
        let response = this.parseJSON(req.responseText);
        callback(response);
      }
    };
    if (ontimeout) {
      req.ontimeout = ontimeout;
    }
    req.send(body);
    return req;
  }
  static parseJSON(resp) {
    if (!resp || resp === "") {
      return null;
    }
    try {
      return JSON.parse(resp);
    } catch (e) {
      console && console.log("failed to parse JSON response", resp);
      return null;
    }
  }
  static serialize(obj, parentKey) {
    let queryStr = [];
    for (var key in obj) {
      if (!Object.prototype.hasOwnProperty.call(obj, key)) {
        continue;
      }
      let paramKey = parentKey ? `${parentKey}[${key}]` : key;
      let paramVal = obj[key];
      if (typeof paramVal === "object") {
        queryStr.push(this.serialize(paramVal, paramKey));
      } else {
        queryStr.push(encodeURIComponent(paramKey) + "=" + encodeURIComponent(paramVal));
      }
    }
    return queryStr.join("&");
  }
  static appendParams(url, params) {
    if (Object.keys(params).length === 0) {
      return url;
    }
    let prefix = url.match(/\?/) ? "&" : "?";
    return `${url}${prefix}${this.serialize(params)}`;
  }
};
var arrayBufferToBase64 = (buffer) => {
  let binary = "";
  let bytes = new Uint8Array(buffer);
  let len = bytes.byteLength;
  for (let i = 0; i < len; i++) {
    binary += String.fromCharCode(bytes[i]);
  }
  return btoa(binary);
};
var LongPoll = class {
  constructor(endPoint) {
    this.endPoint = null;
    this.token = null;
    this.skipHeartbeat = true;
    this.reqs = /* @__PURE__ */ new Set();
    this.awaitingBatchAck = false;
    this.currentBatch = null;
    this.currentBatchTimer = null;
    this.batchBuffer = [];
    this.onopen = function() {
    };
    this.onerror = function() {
    };
    this.onmessage = function() {
    };
    this.onclose = function() {
    };
    this.pollEndpoint = this.normalizeEndpoint(endPoint);
    this.readyState = SOCKET_STATES.connecting;
    this.poll();
  }
  normalizeEndpoint(endPoint) {
    return endPoint.replace("ws://", "http://").replace("wss://", "https://").replace(new RegExp("(.*)/" + TRANSPORTS.websocket), "$1/" + TRANSPORTS.longpoll);
  }
  endpointURL() {
    return Ajax.appendParams(this.pollEndpoint, { token: this.token });
  }
  closeAndRetry(code, reason, wasClean) {
    this.close(code, reason, wasClean);
    this.readyState = SOCKET_STATES.connecting;
  }
  ontimeout() {
    this.onerror("timeout");
    this.closeAndRetry(1005, "timeout", false);
  }
  isActive() {
    return this.readyState === SOCKET_STATES.open || this.readyState === SOCKET_STATES.connecting;
  }
  poll() {
    this.ajax("GET", "application/json", null, () => this.ontimeout(), (resp) => {
      if (resp) {
        var { status, token, messages } = resp;
        this.token = token;
      } else {
        status = 0;
      }
      switch (status) {
        case 200:
          messages.forEach((msg) => {
            setTimeout(() => this.onmessage({ data: msg }), 0);
          });
          this.poll();
          break;
        case 204:
          this.poll();
          break;
        case 410:
          this.readyState = SOCKET_STATES.open;
          this.onopen({});
          this.poll();
          break;
        case 403:
          this.onerror(403);
          this.close(1008, "forbidden", false);
          break;
        case 0:
        case 500:
          this.onerror(500);
          this.closeAndRetry(1011, "internal server error", 500);
          break;
        default:
          throw new Error(`unhandled poll status ${status}`);
      }
    });
  }
  // we collect all pushes within the current event loop by
  // setTimeout 0, which optimizes back-to-back procedural
  // pushes against an empty buffer
  send(body) {
    if (typeof body !== "string") {
      body = arrayBufferToBase64(body);
    }
    if (this.currentBatch) {
      this.currentBatch.push(body);
    } else if (this.awaitingBatchAck) {
      this.batchBuffer.push(body);
    } else {
      this.currentBatch = [body];
      this.currentBatchTimer = setTimeout(() => {
        this.batchSend(this.currentBatch);
        this.currentBatch = null;
      }, 0);
    }
  }
  batchSend(messages) {
    this.awaitingBatchAck = true;
    this.ajax("POST", "application/x-ndjson", messages.join("\n"), () => this.onerror("timeout"), (resp) => {
      this.awaitingBatchAck = false;
      if (!resp || resp.status !== 200) {
        this.onerror(resp && resp.status);
        this.closeAndRetry(1011, "internal server error", false);
      } else if (this.batchBuffer.length > 0) {
        this.batchSend(this.batchBuffer);
        this.batchBuffer = [];
      }
    });
  }
  close(code, reason, wasClean) {
    for (let req of this.reqs) {
      req.abort();
    }
    this.readyState = SOCKET_STATES.closed;
    let opts = Object.assign({ code: 1e3, reason: void 0, wasClean: true }, { code, reason, wasClean });
    this.batchBuffer = [];
    clearTimeout(this.currentBatchTimer);
    this.currentBatchTimer = null;
    if (typeof CloseEvent !== "undefined") {
      this.onclose(new CloseEvent("close", opts));
    } else {
      this.onclose(opts);
    }
  }
  ajax(method, contentType, body, onCallerTimeout, callback) {
    let req;
    let ontimeout = () => {
      this.reqs.delete(req);
      onCallerTimeout();
    };
    req = Ajax.request(method, this.endpointURL(), contentType, body, this.timeout, ontimeout, (resp) => {
      this.reqs.delete(req);
      if (this.isActive()) {
        callback(resp);
      }
    });
    this.reqs.add(req);
  }
};
var serializer_default = {
  HEADER_LENGTH: 1,
  META_LENGTH: 4,
  KINDS: { push: 0, reply: 1, broadcast: 2 },
  encode(msg, callback) {
    if (msg.payload.constructor === ArrayBuffer) {
      return callback(this.binaryEncode(msg));
    } else {
      let payload = [msg.join_ref, msg.ref, msg.topic, msg.event, msg.payload];
      return callback(JSON.stringify(payload));
    }
  },
  decode(rawPayload, callback) {
    if (rawPayload.constructor === ArrayBuffer) {
      return callback(this.binaryDecode(rawPayload));
    } else {
      let [join_ref, ref, topic, event, payload] = JSON.parse(rawPayload);
      return callback({ join_ref, ref, topic, event, payload });
    }
  },
  // private
  binaryEncode(message) {
    let { join_ref, ref, event, topic, payload } = message;
    let metaLength = this.META_LENGTH + join_ref.length + ref.length + topic.length + event.length;
    let header = new ArrayBuffer(this.HEADER_LENGTH + metaLength);
    let view = new DataView(header);
    let offset = 0;
    view.setUint8(offset++, this.KINDS.push);
    view.setUint8(offset++, join_ref.length);
    view.setUint8(offset++, ref.length);
    view.setUint8(offset++, topic.length);
    view.setUint8(offset++, event.length);
    Array.from(join_ref, (char) => view.setUint8(offset++, char.charCodeAt(0)));
    Array.from(ref, (char) => view.setUint8(offset++, char.charCodeAt(0)));
    Array.from(topic, (char) => view.setUint8(offset++, char.charCodeAt(0)));
    Array.from(event, (char) => view.setUint8(offset++, char.charCodeAt(0)));
    var combined = new Uint8Array(header.byteLength + payload.byteLength);
    combined.set(new Uint8Array(header), 0);
    combined.set(new Uint8Array(payload), header.byteLength);
    return combined.buffer;
  },
  binaryDecode(buffer) {
    let view = new DataView(buffer);
    let kind = view.getUint8(0);
    let decoder = new TextDecoder();
    switch (kind) {
      case this.KINDS.push:
        return this.decodePush(buffer, view, decoder);
      case this.KINDS.reply:
        return this.decodeReply(buffer, view, decoder);
      case this.KINDS.broadcast:
        return this.decodeBroadcast(buffer, view, decoder);
    }
  },
  decodePush(buffer, view, decoder) {
    let joinRefSize = view.getUint8(1);
    let topicSize = view.getUint8(2);
    let eventSize = view.getUint8(3);
    let offset = this.HEADER_LENGTH + this.META_LENGTH - 1;
    let joinRef = decoder.decode(buffer.slice(offset, offset + joinRefSize));
    offset = offset + joinRefSize;
    let topic = decoder.decode(buffer.slice(offset, offset + topicSize));
    offset = offset + topicSize;
    let event = decoder.decode(buffer.slice(offset, offset + eventSize));
    offset = offset + eventSize;
    let data = buffer.slice(offset, buffer.byteLength);
    return { join_ref: joinRef, ref: null, topic, event, payload: data };
  },
  decodeReply(buffer, view, decoder) {
    let joinRefSize = view.getUint8(1);
    let refSize = view.getUint8(2);
    let topicSize = view.getUint8(3);
    let eventSize = view.getUint8(4);
    let offset = this.HEADER_LENGTH + this.META_LENGTH;
    let joinRef = decoder.decode(buffer.slice(offset, offset + joinRefSize));
    offset = offset + joinRefSize;
    let ref = decoder.decode(buffer.slice(offset, offset + refSize));
    offset = offset + refSize;
    let topic = decoder.decode(buffer.slice(offset, offset + topicSize));
    offset = offset + topicSize;
    let event = decoder.decode(buffer.slice(offset, offset + eventSize));
    offset = offset + eventSize;
    let data = buffer.slice(offset, buffer.byteLength);
    let payload = { status: event, response: data };
    return { join_ref: joinRef, ref, topic, event: CHANNEL_EVENTS.reply, payload };
  },
  decodeBroadcast(buffer, view, decoder) {
    let topicSize = view.getUint8(1);
    let eventSize = view.getUint8(2);
    let offset = this.HEADER_LENGTH + 2;
    let topic = decoder.decode(buffer.slice(offset, offset + topicSize));
    offset = offset + topicSize;
    let event = decoder.decode(buffer.slice(offset, offset + eventSize));
    offset = offset + eventSize;
    let data = buffer.slice(offset, buffer.byteLength);
    return { join_ref: null, ref: null, topic, event, payload: data };
  }
};
var Socket = class {
  constructor(endPoint, opts = {}) {
    this.stateChangeCallbacks = { open: [], close: [], error: [], message: [] };
    this.channels = [];
    this.sendBuffer = [];
    this.ref = 0;
    this.timeout = opts.timeout || DEFAULT_TIMEOUT;
    this.transport = opts.transport || global.WebSocket || LongPoll;
    this.establishedConnections = 0;
    this.defaultEncoder = serializer_default.encode.bind(serializer_default);
    this.defaultDecoder = serializer_default.decode.bind(serializer_default);
    this.closeWasClean = false;
    this.binaryType = opts.binaryType || "arraybuffer";
    this.connectClock = 1;
    if (this.transport !== LongPoll) {
      this.encode = opts.encode || this.defaultEncoder;
      this.decode = opts.decode || this.defaultDecoder;
    } else {
      this.encode = this.defaultEncoder;
      this.decode = this.defaultDecoder;
    }
    let awaitingConnectionOnPageShow = null;
    if (phxWindow && phxWindow.addEventListener) {
      phxWindow.addEventListener("pagehide", (_e) => {
        if (this.conn) {
          this.disconnect();
          awaitingConnectionOnPageShow = this.connectClock;
        }
      });
      phxWindow.addEventListener("pageshow", (_e) => {
        if (awaitingConnectionOnPageShow === this.connectClock) {
          awaitingConnectionOnPageShow = null;
          this.connect();
        }
      });
    }
    this.heartbeatIntervalMs = opts.heartbeatIntervalMs || 3e4;
    this.rejoinAfterMs = (tries) => {
      if (opts.rejoinAfterMs) {
        return opts.rejoinAfterMs(tries);
      } else {
        return [1e3, 2e3, 5e3][tries - 1] || 1e4;
      }
    };
    this.reconnectAfterMs = (tries) => {
      if (opts.reconnectAfterMs) {
        return opts.reconnectAfterMs(tries);
      } else {
        return [10, 50, 100, 150, 200, 250, 500, 1e3, 2e3][tries - 1] || 5e3;
      }
    };
    this.logger = opts.logger || null;
    this.longpollerTimeout = opts.longpollerTimeout || 2e4;
    this.params = closure(opts.params || {});
    this.endPoint = `${endPoint}/${TRANSPORTS.websocket}`;
    this.vsn = opts.vsn || DEFAULT_VSN;
    this.heartbeatTimeoutTimer = null;
    this.heartbeatTimer = null;
    this.pendingHeartbeatRef = null;
    this.reconnectTimer = new Timer(() => {
      this.teardown(() => this.connect());
    }, this.reconnectAfterMs);
  }
  /**
   * Returns the LongPoll transport reference
   */
  getLongPollTransport() {
    return LongPoll;
  }
  /**
   * Disconnects and replaces the active transport
   *
   * @param {Function} newTransport - The new transport class to instantiate
   *
   */
  replaceTransport(newTransport) {
    this.connectClock++;
    this.closeWasClean = true;
    this.reconnectTimer.reset();
    this.sendBuffer = [];
    if (this.conn) {
      this.conn.close();
      this.conn = null;
    }
    this.transport = newTransport;
  }
  /**
   * Returns the socket protocol
   *
   * @returns {string}
   */
  protocol() {
    return location.protocol.match(/^https/) ? "wss" : "ws";
  }
  /**
   * The fully qualified socket url
   *
   * @returns {string}
   */
  endPointURL() {
    let uri = Ajax.appendParams(
      Ajax.appendParams(this.endPoint, this.params()),
      { vsn: this.vsn }
    );
    if (uri.charAt(0) !== "/") {
      return uri;
    }
    if (uri.charAt(1) === "/") {
      return `${this.protocol()}:${uri}`;
    }
    return `${this.protocol()}://${location.host}${uri}`;
  }
  /**
   * Disconnects the socket
   *
   * See https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes for valid status codes.
   *
   * @param {Function} callback - Optional callback which is called after socket is disconnected.
   * @param {integer} code - A status code for disconnection (Optional).
   * @param {string} reason - A textual description of the reason to disconnect. (Optional)
   */
  disconnect(callback, code, reason) {
    this.connectClock++;
    this.closeWasClean = true;
    this.reconnectTimer.reset();
    this.teardown(callback, code, reason);
  }
  /**
   *
   * @param {Object} params - The params to send when connecting, for example `{user_id: userToken}`
   *
   * Passing params to connect is deprecated; pass them in the Socket constructor instead:
   * `new Socket("/socket", {params: {user_id: userToken}})`.
   */
  connect(params) {
    if (params) {
      console && console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor");
      this.params = closure(params);
    }
    if (this.conn) {
      return;
    }
    this.connectClock++;
    this.closeWasClean = false;
    this.conn = new this.transport(this.endPointURL());
    this.conn.binaryType = this.binaryType;
    this.conn.timeout = this.longpollerTimeout;
    this.conn.onopen = () => this.onConnOpen();
    this.conn.onerror = (error) => this.onConnError(error);
    this.conn.onmessage = (event) => this.onConnMessage(event);
    this.conn.onclose = (event) => this.onConnClose(event);
  }
  /**
   * Logs the message. Override `this.logger` for specialized logging. noops by default
   * @param {string} kind
   * @param {string} msg
   * @param {Object} data
   */
  log(kind, msg, data) {
    this.logger(kind, msg, data);
  }
  /**
   * Returns true if a logger has been set on this socket.
   */
  hasLogger() {
    return this.logger !== null;
  }
  /**
   * Registers callbacks for connection open events
   *
   * @example socket.onOpen(function(){ console.info("the socket was opened") })
   *
   * @param {Function} callback
   */
  onOpen(callback) {
    let ref = this.makeRef();
    this.stateChangeCallbacks.open.push([ref, callback]);
    return ref;
  }
  /**
   * Registers callbacks for connection close events
   * @param {Function} callback
   */
  onClose(callback) {
    let ref = this.makeRef();
    this.stateChangeCallbacks.close.push([ref, callback]);
    return ref;
  }
  /**
   * Registers callbacks for connection error events
   *
   * @example socket.onError(function(error){ alert("An error occurred") })
   *
   * @param {Function} callback
   */
  onError(callback) {
    let ref = this.makeRef();
    this.stateChangeCallbacks.error.push([ref, callback]);
    return ref;
  }
  /**
   * Registers callbacks for connection message events
   * @param {Function} callback
   */
  onMessage(callback) {
    let ref = this.makeRef();
    this.stateChangeCallbacks.message.push([ref, callback]);
    return ref;
  }
  /**
   * Pings the server and invokes the callback with the RTT in milliseconds
   * @param {Function} callback
   *
   * Returns true if the ping was pushed or false if unable to be pushed.
   */
  ping(callback) {
    if (!this.isConnected()) {
      return false;
    }
    let ref = this.makeRef();
    let startTime = Date.now();
    this.push({ topic: "phoenix", event: "heartbeat", payload: {}, ref });
    let onMsgRef = this.onMessage((msg) => {
      if (msg.ref === ref) {
        this.off([onMsgRef]);
        callback(Date.now() - startTime);
      }
    });
    return true;
  }
  /**
   * @private
   */
  clearHeartbeats() {
    clearTimeout(this.heartbeatTimer);
    clearTimeout(this.heartbeatTimeoutTimer);
  }
  onConnOpen() {
    if (this.hasLogger())
      this.log("transport", `connected to ${this.endPointURL()}`);
    this.closeWasClean = false;
    this.establishedConnections++;
    this.flushSendBuffer();
    this.reconnectTimer.reset();
    this.resetHeartbeat();
    this.stateChangeCallbacks.open.forEach(([, callback]) => callback());
  }
  /**
   * @private
   */
  heartbeatTimeout() {
    if (this.pendingHeartbeatRef) {
      this.pendingHeartbeatRef = null;
      if (this.hasLogger()) {
        this.log("transport", "heartbeat timeout. Attempting to re-establish connection");
      }
      this.triggerChanError();
      this.closeWasClean = false;
      this.teardown(() => this.reconnectTimer.scheduleTimeout(), WS_CLOSE_NORMAL, "heartbeat timeout");
    }
  }
  resetHeartbeat() {
    if (this.conn && this.conn.skipHeartbeat) {
      return;
    }
    this.pendingHeartbeatRef = null;
    this.clearHeartbeats();
    this.heartbeatTimer = setTimeout(() => this.sendHeartbeat(), this.heartbeatIntervalMs);
  }
  teardown(callback, code, reason) {
    if (!this.conn) {
      return callback && callback();
    }
    this.waitForBufferDone(() => {
      if (this.conn) {
        if (code) {
          this.conn.close(code, reason || "");
        } else {
          this.conn.close();
        }
      }
      this.waitForSocketClosed(() => {
        if (this.conn) {
          this.conn.onopen = function() {
          };
          this.conn.onerror = function() {
          };
          this.conn.onmessage = function() {
          };
          this.conn.onclose = function() {
          };
          this.conn = null;
        }
        callback && callback();
      });
    });
  }
  waitForBufferDone(callback, tries = 1) {
    if (tries === 5 || !this.conn || !this.conn.bufferedAmount) {
      callback();
      return;
    }
    setTimeout(() => {
      this.waitForBufferDone(callback, tries + 1);
    }, 150 * tries);
  }
  waitForSocketClosed(callback, tries = 1) {
    if (tries === 5 || !this.conn || this.conn.readyState === SOCKET_STATES.closed) {
      callback();
      return;
    }
    setTimeout(() => {
      this.waitForSocketClosed(callback, tries + 1);
    }, 150 * tries);
  }
  onConnClose(event) {
    let closeCode = event && event.code;
    if (this.hasLogger())
      this.log("transport", "close", event);
    this.triggerChanError();
    this.clearHeartbeats();
    if (!this.closeWasClean && closeCode !== 1e3) {
      this.reconnectTimer.scheduleTimeout();
    }
    this.stateChangeCallbacks.close.forEach(([, callback]) => callback(event));
  }
  /**
   * @private
   */
  onConnError(error) {
    if (this.hasLogger())
      this.log("transport", error);
    let transportBefore = this.transport;
    let establishedBefore = this.establishedConnections;
    this.stateChangeCallbacks.error.forEach(([, callback]) => {
      callback(error, transportBefore, establishedBefore);
    });
    if (transportBefore === this.transport || establishedBefore > 0) {
      this.triggerChanError();
    }
  }
  /**
   * @private
   */
  triggerChanError() {
    this.channels.forEach((channel) => {
      if (!(channel.isErrored() || channel.isLeaving() || channel.isClosed())) {
        channel.trigger(CHANNEL_EVENTS.error);
      }
    });
  }
  /**
   * @returns {string}
   */
  connectionState() {
    switch (this.conn && this.conn.readyState) {
      case SOCKET_STATES.connecting:
        return "connecting";
      case SOCKET_STATES.open:
        return "open";
      case SOCKET_STATES.closing:
        return "closing";
      default:
        return "closed";
    }
  }
  /**
   * @returns {boolean}
   */
  isConnected() {
    return this.connectionState() === "open";
  }
  /**
   * @private
   *
   * @param {Channel}
   */
  remove(channel) {
    this.off(channel.stateChangeRefs);
    this.channels = this.channels.filter((c) => c.joinRef() !== channel.joinRef());
  }
  /**
   * Removes `onOpen`, `onClose`, `onError,` and `onMessage` registrations.
   *
   * @param {refs} - list of refs returned by calls to
   *                 `onOpen`, `onClose`, `onError,` and `onMessage`
   */
  off(refs) {
    for (let key in this.stateChangeCallbacks) {
      this.stateChangeCallbacks[key] = this.stateChangeCallbacks[key].filter(([ref]) => {
        return refs.indexOf(ref) === -1;
      });
    }
  }
  /**
   * Initiates a new channel for the given topic
   *
   * @param {string} topic
   * @param {Object} chanParams - Parameters for the channel
   * @returns {Channel}
   */
  channel(topic, chanParams = {}) {
    let chan = new Channel(topic, chanParams, this);
    this.channels.push(chan);
    return chan;
  }
  /**
   * @param {Object} data
   */
  push(data) {
    if (this.hasLogger()) {
      let { topic, event, payload, ref, join_ref } = data;
      this.log("push", `${topic} ${event} (${join_ref}, ${ref})`, payload);
    }
    if (this.isConnected()) {
      this.encode(data, (result) => this.conn.send(result));
    } else {
      this.sendBuffer.push(() => this.encode(data, (result) => this.conn.send(result)));
    }
  }
  /**
   * Return the next message ref, accounting for overflows
   * @returns {string}
   */
  makeRef() {
    let newRef = this.ref + 1;
    if (newRef === this.ref) {
      this.ref = 0;
    } else {
      this.ref = newRef;
    }
    return this.ref.toString();
  }
  sendHeartbeat() {
    if (this.pendingHeartbeatRef && !this.isConnected()) {
      return;
    }
    this.pendingHeartbeatRef = this.makeRef();
    this.push({ topic: "phoenix", event: "heartbeat", payload: {}, ref: this.pendingHeartbeatRef });
    this.heartbeatTimeoutTimer = setTimeout(() => this.heartbeatTimeout(), this.heartbeatIntervalMs);
  }
  flushSendBuffer() {
    if (this.isConnected() && this.sendBuffer.length > 0) {
      this.sendBuffer.forEach((callback) => callback());
      this.sendBuffer = [];
    }
  }
  onConnMessage(rawMessage) {
    this.decode(rawMessage.data, (msg) => {
      let { topic, event, payload, ref, join_ref } = msg;
      if (ref && ref === this.pendingHeartbeatRef) {
        this.clearHeartbeats();
        this.pendingHeartbeatRef = null;
        this.heartbeatTimer = setTimeout(() => this.sendHeartbeat(), this.heartbeatIntervalMs);
      }
      if (this.hasLogger())
        this.log("receive", `${payload.status || ""} ${topic} ${event} ${ref && "(" + ref + ")" || ""}`, payload);
      for (let i = 0; i < this.channels.length; i++) {
        const channel = this.channels[i];
        if (!channel.isMember(topic, event, payload, join_ref)) {
          continue;
        }
        channel.trigger(event, payload, ref, join_ref);
      }
      for (let i = 0; i < this.stateChangeCallbacks.message.length; i++) {
        let [, callback] = this.stateChangeCallbacks.message[i];
        callback(msg);
      }
    });
  }
  leaveOpenTopic(topic) {
    let dupChannel = this.channels.find((c) => c.topic === topic && (c.isJoined() || c.isJoining()));
    if (dupChannel) {
      if (this.hasLogger())
        this.log("transport", `leaving duplicate topic "${topic}"`);
      dupChannel.leave();
    }
  }
};

// ../deps/phoenix_live_view/priv/static/phoenix_live_view.esm.js
var CONSECUTIVE_RELOADS = "consecutive-reloads";
var MAX_RELOADS = 10;
var RELOAD_JITTER_MIN = 5e3;
var RELOAD_JITTER_MAX = 1e4;
var FAILSAFE_JITTER = 3e4;
var PHX_EVENT_CLASSES = [
  "phx-click-loading",
  "phx-change-loading",
  "phx-submit-loading",
  "phx-keydown-loading",
  "phx-keyup-loading",
  "phx-blur-loading",
  "phx-focus-loading"
];
var PHX_COMPONENT = "data-phx-component";
var PHX_LIVE_LINK = "data-phx-link";
var PHX_TRACK_STATIC = "track-static";
var PHX_LINK_STATE = "data-phx-link-state";
var PHX_REF = "data-phx-ref";
var PHX_REF_SRC = "data-phx-ref-src";
var PHX_TRACK_UPLOADS = "track-uploads";
var PHX_UPLOAD_REF = "data-phx-upload-ref";
var PHX_PREFLIGHTED_REFS = "data-phx-preflighted-refs";
var PHX_DONE_REFS = "data-phx-done-refs";
var PHX_DROP_TARGET = "drop-target";
var PHX_ACTIVE_ENTRY_REFS = "data-phx-active-refs";
var PHX_LIVE_FILE_UPDATED = "phx:live-file:updated";
var PHX_SKIP = "data-phx-skip";
var PHX_PRUNE = "data-phx-prune";
var PHX_PAGE_LOADING = "page-loading";
var PHX_CONNECTED_CLASS = "phx-connected";
var PHX_LOADING_CLASS = "phx-loading";
var PHX_NO_FEEDBACK_CLASS = "phx-no-feedback";
var PHX_ERROR_CLASS = "phx-error";
var PHX_CLIENT_ERROR_CLASS = "phx-client-error";
var PHX_SERVER_ERROR_CLASS = "phx-server-error";
var PHX_PARENT_ID = "data-phx-parent-id";
var PHX_MAIN = "data-phx-main";
var PHX_ROOT_ID = "data-phx-root-id";
var PHX_VIEWPORT_TOP = "viewport-top";
var PHX_VIEWPORT_BOTTOM = "viewport-bottom";
var PHX_TRIGGER_ACTION = "trigger-action";
var PHX_FEEDBACK_FOR = "feedback-for";
var PHX_HAS_FOCUSED = "phx-has-focused";
var FOCUSABLE_INPUTS = ["text", "textarea", "number", "email", "password", "search", "tel", "url", "date", "time", "datetime-local", "color", "range"];
var CHECKABLE_INPUTS = ["checkbox", "radio"];
var PHX_HAS_SUBMITTED = "phx-has-submitted";
var PHX_SESSION = "data-phx-session";
var PHX_VIEW_SELECTOR = `[${PHX_SESSION}]`;
var PHX_STICKY = "data-phx-sticky";
var PHX_STATIC = "data-phx-static";
var PHX_READONLY = "data-phx-readonly";
var PHX_DISABLED = "data-phx-disabled";
var PHX_DISABLE_WITH = "disable-with";
var PHX_DISABLE_WITH_RESTORE = "data-phx-disable-with-restore";
var PHX_HOOK = "hook";
var PHX_DEBOUNCE = "debounce";
var PHX_THROTTLE = "throttle";
var PHX_UPDATE = "update";
var PHX_STREAM = "stream";
var PHX_STREAM_REF = "data-phx-stream";
var PHX_KEY = "key";
var PHX_PRIVATE = "phxPrivate";
var PHX_AUTO_RECOVER = "auto-recover";
var PHX_LV_DEBUG = "phx:live-socket:debug";
var PHX_LV_PROFILE = "phx:live-socket:profiling";
var PHX_LV_LATENCY_SIM = "phx:live-socket:latency-sim";
var PHX_PROGRESS = "progress";
var PHX_MOUNTED = "mounted";
var LOADER_TIMEOUT = 1;
var BEFORE_UNLOAD_LOADER_TIMEOUT = 200;
var BINDING_PREFIX = "phx-";
var PUSH_TIMEOUT = 3e4;
var DEBOUNCE_TRIGGER = "debounce-trigger";
var THROTTLED = "throttled";
var DEBOUNCE_PREV_KEY = "debounce-prev-key";
var DEFAULTS = {
  debounce: 300,
  throttle: 300
};
var DYNAMICS = "d";
var STATIC = "s";
var COMPONENTS = "c";
var EVENTS = "e";
var REPLY = "r";
var TITLE = "t";
var TEMPLATES = "p";
var STREAM = "stream";
var EntryUploader = class {
  constructor(entry, chunkSize, liveSocket2) {
    this.liveSocket = liveSocket2;
    this.entry = entry;
    this.offset = 0;
    this.chunkSize = chunkSize;
    this.chunkTimer = null;
    this.errored = false;
    this.uploadChannel = liveSocket2.channel(`lvu:${entry.ref}`, { token: entry.metadata() });
  }
  error(reason) {
    if (this.errored) {
      return;
    }
    this.errored = true;
    clearTimeout(this.chunkTimer);
    this.entry.error(reason);
  }
  upload() {
    this.uploadChannel.onError((reason) => this.error(reason));
    this.uploadChannel.join().receive("ok", (_data) => this.readNextChunk()).receive("error", (reason) => this.error(reason));
  }
  isDone() {
    return this.offset >= this.entry.file.size;
  }
  readNextChunk() {
    let reader = new window.FileReader();
    let blob = this.entry.file.slice(this.offset, this.chunkSize + this.offset);
    reader.onload = (e) => {
      if (e.target.error === null) {
        this.offset += e.target.result.byteLength;
        this.pushChunk(e.target.result);
      } else {
        return logError("Read error: " + e.target.error);
      }
    };
    reader.readAsArrayBuffer(blob);
  }
  pushChunk(chunk) {
    if (!this.uploadChannel.isJoined()) {
      return;
    }
    this.uploadChannel.push("chunk", chunk).receive("ok", () => {
      this.entry.progress(this.offset / this.entry.file.size * 100);
      if (!this.isDone()) {
        this.chunkTimer = setTimeout(() => this.readNextChunk(), this.liveSocket.getLatencySim() || 0);
      }
    }).receive("error", ({ reason }) => this.error(reason));
  }
};
var logError = (msg, obj) => console.error && console.error(msg, obj);
var isCid = (cid) => {
  let type = typeof cid;
  return type === "number" || type === "string" && /^(0|[1-9]\d*)$/.test(cid);
};
function detectDuplicateIds() {
  let ids = /* @__PURE__ */ new Set();
  let elems = document.querySelectorAll("*[id]");
  for (let i = 0, len = elems.length; i < len; i++) {
    if (ids.has(elems[i].id)) {
      console.error(`Multiple IDs detected: ${elems[i].id}. Ensure unique element ids.`);
    } else {
      ids.add(elems[i].id);
    }
  }
}
var debug = (view, kind, msg, obj) => {
  if (view.liveSocket.isDebugEnabled()) {
    console.log(`${view.id} ${kind}: ${msg} - `, obj);
  }
};
var closure2 = (val) => typeof val === "function" ? val : function() {
  return val;
};
var clone = (obj) => {
  return JSON.parse(JSON.stringify(obj));
};
var closestPhxBinding = (el, binding, borderEl) => {
  do {
    if (el.matches(`[${binding}]`) && !el.disabled) {
      return el;
    }
    el = el.parentElement || el.parentNode;
  } while (el !== null && el.nodeType === 1 && !(borderEl && borderEl.isSameNode(el) || el.matches(PHX_VIEW_SELECTOR)));
  return null;
};
var isObject = (obj) => {
  return obj !== null && typeof obj === "object" && !(obj instanceof Array);
};
var isEqualObj = (obj1, obj2) => JSON.stringify(obj1) === JSON.stringify(obj2);
var isEmpty = (obj) => {
  for (let x in obj) {
    return false;
  }
  return true;
};
var maybe = (el, callback) => el && callback(el);
var channelUploader = function(entries, onError, resp, liveSocket2) {
  entries.forEach((entry) => {
    let entryUploader = new EntryUploader(entry, resp.config.chunk_size, liveSocket2);
    entryUploader.upload();
  });
};
var Browser = {
  canPushState() {
    return typeof history.pushState !== "undefined";
  },
  dropLocal(localStorage, namespace, subkey) {
    return localStorage.removeItem(this.localKey(namespace, subkey));
  },
  updateLocal(localStorage, namespace, subkey, initial, func) {
    let current = this.getLocal(localStorage, namespace, subkey);
    let key = this.localKey(namespace, subkey);
    let newVal = current === null ? initial : func(current);
    localStorage.setItem(key, JSON.stringify(newVal));
    return newVal;
  },
  getLocal(localStorage, namespace, subkey) {
    return JSON.parse(localStorage.getItem(this.localKey(namespace, subkey)));
  },
  updateCurrentState(callback) {
    if (!this.canPushState()) {
      return;
    }
    history.replaceState(callback(history.state || {}), "", window.location.href);
  },
  pushState(kind, meta, to) {
    if (this.canPushState()) {
      if (to !== window.location.href) {
        if (meta.type == "redirect" && meta.scroll) {
          let currentState = history.state || {};
          currentState.scroll = meta.scroll;
          history.replaceState(currentState, "", window.location.href);
        }
        delete meta.scroll;
        history[kind + "State"](meta, "", to || null);
        let hashEl = this.getHashTargetEl(window.location.hash);
        if (hashEl) {
          hashEl.scrollIntoView();
        } else if (meta.type === "redirect") {
          window.scroll(0, 0);
        }
      }
    } else {
      this.redirect(to);
    }
  },
  setCookie(name, value) {
    document.cookie = `${name}=${value}`;
  },
  getCookie(name) {
    return document.cookie.replace(new RegExp(`(?:(?:^|.*;s*)${name}s*=s*([^;]*).*$)|^.*$`), "$1");
  },
  redirect(toURL, flash) {
    if (flash) {
      Browser.setCookie("__phoenix_flash__", flash + "; max-age=60000; path=/");
    }
    window.location = toURL;
  },
  localKey(namespace, subkey) {
    return `${namespace}-${subkey}`;
  },
  getHashTargetEl(maybeHash) {
    let hash = maybeHash.toString().substring(1);
    if (hash === "") {
      return;
    }
    return document.getElementById(hash) || document.querySelector(`a[name="${hash}"]`);
  }
};
var browser_default = Browser;
var DOM = {
  byId(id) {
    return document.getElementById(id) || logError(`no id found for ${id}`);
  },
  removeClass(el, className) {
    el.classList.remove(className);
    if (el.classList.length === 0) {
      el.removeAttribute("class");
    }
  },
  all(node, query, callback) {
    if (!node) {
      return [];
    }
    let array = Array.from(node.querySelectorAll(query));
    return callback ? array.forEach(callback) : array;
  },
  childNodeLength(html) {
    let template = document.createElement("template");
    template.innerHTML = html;
    return template.content.childElementCount;
  },
  isUploadInput(el) {
    return el.type === "file" && el.getAttribute(PHX_UPLOAD_REF) !== null;
  },
  isAutoUpload(inputEl) {
    return inputEl.hasAttribute("data-phx-auto-upload");
  },
  findUploadInputs(node) {
    return this.all(node, `input[type="file"][${PHX_UPLOAD_REF}]`);
  },
  findComponentNodeList(node, cid) {
    return this.filterWithinSameLiveView(this.all(node, `[${PHX_COMPONENT}="${cid}"]`), node);
  },
  isPhxDestroyed(node) {
    return node.id && DOM.private(node, "destroyed") ? true : false;
  },
  wantsNewTab(e) {
    let wantsNewTab = e.ctrlKey || e.shiftKey || e.metaKey || e.button && e.button === 1;
    let isDownload = e.target instanceof HTMLAnchorElement && e.target.hasAttribute("download");
    let isTargetBlank = e.target.hasAttribute("target") && e.target.getAttribute("target").toLowerCase() === "_blank";
    return wantsNewTab || isTargetBlank || isDownload;
  },
  isUnloadableFormSubmit(e) {
    let isDialogSubmit = e.target && e.target.getAttribute("method") === "dialog" || e.submitter && e.submitter.getAttribute("formmethod") === "dialog";
    if (isDialogSubmit) {
      return false;
    } else {
      return !e.defaultPrevented && !this.wantsNewTab(e);
    }
  },
  isNewPageClick(e, currentLocation) {
    let href = e.target instanceof HTMLAnchorElement ? e.target.getAttribute("href") : null;
    let url;
    if (e.defaultPrevented || href === null || this.wantsNewTab(e)) {
      return false;
    }
    if (href.startsWith("mailto:") || href.startsWith("tel:")) {
      return false;
    }
    if (e.target.isContentEditable) {
      return false;
    }
    try {
      url = new URL(href);
    } catch (e2) {
      try {
        url = new URL(href, currentLocation);
      } catch (e3) {
        return true;
      }
    }
    if (url.host === currentLocation.host && url.protocol === currentLocation.protocol) {
      if (url.pathname === currentLocation.pathname && url.search === currentLocation.search) {
        return url.hash === "" && !url.href.endsWith("#");
      }
    }
    return url.protocol.startsWith("http");
  },
  markPhxChildDestroyed(el) {
    if (this.isPhxChild(el)) {
      el.setAttribute(PHX_SESSION, "");
    }
    this.putPrivate(el, "destroyed", true);
  },
  findPhxChildrenInFragment(html, parentId) {
    let template = document.createElement("template");
    template.innerHTML = html;
    return this.findPhxChildren(template.content, parentId);
  },
  isIgnored(el, phxUpdate) {
    return (el.getAttribute(phxUpdate) || el.getAttribute("data-phx-update")) === "ignore";
  },
  isPhxUpdate(el, phxUpdate, updateTypes) {
    return el.getAttribute && updateTypes.indexOf(el.getAttribute(phxUpdate)) >= 0;
  },
  findPhxSticky(el) {
    return this.all(el, `[${PHX_STICKY}]`);
  },
  findPhxChildren(el, parentId) {
    return this.all(el, `${PHX_VIEW_SELECTOR}[${PHX_PARENT_ID}="${parentId}"]`);
  },
  findParentCIDs(node, cids) {
    let initial = new Set(cids);
    let parentCids = cids.reduce((acc, cid) => {
      let selector = `[${PHX_COMPONENT}="${cid}"] [${PHX_COMPONENT}]`;
      this.filterWithinSameLiveView(this.all(node, selector), node).map((el) => parseInt(el.getAttribute(PHX_COMPONENT))).forEach((childCID) => acc.delete(childCID));
      return acc;
    }, initial);
    return parentCids.size === 0 ? new Set(cids) : parentCids;
  },
  filterWithinSameLiveView(nodes, parent) {
    if (parent.querySelector(PHX_VIEW_SELECTOR)) {
      return nodes.filter((el) => this.withinSameLiveView(el, parent));
    } else {
      return nodes;
    }
  },
  withinSameLiveView(node, parent) {
    while (node = node.parentNode) {
      if (node.isSameNode(parent)) {
        return true;
      }
      if (node.getAttribute(PHX_SESSION) !== null) {
        return false;
      }
    }
  },
  private(el, key) {
    return el[PHX_PRIVATE] && el[PHX_PRIVATE][key];
  },
  deletePrivate(el, key) {
    el[PHX_PRIVATE] && delete el[PHX_PRIVATE][key];
  },
  putPrivate(el, key, value) {
    if (!el[PHX_PRIVATE]) {
      el[PHX_PRIVATE] = {};
    }
    el[PHX_PRIVATE][key] = value;
  },
  updatePrivate(el, key, defaultVal, updateFunc) {
    let existing = this.private(el, key);
    if (existing === void 0) {
      this.putPrivate(el, key, updateFunc(defaultVal));
    } else {
      this.putPrivate(el, key, updateFunc(existing));
    }
  },
  copyPrivates(target, source) {
    if (source[PHX_PRIVATE]) {
      target[PHX_PRIVATE] = source[PHX_PRIVATE];
    }
  },
  putTitle(str) {
    let titleEl = document.querySelector("title");
    if (titleEl) {
      let { prefix, suffix } = titleEl.dataset;
      document.title = `${prefix || ""}${str}${suffix || ""}`;
    } else {
      document.title = str;
    }
  },
  debounce(el, event, phxDebounce, defaultDebounce, phxThrottle, defaultThrottle, asyncFilter, callback) {
    let debounce = el.getAttribute(phxDebounce);
    let throttle = el.getAttribute(phxThrottle);
    if (debounce === "") {
      debounce = defaultDebounce;
    }
    if (throttle === "") {
      throttle = defaultThrottle;
    }
    let value = debounce || throttle;
    switch (value) {
      case null:
        return callback();
      case "blur":
        if (this.once(el, "debounce-blur")) {
          el.addEventListener("blur", () => callback());
        }
        return;
      default:
        let timeout = parseInt(value);
        let trigger = () => throttle ? this.deletePrivate(el, THROTTLED) : callback();
        let currentCycle = this.incCycle(el, DEBOUNCE_TRIGGER, trigger);
        if (isNaN(timeout)) {
          return logError(`invalid throttle/debounce value: ${value}`);
        }
        if (throttle) {
          let newKeyDown = false;
          if (event.type === "keydown") {
            let prevKey = this.private(el, DEBOUNCE_PREV_KEY);
            this.putPrivate(el, DEBOUNCE_PREV_KEY, event.key);
            newKeyDown = prevKey !== event.key;
          }
          if (!newKeyDown && this.private(el, THROTTLED)) {
            return false;
          } else {
            callback();
            this.putPrivate(el, THROTTLED, true);
            setTimeout(() => {
              if (asyncFilter()) {
                this.triggerCycle(el, DEBOUNCE_TRIGGER);
              }
            }, timeout);
          }
        } else {
          setTimeout(() => {
            if (asyncFilter()) {
              this.triggerCycle(el, DEBOUNCE_TRIGGER, currentCycle);
            }
          }, timeout);
        }
        let form = el.form;
        if (form && this.once(form, "bind-debounce")) {
          form.addEventListener("submit", () => {
            Array.from(new FormData(form).entries(), ([name]) => {
              let input = form.querySelector(`[name="${name}"]`);
              this.incCycle(input, DEBOUNCE_TRIGGER);
              this.deletePrivate(input, THROTTLED);
            });
          });
        }
        if (this.once(el, "bind-debounce")) {
          el.addEventListener("blur", () => this.triggerCycle(el, DEBOUNCE_TRIGGER));
        }
    }
  },
  triggerCycle(el, key, currentCycle) {
    let [cycle, trigger] = this.private(el, key);
    if (!currentCycle) {
      currentCycle = cycle;
    }
    if (currentCycle === cycle) {
      this.incCycle(el, key);
      trigger();
    }
  },
  once(el, key) {
    if (this.private(el, key) === true) {
      return false;
    }
    this.putPrivate(el, key, true);
    return true;
  },
  incCycle(el, key, trigger = function() {
  }) {
    let [currentCycle] = this.private(el, key) || [0, trigger];
    currentCycle++;
    this.putPrivate(el, key, [currentCycle, trigger]);
    return currentCycle;
  },
  maybeAddPrivateHooks(el, phxViewportTop, phxViewportBottom) {
    if (el.hasAttribute && (el.hasAttribute(phxViewportTop) || el.hasAttribute(phxViewportBottom))) {
      el.setAttribute("data-phx-hook", "Phoenix.InfiniteScroll");
    }
  },
  maybeHideFeedback(container, input, phxFeedbackFor) {
    if (!(this.private(input, PHX_HAS_FOCUSED) || this.private(input, PHX_HAS_SUBMITTED))) {
      let feedbacks = [input.name];
      if (input.name.endsWith("[]")) {
        feedbacks.push(input.name.slice(0, -2));
      }
      let selector = feedbacks.map((f) => `[${phxFeedbackFor}="${f}"]`).join(", ");
      DOM.all(container, selector, (el) => el.classList.add(PHX_NO_FEEDBACK_CLASS));
    }
  },
  resetForm(form, phxFeedbackFor) {
    Array.from(form.elements).forEach((input) => {
      let query = `[${phxFeedbackFor}="${input.id}"],
                   [${phxFeedbackFor}="${input.name}"],
                   [${phxFeedbackFor}="${input.name.replace(/\[\]$/, "")}"]`;
      this.deletePrivate(input, PHX_HAS_FOCUSED);
      this.deletePrivate(input, PHX_HAS_SUBMITTED);
      this.all(document, query, (feedbackEl) => {
        feedbackEl.classList.add(PHX_NO_FEEDBACK_CLASS);
      });
    });
  },
  showError(inputEl, phxFeedbackFor) {
    if (inputEl.id || inputEl.name) {
      this.all(inputEl.form, `[${phxFeedbackFor}="${inputEl.id}"], [${phxFeedbackFor}="${inputEl.name}"]`, (el) => {
        this.removeClass(el, PHX_NO_FEEDBACK_CLASS);
      });
    }
  },
  isPhxChild(node) {
    return node.getAttribute && node.getAttribute(PHX_PARENT_ID);
  },
  isPhxSticky(node) {
    return node.getAttribute && node.getAttribute(PHX_STICKY) !== null;
  },
  firstPhxChild(el) {
    return this.isPhxChild(el) ? el : this.all(el, `[${PHX_PARENT_ID}]`)[0];
  },
  dispatchEvent(target, name, opts = {}) {
    let bubbles = opts.bubbles === void 0 ? true : !!opts.bubbles;
    let eventOpts = { bubbles, cancelable: true, detail: opts.detail || {} };
    let event = name === "click" ? new MouseEvent("click", eventOpts) : new CustomEvent(name, eventOpts);
    target.dispatchEvent(event);
  },
  cloneNode(node, html) {
    if (typeof html === "undefined") {
      return node.cloneNode(true);
    } else {
      let cloned = node.cloneNode(false);
      cloned.innerHTML = html;
      return cloned;
    }
  },
  mergeAttrs(target, source, opts = {}) {
    let exclude = opts.exclude || [];
    let isIgnored = opts.isIgnored;
    let sourceAttrs = source.attributes;
    for (let i = sourceAttrs.length - 1; i >= 0; i--) {
      let name = sourceAttrs[i].name;
      if (exclude.indexOf(name) < 0) {
        target.setAttribute(name, source.getAttribute(name));
      }
    }
    let targetAttrs = target.attributes;
    for (let i = targetAttrs.length - 1; i >= 0; i--) {
      let name = targetAttrs[i].name;
      if (isIgnored) {
        if (name.startsWith("data-") && !source.hasAttribute(name)) {
          target.removeAttribute(name);
        }
      } else {
        if (!source.hasAttribute(name)) {
          target.removeAttribute(name);
        }
      }
    }
  },
  mergeFocusedInput(target, source) {
    if (!(target instanceof HTMLSelectElement)) {
      DOM.mergeAttrs(target, source, { exclude: ["value"] });
    }
    if (source.readOnly) {
      target.setAttribute("readonly", true);
    } else {
      target.removeAttribute("readonly");
    }
  },
  hasSelectionRange(el) {
    return el.setSelectionRange && (el.type === "text" || el.type === "textarea");
  },
  restoreFocus(focused, selectionStart, selectionEnd) {
    if (!DOM.isTextualInput(focused)) {
      return;
    }
    let wasFocused = focused.matches(":focus");
    if (focused.readOnly) {
      focused.blur();
    }
    if (!wasFocused) {
      focused.focus();
    }
    if (this.hasSelectionRange(focused)) {
      focused.setSelectionRange(selectionStart, selectionEnd);
    }
  },
  isFormInput(el) {
    return /^(?:input|select|textarea)$/i.test(el.tagName) && el.type !== "button";
  },
  syncAttrsToProps(el) {
    if (el instanceof HTMLInputElement && CHECKABLE_INPUTS.indexOf(el.type.toLocaleLowerCase()) >= 0) {
      el.checked = el.getAttribute("checked") !== null;
    }
  },
  isTextualInput(el) {
    return FOCUSABLE_INPUTS.indexOf(el.type) >= 0;
  },
  isNowTriggerFormExternal(el, phxTriggerExternal) {
    return el.getAttribute && el.getAttribute(phxTriggerExternal) !== null;
  },
  syncPendingRef(fromEl, toEl, disableWith) {
    let ref = fromEl.getAttribute(PHX_REF);
    if (ref === null) {
      return true;
    }
    let refSrc = fromEl.getAttribute(PHX_REF_SRC);
    if (DOM.isFormInput(fromEl) || fromEl.getAttribute(disableWith) !== null) {
      if (DOM.isUploadInput(fromEl)) {
        DOM.mergeAttrs(fromEl, toEl, { isIgnored: true });
      }
      DOM.putPrivate(fromEl, PHX_REF, toEl);
      return false;
    } else {
      PHX_EVENT_CLASSES.forEach((className) => {
        fromEl.classList.contains(className) && toEl.classList.add(className);
      });
      toEl.setAttribute(PHX_REF, ref);
      toEl.setAttribute(PHX_REF_SRC, refSrc);
      return true;
    }
  },
  cleanChildNodes(container, phxUpdate) {
    if (DOM.isPhxUpdate(container, phxUpdate, ["append", "prepend"])) {
      let toRemove = [];
      container.childNodes.forEach((childNode) => {
        if (!childNode.id) {
          let isEmptyTextNode = childNode.nodeType === Node.TEXT_NODE && childNode.nodeValue.trim() === "";
          if (!isEmptyTextNode) {
            logError(`only HTML element tags with an id are allowed inside containers with phx-update.

removing illegal node: "${(childNode.outerHTML || childNode.nodeValue).trim()}"

`);
          }
          toRemove.push(childNode);
        }
      });
      toRemove.forEach((childNode) => childNode.remove());
    }
  },
  replaceRootContainer(container, tagName, attrs) {
    let retainedAttrs = /* @__PURE__ */ new Set(["id", PHX_SESSION, PHX_STATIC, PHX_MAIN, PHX_ROOT_ID]);
    if (container.tagName.toLowerCase() === tagName.toLowerCase()) {
      Array.from(container.attributes).filter((attr) => !retainedAttrs.has(attr.name.toLowerCase())).forEach((attr) => container.removeAttribute(attr.name));
      Object.keys(attrs).filter((name) => !retainedAttrs.has(name.toLowerCase())).forEach((attr) => container.setAttribute(attr, attrs[attr]));
      return container;
    } else {
      let newContainer = document.createElement(tagName);
      Object.keys(attrs).forEach((attr) => newContainer.setAttribute(attr, attrs[attr]));
      retainedAttrs.forEach((attr) => newContainer.setAttribute(attr, container.getAttribute(attr)));
      newContainer.innerHTML = container.innerHTML;
      container.replaceWith(newContainer);
      return newContainer;
    }
  },
  getSticky(el, name, defaultVal) {
    let op = (DOM.private(el, "sticky") || []).find(([existingName]) => name === existingName);
    if (op) {
      let [_name, _op, stashedResult] = op;
      return stashedResult;
    } else {
      return typeof defaultVal === "function" ? defaultVal() : defaultVal;
    }
  },
  deleteSticky(el, name) {
    this.updatePrivate(el, "sticky", [], (ops) => {
      return ops.filter(([existingName, _]) => existingName !== name);
    });
  },
  putSticky(el, name, op) {
    let stashedResult = op(el);
    this.updatePrivate(el, "sticky", [], (ops) => {
      let existingIndex = ops.findIndex(([existingName]) => name === existingName);
      if (existingIndex >= 0) {
        ops[existingIndex] = [name, op, stashedResult];
      } else {
        ops.push([name, op, stashedResult]);
      }
      return ops;
    });
  },
  applyStickyOperations(el) {
    let ops = DOM.private(el, "sticky");
    if (!ops) {
      return;
    }
    ops.forEach(([name, op, _stashed]) => this.putSticky(el, name, op));
  }
};
var dom_default = DOM;
var UploadEntry = class {
  static isActive(fileEl, file) {
    let isNew = file._phxRef === void 0;
    let activeRefs = fileEl.getAttribute(PHX_ACTIVE_ENTRY_REFS).split(",");
    let isActive = activeRefs.indexOf(LiveUploader.genFileRef(file)) >= 0;
    return file.size > 0 && (isNew || isActive);
  }
  static isPreflighted(fileEl, file) {
    let preflightedRefs = fileEl.getAttribute(PHX_PREFLIGHTED_REFS).split(",");
    let isPreflighted = preflightedRefs.indexOf(LiveUploader.genFileRef(file)) >= 0;
    return isPreflighted && this.isActive(fileEl, file);
  }
  constructor(fileEl, file, view) {
    this.ref = LiveUploader.genFileRef(file);
    this.fileEl = fileEl;
    this.file = file;
    this.view = view;
    this.meta = null;
    this._isCancelled = false;
    this._isDone = false;
    this._progress = 0;
    this._lastProgressSent = -1;
    this._onDone = function() {
    };
    this._onElUpdated = this.onElUpdated.bind(this);
    this.fileEl.addEventListener(PHX_LIVE_FILE_UPDATED, this._onElUpdated);
  }
  metadata() {
    return this.meta;
  }
  progress(progress) {
    this._progress = Math.floor(progress);
    if (this._progress > this._lastProgressSent) {
      if (this._progress >= 100) {
        this._progress = 100;
        this._lastProgressSent = 100;
        this._isDone = true;
        this.view.pushFileProgress(this.fileEl, this.ref, 100, () => {
          LiveUploader.untrackFile(this.fileEl, this.file);
          this._onDone();
        });
      } else {
        this._lastProgressSent = this._progress;
        this.view.pushFileProgress(this.fileEl, this.ref, this._progress);
      }
    }
  }
  cancel() {
    this._isCancelled = true;
    this._isDone = true;
    this._onDone();
  }
  isDone() {
    return this._isDone;
  }
  error(reason = "failed") {
    this.fileEl.removeEventListener(PHX_LIVE_FILE_UPDATED, this._onElUpdated);
    this.view.pushFileProgress(this.fileEl, this.ref, { error: reason });
    if (!dom_default.isAutoUpload(this.fileEl)) {
      LiveUploader.clearFiles(this.fileEl);
    }
  }
  onDone(callback) {
    this._onDone = () => {
      this.fileEl.removeEventListener(PHX_LIVE_FILE_UPDATED, this._onElUpdated);
      callback();
    };
  }
  onElUpdated() {
    let activeRefs = this.fileEl.getAttribute(PHX_ACTIVE_ENTRY_REFS).split(",");
    if (activeRefs.indexOf(this.ref) === -1) {
      this.cancel();
    }
  }
  toPreflightPayload() {
    return {
      last_modified: this.file.lastModified,
      name: this.file.name,
      relative_path: this.file.webkitRelativePath,
      size: this.file.size,
      type: this.file.type,
      ref: this.ref,
      meta: typeof this.file.meta === "function" ? this.file.meta() : void 0
    };
  }
  uploader(uploaders) {
    if (this.meta.uploader) {
      let callback = uploaders[this.meta.uploader] || logError(`no uploader configured for ${this.meta.uploader}`);
      return { name: this.meta.uploader, callback };
    } else {
      return { name: "channel", callback: channelUploader };
    }
  }
  zipPostFlight(resp) {
    this.meta = resp.entries[this.ref];
    if (!this.meta) {
      logError(`no preflight upload response returned with ref ${this.ref}`, { input: this.fileEl, response: resp });
    }
  }
};
var liveUploaderFileRef = 0;
var LiveUploader = class {
  static genFileRef(file) {
    let ref = file._phxRef;
    if (ref !== void 0) {
      return ref;
    } else {
      file._phxRef = (liveUploaderFileRef++).toString();
      return file._phxRef;
    }
  }
  static getEntryDataURL(inputEl, ref, callback) {
    let file = this.activeFiles(inputEl).find((file2) => this.genFileRef(file2) === ref);
    callback(URL.createObjectURL(file));
  }
  static hasUploadsInProgress(formEl) {
    let active = 0;
    dom_default.findUploadInputs(formEl).forEach((input) => {
      if (input.getAttribute(PHX_PREFLIGHTED_REFS) !== input.getAttribute(PHX_DONE_REFS)) {
        active++;
      }
    });
    return active > 0;
  }
  static serializeUploads(inputEl) {
    let files = this.activeFiles(inputEl);
    let fileData = {};
    files.forEach((file) => {
      let entry = { path: inputEl.name };
      let uploadRef = inputEl.getAttribute(PHX_UPLOAD_REF);
      fileData[uploadRef] = fileData[uploadRef] || [];
      entry.ref = this.genFileRef(file);
      entry.last_modified = file.lastModified;
      entry.name = file.name || entry.ref;
      entry.relative_path = file.webkitRelativePath;
      entry.type = file.type;
      entry.size = file.size;
      if (typeof file.meta === "function") {
        entry.meta = file.meta();
      }
      fileData[uploadRef].push(entry);
    });
    return fileData;
  }
  static clearFiles(inputEl) {
    inputEl.value = null;
    inputEl.removeAttribute(PHX_UPLOAD_REF);
    dom_default.putPrivate(inputEl, "files", []);
  }
  static untrackFile(inputEl, file) {
    dom_default.putPrivate(inputEl, "files", dom_default.private(inputEl, "files").filter((f) => !Object.is(f, file)));
  }
  static trackFiles(inputEl, files, dataTransfer) {
    if (inputEl.getAttribute("multiple") !== null) {
      let newFiles = files.filter((file) => !this.activeFiles(inputEl).find((f) => Object.is(f, file)));
      dom_default.putPrivate(inputEl, "files", this.activeFiles(inputEl).concat(newFiles));
      inputEl.value = null;
    } else {
      if (dataTransfer && dataTransfer.files.length > 0) {
        inputEl.files = dataTransfer.files;
      }
      dom_default.putPrivate(inputEl, "files", files);
    }
  }
  static activeFileInputs(formEl) {
    let fileInputs = dom_default.findUploadInputs(formEl);
    return Array.from(fileInputs).filter((el) => el.files && this.activeFiles(el).length > 0);
  }
  static activeFiles(input) {
    return (dom_default.private(input, "files") || []).filter((f) => UploadEntry.isActive(input, f));
  }
  static inputsAwaitingPreflight(formEl) {
    let fileInputs = dom_default.findUploadInputs(formEl);
    return Array.from(fileInputs).filter((input) => this.filesAwaitingPreflight(input).length > 0);
  }
  static filesAwaitingPreflight(input) {
    return this.activeFiles(input).filter((f) => !UploadEntry.isPreflighted(input, f));
  }
  constructor(inputEl, view, onComplete) {
    this.view = view;
    this.onComplete = onComplete;
    this._entries = Array.from(LiveUploader.filesAwaitingPreflight(inputEl) || []).map((file) => new UploadEntry(inputEl, file, view));
    this.numEntriesInProgress = this._entries.length;
  }
  entries() {
    return this._entries;
  }
  initAdapterUpload(resp, onError, liveSocket2) {
    this._entries = this._entries.map((entry) => {
      entry.zipPostFlight(resp);
      entry.onDone(() => {
        this.numEntriesInProgress--;
        if (this.numEntriesInProgress === 0) {
          this.onComplete();
        }
      });
      return entry;
    });
    let groupedEntries = this._entries.reduce((acc, entry) => {
      if (!entry.meta) {
        return acc;
      }
      let { name, callback } = entry.uploader(liveSocket2.uploaders);
      acc[name] = acc[name] || { callback, entries: [] };
      acc[name].entries.push(entry);
      return acc;
    }, {});
    for (let name in groupedEntries) {
      let { callback, entries } = groupedEntries[name];
      callback(entries, onError, resp, liveSocket2);
    }
  }
};
var ARIA = {
  focusMain() {
    let target = document.querySelector("main h1, main, h1");
    if (target) {
      let origTabIndex = target.tabIndex;
      target.tabIndex = -1;
      target.focus();
      target.tabIndex = origTabIndex;
    }
  },
  anyOf(instance, classes) {
    return classes.find((name) => instance instanceof name);
  },
  isFocusable(el, interactiveOnly) {
    return el instanceof HTMLAnchorElement && el.rel !== "ignore" || el instanceof HTMLAreaElement && el.href !== void 0 || !el.disabled && this.anyOf(el, [HTMLInputElement, HTMLSelectElement, HTMLTextAreaElement, HTMLButtonElement]) || el instanceof HTMLIFrameElement || (el.tabIndex > 0 || !interactiveOnly && el.tabIndex === 0 && el.getAttribute("tabindex") !== null && el.getAttribute("aria-hidden") !== "true");
  },
  attemptFocus(el, interactiveOnly) {
    if (this.isFocusable(el, interactiveOnly)) {
      try {
        el.focus();
      } catch (e) {
      }
    }
    return !!document.activeElement && document.activeElement.isSameNode(el);
  },
  focusFirstInteractive(el) {
    let child = el.firstElementChild;
    while (child) {
      if (this.attemptFocus(child, true) || this.focusFirstInteractive(child, true)) {
        return true;
      }
      child = child.nextElementSibling;
    }
  },
  focusFirst(el) {
    let child = el.firstElementChild;
    while (child) {
      if (this.attemptFocus(child) || this.focusFirst(child)) {
        return true;
      }
      child = child.nextElementSibling;
    }
  },
  focusLast(el) {
    let child = el.lastElementChild;
    while (child) {
      if (this.attemptFocus(child) || this.focusLast(child)) {
        return true;
      }
      child = child.previousElementSibling;
    }
  }
};
var aria_default = ARIA;
var Hooks2 = {
  LiveFileUpload: {
    activeRefs() {
      return this.el.getAttribute(PHX_ACTIVE_ENTRY_REFS);
    },
    preflightedRefs() {
      return this.el.getAttribute(PHX_PREFLIGHTED_REFS);
    },
    mounted() {
      this.preflightedWas = this.preflightedRefs();
    },
    updated() {
      let newPreflights = this.preflightedRefs();
      if (this.preflightedWas !== newPreflights) {
        this.preflightedWas = newPreflights;
        if (newPreflights === "") {
          this.__view.cancelSubmit(this.el.form);
        }
      }
      if (this.activeRefs() === "") {
        this.el.value = null;
      }
      this.el.dispatchEvent(new CustomEvent(PHX_LIVE_FILE_UPDATED));
    }
  },
  LiveImgPreview: {
    mounted() {
      this.ref = this.el.getAttribute("data-phx-entry-ref");
      this.inputEl = document.getElementById(this.el.getAttribute(PHX_UPLOAD_REF));
      LiveUploader.getEntryDataURL(this.inputEl, this.ref, (url) => {
        this.url = url;
        this.el.src = url;
      });
    },
    destroyed() {
      URL.revokeObjectURL(this.url);
    }
  },
  FocusWrap: {
    mounted() {
      this.focusStart = this.el.firstElementChild;
      this.focusEnd = this.el.lastElementChild;
      this.focusStart.addEventListener("focus", () => aria_default.focusLast(this.el));
      this.focusEnd.addEventListener("focus", () => aria_default.focusFirst(this.el));
      this.el.addEventListener("phx:show-end", () => this.el.focus());
      if (window.getComputedStyle(this.el).display !== "none") {
        aria_default.focusFirst(this.el);
      }
    }
  }
};
var scrollTop = () => document.documentElement.scrollTop || document.body.scrollTop;
var winHeight = () => window.innerHeight || document.documentElement.clientHeight;
var isAtViewportTop = (el) => {
  let rect = el.getBoundingClientRect();
  return rect.top >= 0 && rect.left >= 0 && rect.top <= winHeight();
};
var isAtViewportBottom = (el) => {
  let rect = el.getBoundingClientRect();
  return rect.right >= 0 && rect.left >= 0 && rect.bottom <= winHeight();
};
var isWithinViewport = (el) => {
  let rect = el.getBoundingClientRect();
  return rect.top >= 0 && rect.left >= 0 && rect.top <= winHeight();
};
Hooks2.InfiniteScroll = {
  mounted() {
    let scrollBefore = scrollTop();
    let topOverran = false;
    let throttleInterval = 500;
    let pendingOp = null;
    let onTopOverrun = this.throttle(throttleInterval, (topEvent, firstChild) => {
      pendingOp = () => true;
      this.liveSocket.execJSHookPush(this.el, topEvent, { id: firstChild.id, _overran: true }, () => {
        pendingOp = null;
      });
    });
    let onFirstChildAtTop = this.throttle(throttleInterval, (topEvent, firstChild) => {
      pendingOp = () => firstChild.scrollIntoView({ block: "start" });
      this.liveSocket.execJSHookPush(this.el, topEvent, { id: firstChild.id }, () => {
        pendingOp = null;
        if (!isWithinViewport(firstChild)) {
          firstChild.scrollIntoView({ block: "start" });
        }
      });
    });
    let onLastChildAtBottom = this.throttle(throttleInterval, (bottomEvent, lastChild) => {
      pendingOp = () => lastChild.scrollIntoView({ block: "end" });
      this.liveSocket.execJSHookPush(this.el, bottomEvent, { id: lastChild.id }, () => {
        pendingOp = null;
        if (!isWithinViewport(lastChild)) {
          lastChild.scrollIntoView({ block: "end" });
        }
      });
    });
    this.onScroll = (e) => {
      let scrollNow = scrollTop();
      if (pendingOp) {
        scrollBefore = scrollNow;
        return pendingOp();
      }
      let rect = this.el.getBoundingClientRect();
      let topEvent = this.el.getAttribute(this.liveSocket.binding("viewport-top"));
      let bottomEvent = this.el.getAttribute(this.liveSocket.binding("viewport-bottom"));
      let lastChild = this.el.lastElementChild;
      let firstChild = this.el.firstElementChild;
      let isScrollingUp = scrollNow < scrollBefore;
      let isScrollingDown = scrollNow > scrollBefore;
      if (isScrollingUp && topEvent && !topOverran && rect.top >= 0) {
        topOverran = true;
        onTopOverrun(topEvent, firstChild);
      } else if (isScrollingDown && topOverran && rect.top <= 0) {
        topOverran = false;
      }
      if (topEvent && isScrollingUp && isAtViewportTop(firstChild)) {
        onFirstChildAtTop(topEvent, firstChild);
      } else if (bottomEvent && isScrollingDown && isAtViewportBottom(lastChild)) {
        onLastChildAtBottom(bottomEvent, lastChild);
      }
      scrollBefore = scrollNow;
    };
    window.addEventListener("scroll", this.onScroll);
  },
  destroyed() {
    window.removeEventListener("scroll", this.onScroll);
  },
  throttle(interval, callback) {
    let lastCallAt = 0;
    let timer;
    return (...args) => {
      let now = Date.now();
      let remainingTime = interval - (now - lastCallAt);
      if (remainingTime <= 0 || remainingTime > interval) {
        if (timer) {
          clearTimeout(timer);
          timer = null;
        }
        lastCallAt = now;
        callback(...args);
      } else if (!timer) {
        timer = setTimeout(() => {
          lastCallAt = Date.now();
          timer = null;
          callback(...args);
        }, remainingTime);
      }
    };
  }
};
var hooks_default = Hooks2;
var DOMPostMorphRestorer = class {
  constructor(containerBefore, containerAfter, updateType) {
    let idsBefore = /* @__PURE__ */ new Set();
    let idsAfter = new Set([...containerAfter.children].map((child) => child.id));
    let elementsToModify = [];
    Array.from(containerBefore.children).forEach((child) => {
      if (child.id) {
        idsBefore.add(child.id);
        if (idsAfter.has(child.id)) {
          let previousElementId = child.previousElementSibling && child.previousElementSibling.id;
          elementsToModify.push({ elementId: child.id, previousElementId });
        }
      }
    });
    this.containerId = containerAfter.id;
    this.updateType = updateType;
    this.elementsToModify = elementsToModify;
    this.elementIdsToAdd = [...idsAfter].filter((id) => !idsBefore.has(id));
  }
  perform() {
    let container = dom_default.byId(this.containerId);
    this.elementsToModify.forEach((elementToModify) => {
      if (elementToModify.previousElementId) {
        maybe(document.getElementById(elementToModify.previousElementId), (previousElem) => {
          maybe(document.getElementById(elementToModify.elementId), (elem) => {
            let isInRightPlace = elem.previousElementSibling && elem.previousElementSibling.id == previousElem.id;
            if (!isInRightPlace) {
              previousElem.insertAdjacentElement("afterend", elem);
            }
          });
        });
      } else {
        maybe(document.getElementById(elementToModify.elementId), (elem) => {
          let isInRightPlace = elem.previousElementSibling == null;
          if (!isInRightPlace) {
            container.insertAdjacentElement("afterbegin", elem);
          }
        });
      }
    });
    if (this.updateType == "prepend") {
      this.elementIdsToAdd.reverse().forEach((elemId) => {
        maybe(document.getElementById(elemId), (elem) => container.insertAdjacentElement("afterbegin", elem));
      });
    }
  }
};
var DOCUMENT_FRAGMENT_NODE = 11;
function morphAttrs(fromNode, toNode) {
  var toNodeAttrs = toNode.attributes;
  var attr;
  var attrName;
  var attrNamespaceURI;
  var attrValue;
  var fromValue;
  if (toNode.nodeType === DOCUMENT_FRAGMENT_NODE || fromNode.nodeType === DOCUMENT_FRAGMENT_NODE) {
    return;
  }
  for (var i = toNodeAttrs.length - 1; i >= 0; i--) {
    attr = toNodeAttrs[i];
    attrName = attr.name;
    attrNamespaceURI = attr.namespaceURI;
    attrValue = attr.value;
    if (attrNamespaceURI) {
      attrName = attr.localName || attrName;
      fromValue = fromNode.getAttributeNS(attrNamespaceURI, attrName);
      if (fromValue !== attrValue) {
        if (attr.prefix === "xmlns") {
          attrName = attr.name;
        }
        fromNode.setAttributeNS(attrNamespaceURI, attrName, attrValue);
      }
    } else {
      fromValue = fromNode.getAttribute(attrName);
      if (fromValue !== attrValue) {
        fromNode.setAttribute(attrName, attrValue);
      }
    }
  }
  var fromNodeAttrs = fromNode.attributes;
  for (var d = fromNodeAttrs.length - 1; d >= 0; d--) {
    attr = fromNodeAttrs[d];
    attrName = attr.name;
    attrNamespaceURI = attr.namespaceURI;
    if (attrNamespaceURI) {
      attrName = attr.localName || attrName;
      if (!toNode.hasAttributeNS(attrNamespaceURI, attrName)) {
        fromNode.removeAttributeNS(attrNamespaceURI, attrName);
      }
    } else {
      if (!toNode.hasAttribute(attrName)) {
        fromNode.removeAttribute(attrName);
      }
    }
  }
}
var range;
var NS_XHTML = "http://www.w3.org/1999/xhtml";
var doc = typeof document === "undefined" ? void 0 : document;
var HAS_TEMPLATE_SUPPORT = !!doc && "content" in doc.createElement("template");
var HAS_RANGE_SUPPORT = !!doc && doc.createRange && "createContextualFragment" in doc.createRange();
function createFragmentFromTemplate(str) {
  var template = doc.createElement("template");
  template.innerHTML = str;
  return template.content.childNodes[0];
}
function createFragmentFromRange(str) {
  if (!range) {
    range = doc.createRange();
    range.selectNode(doc.body);
  }
  var fragment = range.createContextualFragment(str);
  return fragment.childNodes[0];
}
function createFragmentFromWrap(str) {
  var fragment = doc.createElement("body");
  fragment.innerHTML = str;
  return fragment.childNodes[0];
}
function toElement(str) {
  str = str.trim();
  if (HAS_TEMPLATE_SUPPORT) {
    return createFragmentFromTemplate(str);
  } else if (HAS_RANGE_SUPPORT) {
    return createFragmentFromRange(str);
  }
  return createFragmentFromWrap(str);
}
function compareNodeNames(fromEl, toEl) {
  var fromNodeName = fromEl.nodeName;
  var toNodeName = toEl.nodeName;
  var fromCodeStart, toCodeStart;
  if (fromNodeName === toNodeName) {
    return true;
  }
  fromCodeStart = fromNodeName.charCodeAt(0);
  toCodeStart = toNodeName.charCodeAt(0);
  if (fromCodeStart <= 90 && toCodeStart >= 97) {
    return fromNodeName === toNodeName.toUpperCase();
  } else if (toCodeStart <= 90 && fromCodeStart >= 97) {
    return toNodeName === fromNodeName.toUpperCase();
  } else {
    return false;
  }
}
function createElementNS(name, namespaceURI) {
  return !namespaceURI || namespaceURI === NS_XHTML ? doc.createElement(name) : doc.createElementNS(namespaceURI, name);
}
function moveChildren(fromEl, toEl) {
  var curChild = fromEl.firstChild;
  while (curChild) {
    var nextChild = curChild.nextSibling;
    toEl.appendChild(curChild);
    curChild = nextChild;
  }
  return toEl;
}
function syncBooleanAttrProp(fromEl, toEl, name) {
  if (fromEl[name] !== toEl[name]) {
    fromEl[name] = toEl[name];
    if (fromEl[name]) {
      fromEl.setAttribute(name, "");
    } else {
      fromEl.removeAttribute(name);
    }
  }
}
var specialElHandlers = {
  OPTION: function(fromEl, toEl) {
    var parentNode = fromEl.parentNode;
    if (parentNode) {
      var parentName = parentNode.nodeName.toUpperCase();
      if (parentName === "OPTGROUP") {
        parentNode = parentNode.parentNode;
        parentName = parentNode && parentNode.nodeName.toUpperCase();
      }
      if (parentName === "SELECT" && !parentNode.hasAttribute("multiple")) {
        if (fromEl.hasAttribute("selected") && !toEl.selected) {
          fromEl.setAttribute("selected", "selected");
          fromEl.removeAttribute("selected");
        }
        parentNode.selectedIndex = -1;
      }
    }
    syncBooleanAttrProp(fromEl, toEl, "selected");
  },
  INPUT: function(fromEl, toEl) {
    syncBooleanAttrProp(fromEl, toEl, "checked");
    syncBooleanAttrProp(fromEl, toEl, "disabled");
    if (fromEl.value !== toEl.value) {
      fromEl.value = toEl.value;
    }
    if (!toEl.hasAttribute("value")) {
      fromEl.removeAttribute("value");
    }
  },
  TEXTAREA: function(fromEl, toEl) {
    var newValue = toEl.value;
    if (fromEl.value !== newValue) {
      fromEl.value = newValue;
    }
    var firstChild = fromEl.firstChild;
    if (firstChild) {
      var oldValue = firstChild.nodeValue;
      if (oldValue == newValue || !newValue && oldValue == fromEl.placeholder) {
        return;
      }
      firstChild.nodeValue = newValue;
    }
  },
  SELECT: function(fromEl, toEl) {
    if (!toEl.hasAttribute("multiple")) {
      var selectedIndex = -1;
      var i = 0;
      var curChild = fromEl.firstChild;
      var optgroup;
      var nodeName;
      while (curChild) {
        nodeName = curChild.nodeName && curChild.nodeName.toUpperCase();
        if (nodeName === "OPTGROUP") {
          optgroup = curChild;
          curChild = optgroup.firstChild;
        } else {
          if (nodeName === "OPTION") {
            if (curChild.hasAttribute("selected")) {
              selectedIndex = i;
              break;
            }
            i++;
          }
          curChild = curChild.nextSibling;
          if (!curChild && optgroup) {
            curChild = optgroup.nextSibling;
            optgroup = null;
          }
        }
      }
      fromEl.selectedIndex = selectedIndex;
    }
  }
};
var ELEMENT_NODE = 1;
var DOCUMENT_FRAGMENT_NODE$1 = 11;
var TEXT_NODE = 3;
var COMMENT_NODE = 8;
function noop() {
}
function defaultGetNodeKey(node) {
  if (node) {
    return node.getAttribute && node.getAttribute("id") || node.id;
  }
}
function morphdomFactory(morphAttrs2) {
  return function morphdom2(fromNode, toNode, options) {
    if (!options) {
      options = {};
    }
    if (typeof toNode === "string") {
      if (fromNode.nodeName === "#document" || fromNode.nodeName === "HTML" || fromNode.nodeName === "BODY") {
        var toNodeHtml = toNode;
        toNode = doc.createElement("html");
        toNode.innerHTML = toNodeHtml;
      } else {
        toNode = toElement(toNode);
      }
    } else if (toNode.nodeType === DOCUMENT_FRAGMENT_NODE$1) {
      toNode = toNode.firstElementChild;
    }
    var getNodeKey = options.getNodeKey || defaultGetNodeKey;
    var onBeforeNodeAdded = options.onBeforeNodeAdded || noop;
    var onNodeAdded = options.onNodeAdded || noop;
    var onBeforeElUpdated = options.onBeforeElUpdated || noop;
    var onElUpdated = options.onElUpdated || noop;
    var onBeforeNodeDiscarded = options.onBeforeNodeDiscarded || noop;
    var onNodeDiscarded = options.onNodeDiscarded || noop;
    var onBeforeElChildrenUpdated = options.onBeforeElChildrenUpdated || noop;
    var skipFromChildren = options.skipFromChildren || noop;
    var addChild = options.addChild || function(parent, child) {
      return parent.appendChild(child);
    };
    var childrenOnly = options.childrenOnly === true;
    var fromNodesLookup = /* @__PURE__ */ Object.create(null);
    var keyedRemovalList = [];
    function addKeyedRemoval(key) {
      keyedRemovalList.push(key);
    }
    function walkDiscardedChildNodes(node, skipKeyedNodes) {
      if (node.nodeType === ELEMENT_NODE) {
        var curChild = node.firstChild;
        while (curChild) {
          var key = void 0;
          if (skipKeyedNodes && (key = getNodeKey(curChild))) {
            addKeyedRemoval(key);
          } else {
            onNodeDiscarded(curChild);
            if (curChild.firstChild) {
              walkDiscardedChildNodes(curChild, skipKeyedNodes);
            }
          }
          curChild = curChild.nextSibling;
        }
      }
    }
    function removeNode(node, parentNode, skipKeyedNodes) {
      if (onBeforeNodeDiscarded(node) === false) {
        return;
      }
      if (parentNode) {
        parentNode.removeChild(node);
      }
      onNodeDiscarded(node);
      walkDiscardedChildNodes(node, skipKeyedNodes);
    }
    function indexTree(node) {
      if (node.nodeType === ELEMENT_NODE || node.nodeType === DOCUMENT_FRAGMENT_NODE$1) {
        var curChild = node.firstChild;
        while (curChild) {
          var key = getNodeKey(curChild);
          if (key) {
            fromNodesLookup[key] = curChild;
          }
          indexTree(curChild);
          curChild = curChild.nextSibling;
        }
      }
    }
    indexTree(fromNode);
    function handleNodeAdded(el) {
      onNodeAdded(el);
      var curChild = el.firstChild;
      while (curChild) {
        var nextSibling = curChild.nextSibling;
        var key = getNodeKey(curChild);
        if (key) {
          var unmatchedFromEl = fromNodesLookup[key];
          if (unmatchedFromEl && compareNodeNames(curChild, unmatchedFromEl)) {
            curChild.parentNode.replaceChild(unmatchedFromEl, curChild);
            morphEl(unmatchedFromEl, curChild);
          } else {
            handleNodeAdded(curChild);
          }
        } else {
          handleNodeAdded(curChild);
        }
        curChild = nextSibling;
      }
    }
    function cleanupFromEl(fromEl, curFromNodeChild, curFromNodeKey) {
      while (curFromNodeChild) {
        var fromNextSibling = curFromNodeChild.nextSibling;
        if (curFromNodeKey = getNodeKey(curFromNodeChild)) {
          addKeyedRemoval(curFromNodeKey);
        } else {
          removeNode(curFromNodeChild, fromEl, true);
        }
        curFromNodeChild = fromNextSibling;
      }
    }
    function morphEl(fromEl, toEl, childrenOnly2) {
      var toElKey = getNodeKey(toEl);
      if (toElKey) {
        delete fromNodesLookup[toElKey];
      }
      if (!childrenOnly2) {
        if (onBeforeElUpdated(fromEl, toEl) === false) {
          return;
        }
        morphAttrs2(fromEl, toEl);
        onElUpdated(fromEl);
        if (onBeforeElChildrenUpdated(fromEl, toEl) === false) {
          return;
        }
      }
      if (fromEl.nodeName !== "TEXTAREA") {
        morphChildren(fromEl, toEl);
      } else {
        specialElHandlers.TEXTAREA(fromEl, toEl);
      }
    }
    function morphChildren(fromEl, toEl) {
      var skipFrom = skipFromChildren(fromEl);
      var curToNodeChild = toEl.firstChild;
      var curFromNodeChild = fromEl.firstChild;
      var curToNodeKey;
      var curFromNodeKey;
      var fromNextSibling;
      var toNextSibling;
      var matchingFromEl;
      outer:
        while (curToNodeChild) {
          toNextSibling = curToNodeChild.nextSibling;
          curToNodeKey = getNodeKey(curToNodeChild);
          while (!skipFrom && curFromNodeChild) {
            fromNextSibling = curFromNodeChild.nextSibling;
            if (curToNodeChild.isSameNode && curToNodeChild.isSameNode(curFromNodeChild)) {
              curToNodeChild = toNextSibling;
              curFromNodeChild = fromNextSibling;
              continue outer;
            }
            curFromNodeKey = getNodeKey(curFromNodeChild);
            var curFromNodeType = curFromNodeChild.nodeType;
            var isCompatible = void 0;
            if (curFromNodeType === curToNodeChild.nodeType) {
              if (curFromNodeType === ELEMENT_NODE) {
                if (curToNodeKey) {
                  if (curToNodeKey !== curFromNodeKey) {
                    if (matchingFromEl = fromNodesLookup[curToNodeKey]) {
                      if (fromNextSibling === matchingFromEl) {
                        isCompatible = false;
                      } else {
                        fromEl.insertBefore(matchingFromEl, curFromNodeChild);
                        if (curFromNodeKey) {
                          addKeyedRemoval(curFromNodeKey);
                        } else {
                          removeNode(curFromNodeChild, fromEl, true);
                        }
                        curFromNodeChild = matchingFromEl;
                      }
                    } else {
                      isCompatible = false;
                    }
                  }
                } else if (curFromNodeKey) {
                  isCompatible = false;
                }
                isCompatible = isCompatible !== false && compareNodeNames(curFromNodeChild, curToNodeChild);
                if (isCompatible) {
                  morphEl(curFromNodeChild, curToNodeChild);
                }
              } else if (curFromNodeType === TEXT_NODE || curFromNodeType == COMMENT_NODE) {
                isCompatible = true;
                if (curFromNodeChild.nodeValue !== curToNodeChild.nodeValue) {
                  curFromNodeChild.nodeValue = curToNodeChild.nodeValue;
                }
              }
            }
            if (isCompatible) {
              curToNodeChild = toNextSibling;
              curFromNodeChild = fromNextSibling;
              continue outer;
            }
            if (curFromNodeKey) {
              addKeyedRemoval(curFromNodeKey);
            } else {
              removeNode(curFromNodeChild, fromEl, true);
            }
            curFromNodeChild = fromNextSibling;
          }
          if (curToNodeKey && (matchingFromEl = fromNodesLookup[curToNodeKey]) && compareNodeNames(matchingFromEl, curToNodeChild)) {
            if (!skipFrom) {
              addChild(fromEl, matchingFromEl);
            }
            morphEl(matchingFromEl, curToNodeChild);
          } else {
            var onBeforeNodeAddedResult = onBeforeNodeAdded(curToNodeChild);
            if (onBeforeNodeAddedResult !== false) {
              if (onBeforeNodeAddedResult) {
                curToNodeChild = onBeforeNodeAddedResult;
              }
              if (curToNodeChild.actualize) {
                curToNodeChild = curToNodeChild.actualize(fromEl.ownerDocument || doc);
              }
              addChild(fromEl, curToNodeChild);
              handleNodeAdded(curToNodeChild);
            }
          }
          curToNodeChild = toNextSibling;
          curFromNodeChild = fromNextSibling;
        }
      cleanupFromEl(fromEl, curFromNodeChild, curFromNodeKey);
      var specialElHandler = specialElHandlers[fromEl.nodeName];
      if (specialElHandler) {
        specialElHandler(fromEl, toEl);
      }
    }
    var morphedNode = fromNode;
    var morphedNodeType = morphedNode.nodeType;
    var toNodeType = toNode.nodeType;
    if (!childrenOnly) {
      if (morphedNodeType === ELEMENT_NODE) {
        if (toNodeType === ELEMENT_NODE) {
          if (!compareNodeNames(fromNode, toNode)) {
            onNodeDiscarded(fromNode);
            morphedNode = moveChildren(fromNode, createElementNS(toNode.nodeName, toNode.namespaceURI));
          }
        } else {
          morphedNode = toNode;
        }
      } else if (morphedNodeType === TEXT_NODE || morphedNodeType === COMMENT_NODE) {
        if (toNodeType === morphedNodeType) {
          if (morphedNode.nodeValue !== toNode.nodeValue) {
            morphedNode.nodeValue = toNode.nodeValue;
          }
          return morphedNode;
        } else {
          morphedNode = toNode;
        }
      }
    }
    if (morphedNode === toNode) {
      onNodeDiscarded(fromNode);
    } else {
      if (toNode.isSameNode && toNode.isSameNode(morphedNode)) {
        return;
      }
      morphEl(morphedNode, toNode, childrenOnly);
      if (keyedRemovalList) {
        for (var i = 0, len = keyedRemovalList.length; i < len; i++) {
          var elToRemove = fromNodesLookup[keyedRemovalList[i]];
          if (elToRemove) {
            removeNode(elToRemove, elToRemove.parentNode, false);
          }
        }
      }
    }
    if (!childrenOnly && morphedNode !== fromNode && fromNode.parentNode) {
      if (morphedNode.actualize) {
        morphedNode = morphedNode.actualize(fromNode.ownerDocument || doc);
      }
      fromNode.parentNode.replaceChild(morphedNode, fromNode);
    }
    return morphedNode;
  };
}
var morphdom = morphdomFactory(morphAttrs);
var morphdom_esm_default = morphdom;
var DOMPatch = class {
  static patchEl(fromEl, toEl, activeElement) {
    morphdom_esm_default(fromEl, toEl, {
      childrenOnly: false,
      onBeforeElUpdated: (fromEl2, toEl2) => {
        if (activeElement && activeElement.isSameNode(fromEl2) && dom_default.isFormInput(fromEl2)) {
          dom_default.mergeFocusedInput(fromEl2, toEl2);
          return false;
        }
      }
    });
  }
  constructor(view, container, id, html, streams, targetCID) {
    this.view = view;
    this.liveSocket = view.liveSocket;
    this.container = container;
    this.id = id;
    this.rootID = view.root.id;
    this.html = html;
    this.streams = streams;
    this.streamInserts = {};
    this.targetCID = targetCID;
    this.cidPatch = isCid(this.targetCID);
    this.pendingRemoves = [];
    this.phxRemove = this.liveSocket.binding("remove");
    this.callbacks = {
      beforeadded: [],
      beforeupdated: [],
      beforephxChildAdded: [],
      afteradded: [],
      afterupdated: [],
      afterdiscarded: [],
      afterphxChildAdded: [],
      aftertransitionsDiscarded: []
    };
  }
  before(kind, callback) {
    this.callbacks[`before${kind}`].push(callback);
  }
  after(kind, callback) {
    this.callbacks[`after${kind}`].push(callback);
  }
  trackBefore(kind, ...args) {
    this.callbacks[`before${kind}`].forEach((callback) => callback(...args));
  }
  trackAfter(kind, ...args) {
    this.callbacks[`after${kind}`].forEach((callback) => callback(...args));
  }
  markPrunableContentForRemoval() {
    let phxUpdate = this.liveSocket.binding(PHX_UPDATE);
    dom_default.all(this.container, `[${phxUpdate}=${PHX_STREAM}]`, (el) => el.innerHTML = "");
    dom_default.all(this.container, `[${phxUpdate}=append] > *, [${phxUpdate}=prepend] > *`, (el) => {
      el.setAttribute(PHX_PRUNE, "");
    });
  }
  perform() {
    let { view, liveSocket: liveSocket2, container, html } = this;
    let targetContainer = this.isCIDPatch() ? this.targetCIDContainer(html) : container;
    if (this.isCIDPatch() && !targetContainer) {
      return;
    }
    let focused = liveSocket2.getActiveElement();
    let { selectionStart, selectionEnd } = focused && dom_default.hasSelectionRange(focused) ? focused : {};
    let phxUpdate = liveSocket2.binding(PHX_UPDATE);
    let phxFeedbackFor = liveSocket2.binding(PHX_FEEDBACK_FOR);
    let disableWith = liveSocket2.binding(PHX_DISABLE_WITH);
    let phxViewportTop = liveSocket2.binding(PHX_VIEWPORT_TOP);
    let phxViewportBottom = liveSocket2.binding(PHX_VIEWPORT_BOTTOM);
    let phxTriggerExternal = liveSocket2.binding(PHX_TRIGGER_ACTION);
    let added = [];
    let trackedInputs = [];
    let updates = [];
    let appendPrependUpdates = [];
    let externalFormTriggered = null;
    let diffHTML = liveSocket2.time("premorph container prep", () => {
      return this.buildDiffHTML(container, html, phxUpdate, targetContainer);
    });
    this.trackBefore("added", container);
    this.trackBefore("updated", container, container);
    liveSocket2.time("morphdom", () => {
      this.streams.forEach(([ref, inserts, deleteIds, reset]) => {
        Object.entries(inserts).forEach(([key, [streamAt, limit]]) => {
          this.streamInserts[key] = { ref, streamAt, limit };
        });
        if (reset !== void 0) {
          dom_default.all(container, `[${PHX_STREAM_REF}="${ref}"]`, (child) => {
            if (!inserts[child.id]) {
              this.removeStreamChildElement(child);
            }
          });
        }
        deleteIds.forEach((id) => {
          let child = container.querySelector(`[id="${id}"]`);
          if (child) {
            this.removeStreamChildElement(child);
          }
        });
      });
      morphdom_esm_default(targetContainer, diffHTML, {
        childrenOnly: targetContainer.getAttribute(PHX_COMPONENT) === null,
        getNodeKey: (node) => {
          return dom_default.isPhxDestroyed(node) ? null : node.id;
        },
        skipFromChildren: (from) => {
          return from.getAttribute(phxUpdate) === PHX_STREAM;
        },
        addChild: (parent, child) => {
          let { ref, streamAt, limit } = this.getStreamInsert(child);
          if (ref === void 0) {
            return parent.appendChild(child);
          }
          dom_default.putSticky(child, PHX_STREAM_REF, (el) => el.setAttribute(PHX_STREAM_REF, ref));
          if (streamAt === 0) {
            parent.insertAdjacentElement("afterbegin", child);
          } else if (streamAt === -1) {
            parent.appendChild(child);
          } else if (streamAt > 0) {
            let sibling = Array.from(parent.children)[streamAt];
            parent.insertBefore(child, sibling);
          }
          let children = limit !== null && Array.from(parent.children);
          let childrenToRemove = [];
          if (limit && limit < 0 && children.length > limit * -1) {
            childrenToRemove = children.slice(0, children.length + limit);
          } else if (limit && limit >= 0 && children.length > limit) {
            childrenToRemove = children.slice(limit);
          }
          childrenToRemove.forEach((removeChild) => {
            if (!this.streamInserts[removeChild.id]) {
              this.removeStreamChildElement(removeChild);
            }
          });
        },
        onBeforeNodeAdded: (el) => {
          dom_default.maybeAddPrivateHooks(el, phxViewportTop, phxViewportBottom);
          this.trackBefore("added", el);
          return el;
        },
        onNodeAdded: (el) => {
          if (el.getAttribute) {
            this.maybeReOrderStream(el);
          }
          if (el instanceof HTMLImageElement && el.srcset) {
            el.srcset = el.srcset;
          } else if (el instanceof HTMLVideoElement && el.autoplay) {
            el.play();
          }
          if (dom_default.isNowTriggerFormExternal(el, phxTriggerExternal)) {
            externalFormTriggered = el;
          }
          if (el.getAttribute && el.getAttribute("name") && dom_default.isFormInput(el)) {
            trackedInputs.push(el);
          }
          if (dom_default.isPhxChild(el) && view.ownsElement(el) || dom_default.isPhxSticky(el) && view.ownsElement(el.parentNode)) {
            this.trackAfter("phxChildAdded", el);
          }
          added.push(el);
        },
        onNodeDiscarded: (el) => this.onNodeDiscarded(el),
        onBeforeNodeDiscarded: (el) => {
          if (el.getAttribute && el.getAttribute(PHX_PRUNE) !== null) {
            return true;
          }
          if (el.parentElement !== null && el.id && dom_default.isPhxUpdate(el.parentElement, phxUpdate, [PHX_STREAM, "append", "prepend"])) {
            return false;
          }
          if (this.maybePendingRemove(el)) {
            return false;
          }
          if (this.skipCIDSibling(el)) {
            return false;
          }
          return true;
        },
        onElUpdated: (el) => {
          if (dom_default.isNowTriggerFormExternal(el, phxTriggerExternal)) {
            externalFormTriggered = el;
          }
          updates.push(el);
          this.maybeReOrderStream(el);
        },
        onBeforeElUpdated: (fromEl, toEl) => {
          dom_default.maybeAddPrivateHooks(toEl, phxViewportTop, phxViewportBottom);
          dom_default.cleanChildNodes(toEl, phxUpdate);
          if (this.skipCIDSibling(toEl)) {
            return false;
          }
          if (dom_default.isPhxSticky(fromEl)) {
            return false;
          }
          if (dom_default.isIgnored(fromEl, phxUpdate) || fromEl.form && fromEl.form.isSameNode(externalFormTriggered)) {
            this.trackBefore("updated", fromEl, toEl);
            dom_default.mergeAttrs(fromEl, toEl, { isIgnored: true });
            updates.push(fromEl);
            dom_default.applyStickyOperations(fromEl);
            return false;
          }
          if (fromEl.type === "number" && (fromEl.validity && fromEl.validity.badInput)) {
            return false;
          }
          if (!dom_default.syncPendingRef(fromEl, toEl, disableWith)) {
            if (dom_default.isUploadInput(fromEl)) {
              this.trackBefore("updated", fromEl, toEl);
              updates.push(fromEl);
            }
            dom_default.applyStickyOperations(fromEl);
            return false;
          }
          if (dom_default.isPhxChild(toEl)) {
            let prevSession = fromEl.getAttribute(PHX_SESSION);
            dom_default.mergeAttrs(fromEl, toEl, { exclude: [PHX_STATIC] });
            if (prevSession !== "") {
              fromEl.setAttribute(PHX_SESSION, prevSession);
            }
            fromEl.setAttribute(PHX_ROOT_ID, this.rootID);
            dom_default.applyStickyOperations(fromEl);
            return false;
          }
          dom_default.copyPrivates(toEl, fromEl);
          let isFocusedFormEl = focused && fromEl.isSameNode(focused) && dom_default.isFormInput(fromEl);
          if (isFocusedFormEl && fromEl.type !== "hidden") {
            this.trackBefore("updated", fromEl, toEl);
            dom_default.mergeFocusedInput(fromEl, toEl);
            dom_default.syncAttrsToProps(fromEl);
            updates.push(fromEl);
            dom_default.applyStickyOperations(fromEl);
            trackedInputs.push(fromEl);
            return false;
          } else {
            if (dom_default.isPhxUpdate(toEl, phxUpdate, ["append", "prepend"])) {
              appendPrependUpdates.push(new DOMPostMorphRestorer(fromEl, toEl, toEl.getAttribute(phxUpdate)));
            }
            dom_default.syncAttrsToProps(toEl);
            dom_default.applyStickyOperations(toEl);
            if (toEl.getAttribute("name") && dom_default.isFormInput(toEl)) {
              trackedInputs.push(toEl);
            }
            this.trackBefore("updated", fromEl, toEl);
            return true;
          }
        }
      });
    });
    if (liveSocket2.isDebugEnabled()) {
      detectDuplicateIds();
    }
    if (appendPrependUpdates.length > 0) {
      liveSocket2.time("post-morph append/prepend restoration", () => {
        appendPrependUpdates.forEach((update) => update.perform());
      });
    }
    trackedInputs.forEach((input) => {
      dom_default.maybeHideFeedback(targetContainer, input, phxFeedbackFor);
    });
    liveSocket2.silenceEvents(() => dom_default.restoreFocus(focused, selectionStart, selectionEnd));
    dom_default.dispatchEvent(document, "phx:update");
    added.forEach((el) => this.trackAfter("added", el));
    updates.forEach((el) => this.trackAfter("updated", el));
    this.transitionPendingRemoves();
    if (externalFormTriggered) {
      liveSocket2.unload();
      Object.getPrototypeOf(externalFormTriggered).submit.call(externalFormTriggered);
    }
    return true;
  }
  onNodeDiscarded(el) {
    if (dom_default.isPhxChild(el) || dom_default.isPhxSticky(el)) {
      this.liveSocket.destroyViewByEl(el);
    }
    this.trackAfter("discarded", el);
  }
  maybePendingRemove(node) {
    if (node.getAttribute && node.getAttribute(this.phxRemove) !== null) {
      this.pendingRemoves.push(node);
      return true;
    } else {
      return false;
    }
  }
  removeStreamChildElement(child) {
    if (!this.maybePendingRemove(child)) {
      child.remove();
      this.onNodeDiscarded(child);
    }
  }
  getStreamInsert(el) {
    let insert = el.id ? this.streamInserts[el.id] : {};
    return insert || {};
  }
  maybeReOrderStream(el) {
    let { ref, streamAt, limit } = this.getStreamInsert(el);
    if (streamAt === void 0) {
      return;
    }
    dom_default.putSticky(el, PHX_STREAM_REF, (el2) => el2.setAttribute(PHX_STREAM_REF, ref));
    if (streamAt === 0) {
      el.parentElement.insertBefore(el, el.parentElement.firstElementChild);
    } else if (streamAt > 0) {
      let children = Array.from(el.parentElement.children);
      let oldIndex = children.indexOf(el);
      if (streamAt >= children.length - 1) {
        el.parentElement.appendChild(el);
      } else {
        let sibling = children[streamAt];
        if (oldIndex > streamAt) {
          el.parentElement.insertBefore(el, sibling);
        } else {
          el.parentElement.insertBefore(el, sibling.nextElementSibling);
        }
      }
    }
  }
  transitionPendingRemoves() {
    let { pendingRemoves, liveSocket: liveSocket2 } = this;
    if (pendingRemoves.length > 0) {
      liveSocket2.transitionRemoves(pendingRemoves);
      liveSocket2.requestDOMUpdate(() => {
        pendingRemoves.forEach((el) => {
          let child = dom_default.firstPhxChild(el);
          if (child) {
            liveSocket2.destroyViewByEl(child);
          }
          el.remove();
        });
        this.trackAfter("transitionsDiscarded", pendingRemoves);
      });
    }
  }
  isCIDPatch() {
    return this.cidPatch;
  }
  skipCIDSibling(el) {
    return el.nodeType === Node.ELEMENT_NODE && el.getAttribute(PHX_SKIP) !== null;
  }
  targetCIDContainer(html) {
    if (!this.isCIDPatch()) {
      return;
    }
    let [first, ...rest] = dom_default.findComponentNodeList(this.container, this.targetCID);
    if (rest.length === 0 && dom_default.childNodeLength(html) === 1) {
      return first;
    } else {
      return first && first.parentNode;
    }
  }
  buildDiffHTML(container, html, phxUpdate, targetContainer) {
    let isCIDPatch = this.isCIDPatch();
    let isCIDWithSingleRoot = isCIDPatch && targetContainer.getAttribute(PHX_COMPONENT) === this.targetCID.toString();
    if (!isCIDPatch || isCIDWithSingleRoot) {
      return html;
    } else {
      let diffContainer = null;
      let template = document.createElement("template");
      diffContainer = dom_default.cloneNode(targetContainer);
      let [firstComponent, ...rest] = dom_default.findComponentNodeList(diffContainer, this.targetCID);
      template.innerHTML = html;
      rest.forEach((el) => el.remove());
      Array.from(diffContainer.childNodes).forEach((child) => {
        if (child.id && child.nodeType === Node.ELEMENT_NODE && child.getAttribute(PHX_COMPONENT) !== this.targetCID.toString()) {
          child.setAttribute(PHX_SKIP, "");
          child.innerHTML = "";
        }
      });
      Array.from(template.content.childNodes).forEach((el) => diffContainer.insertBefore(el, firstComponent));
      firstComponent.remove();
      return diffContainer.outerHTML;
    }
  }
  indexOf(parent, child) {
    return Array.from(parent.children).indexOf(child);
  }
};
var Rendered = class {
  static extract(diff) {
    let { [REPLY]: reply, [EVENTS]: events, [TITLE]: title } = diff;
    delete diff[REPLY];
    delete diff[EVENTS];
    delete diff[TITLE];
    return { diff, title, reply: reply || null, events: events || [] };
  }
  constructor(viewId, rendered) {
    this.viewId = viewId;
    this.rendered = {};
    this.mergeDiff(rendered);
  }
  parentViewId() {
    return this.viewId;
  }
  toString(onlyCids) {
    let [str, streams] = this.recursiveToString(this.rendered, this.rendered[COMPONENTS], onlyCids);
    return [str, streams];
  }
  recursiveToString(rendered, components = rendered[COMPONENTS], onlyCids) {
    onlyCids = onlyCids ? new Set(onlyCids) : null;
    let output = { buffer: "", components, onlyCids, streams: /* @__PURE__ */ new Set() };
    this.toOutputBuffer(rendered, null, output);
    return [output.buffer, output.streams];
  }
  componentCIDs(diff) {
    return Object.keys(diff[COMPONENTS] || {}).map((i) => parseInt(i));
  }
  isComponentOnlyDiff(diff) {
    if (!diff[COMPONENTS]) {
      return false;
    }
    return Object.keys(diff).length === 1;
  }
  getComponent(diff, cid) {
    return diff[COMPONENTS][cid];
  }
  mergeDiff(diff) {
    let newc = diff[COMPONENTS];
    let cache = {};
    delete diff[COMPONENTS];
    this.rendered = this.mutableMerge(this.rendered, diff);
    this.rendered[COMPONENTS] = this.rendered[COMPONENTS] || {};
    if (newc) {
      let oldc = this.rendered[COMPONENTS];
      for (let cid in newc) {
        newc[cid] = this.cachedFindComponent(cid, newc[cid], oldc, newc, cache);
      }
      for (let cid in newc) {
        oldc[cid] = newc[cid];
      }
      diff[COMPONENTS] = newc;
    }
  }
  cachedFindComponent(cid, cdiff, oldc, newc, cache) {
    if (cache[cid]) {
      return cache[cid];
    } else {
      let ndiff, stat, scid = cdiff[STATIC];
      if (isCid(scid)) {
        let tdiff;
        if (scid > 0) {
          tdiff = this.cachedFindComponent(scid, newc[scid], oldc, newc, cache);
        } else {
          tdiff = oldc[-scid];
        }
        stat = tdiff[STATIC];
        ndiff = this.cloneMerge(tdiff, cdiff);
        ndiff[STATIC] = stat;
      } else {
        ndiff = cdiff[STATIC] !== void 0 ? cdiff : this.cloneMerge(oldc[cid] || {}, cdiff);
      }
      cache[cid] = ndiff;
      return ndiff;
    }
  }
  mutableMerge(target, source) {
    if (source[STATIC] !== void 0) {
      return source;
    } else {
      this.doMutableMerge(target, source);
      return target;
    }
  }
  doMutableMerge(target, source) {
    for (let key in source) {
      let val = source[key];
      let targetVal = target[key];
      let isObjVal = isObject(val);
      if (isObjVal && val[STATIC] === void 0 && isObject(targetVal)) {
        this.doMutableMerge(targetVal, val);
      } else {
        target[key] = val;
      }
    }
  }
  cloneMerge(target, source) {
    let merged = __spreadValues(__spreadValues({}, target), source);
    for (let key in merged) {
      let val = source[key];
      let targetVal = target[key];
      if (isObject(val) && val[STATIC] === void 0 && isObject(targetVal)) {
        merged[key] = this.cloneMerge(targetVal, val);
      }
    }
    return merged;
  }
  componentToString(cid) {
    let [str, streams] = this.recursiveCIDToString(this.rendered[COMPONENTS], cid, null, false);
    return [str, streams];
  }
  pruneCIDs(cids) {
    cids.forEach((cid) => delete this.rendered[COMPONENTS][cid]);
  }
  get() {
    return this.rendered;
  }
  isNewFingerprint(diff = {}) {
    return !!diff[STATIC];
  }
  templateStatic(part, templates) {
    if (typeof part === "number") {
      return templates[part];
    } else {
      return part;
    }
  }
  toOutputBuffer(rendered, templates, output) {
    if (rendered[DYNAMICS]) {
      return this.comprehensionToBuffer(rendered, templates, output);
    }
    let { [STATIC]: statics } = rendered;
    statics = this.templateStatic(statics, templates);
    output.buffer += statics[0];
    for (let i = 1; i < statics.length; i++) {
      this.dynamicToBuffer(rendered[i - 1], templates, output);
      output.buffer += statics[i];
    }
  }
  comprehensionToBuffer(rendered, templates, output) {
    let { [DYNAMICS]: dynamics, [STATIC]: statics, [STREAM]: stream } = rendered;
    let [_ref, _inserts, deleteIds, reset] = stream || [null, {}, [], null];
    statics = this.templateStatic(statics, templates);
    let compTemplates = templates || rendered[TEMPLATES];
    for (let d = 0; d < dynamics.length; d++) {
      let dynamic = dynamics[d];
      output.buffer += statics[0];
      for (let i = 1; i < statics.length; i++) {
        this.dynamicToBuffer(dynamic[i - 1], compTemplates, output);
        output.buffer += statics[i];
      }
    }
    if (stream !== void 0 && (rendered[DYNAMICS].length > 0 || deleteIds.length > 0 || reset)) {
      delete rendered[STREAM];
      rendered[DYNAMICS] = [];
      output.streams.add(stream);
    }
  }
  dynamicToBuffer(rendered, templates, output) {
    if (typeof rendered === "number") {
      let [str, streams] = this.recursiveCIDToString(output.components, rendered, output.onlyCids);
      output.buffer += str;
      output.streams = /* @__PURE__ */ new Set([...output.streams, ...streams]);
    } else if (isObject(rendered)) {
      this.toOutputBuffer(rendered, templates, output);
    } else {
      output.buffer += rendered;
    }
  }
  recursiveCIDToString(components, cid, onlyCids, allowRootComments = true) {
    let component = components[cid] || logError(`no component for CID ${cid}`, components);
    let template = document.createElement("template");
    let [html, streams] = this.recursiveToString(component, components, onlyCids);
    template.innerHTML = html;
    let container = template.content;
    let skip = onlyCids && !onlyCids.has(cid);
    let [hasChildNodes, hasChildComponents] = Array.from(container.childNodes).reduce(([hasNodes, hasComponents], child, i) => {
      if (child.nodeType === Node.ELEMENT_NODE) {
        if (child.getAttribute(PHX_COMPONENT)) {
          return [hasNodes, true];
        }
        child.setAttribute(PHX_COMPONENT, cid);
        if (!child.id) {
          child.id = `${this.parentViewId()}-${cid}-${i}`;
        }
        if (skip) {
          child.setAttribute(PHX_SKIP, "");
          child.innerHTML = "";
        }
        return [true, hasComponents];
      } else if (child.nodeType === Node.COMMENT_NODE) {
        if (!allowRootComments) {
          child.remove();
        }
        return [hasNodes, hasComponents];
      } else {
        if (child.nodeValue.trim() !== "") {
          logError(`only HTML element tags are allowed at the root of components.

got: "${child.nodeValue.trim()}"

within:
`, template.innerHTML.trim());
          child.replaceWith(this.createSpan(child.nodeValue, cid));
          return [true, hasComponents];
        } else {
          child.remove();
          return [hasNodes, hasComponents];
        }
      }
    }, [false, false]);
    if (!hasChildNodes && !hasChildComponents) {
      logError("expected at least one HTML element tag inside a component, but the component is empty:\n", template.innerHTML.trim());
      return [this.createSpan("", cid).outerHTML, streams];
    } else if (!hasChildNodes && hasChildComponents) {
      logError("expected at least one HTML element tag directly inside a component, but only subcomponents were found. A component must render at least one HTML tag directly inside itself.", template.innerHTML.trim());
      return [template.innerHTML, streams];
    } else {
      return [template.innerHTML, streams];
    }
  }
  createSpan(text, cid) {
    let span = document.createElement("span");
    span.innerText = text;
    span.setAttribute(PHX_COMPONENT, cid);
    return span;
  }
};
var viewHookID = 1;
var ViewHook = class {
  static makeID() {
    return viewHookID++;
  }
  static elementID(el) {
    return el.phxHookId;
  }
  constructor(view, el, callbacks) {
    this.__view = view;
    this.liveSocket = view.liveSocket;
    this.__callbacks = callbacks;
    this.__listeners = /* @__PURE__ */ new Set();
    this.__isDisconnected = false;
    this.el = el;
    this.el.phxHookId = this.constructor.makeID();
    for (let key in this.__callbacks) {
      this[key] = this.__callbacks[key];
    }
  }
  __mounted() {
    this.mounted && this.mounted();
  }
  __updated() {
    this.updated && this.updated();
  }
  __beforeUpdate() {
    this.beforeUpdate && this.beforeUpdate();
  }
  __destroyed() {
    this.destroyed && this.destroyed();
  }
  __reconnected() {
    if (this.__isDisconnected) {
      this.__isDisconnected = false;
      this.reconnected && this.reconnected();
    }
  }
  __disconnected() {
    this.__isDisconnected = true;
    this.disconnected && this.disconnected();
  }
  pushEvent(event, payload = {}, onReply = function() {
  }) {
    return this.__view.pushHookEvent(this.el, null, event, payload, onReply);
  }
  pushEventTo(phxTarget, event, payload = {}, onReply = function() {
  }) {
    return this.__view.withinTargets(phxTarget, (view, targetCtx) => {
      return view.pushHookEvent(this.el, targetCtx, event, payload, onReply);
    });
  }
  handleEvent(event, callback) {
    let callbackRef = (customEvent, bypass) => bypass ? event : callback(customEvent.detail);
    window.addEventListener(`phx:${event}`, callbackRef);
    this.__listeners.add(callbackRef);
    return callbackRef;
  }
  removeHandleEvent(callbackRef) {
    let event = callbackRef(null, true);
    window.removeEventListener(`phx:${event}`, callbackRef);
    this.__listeners.delete(callbackRef);
  }
  upload(name, files) {
    return this.__view.dispatchUploads(null, name, files);
  }
  uploadTo(phxTarget, name, files) {
    return this.__view.withinTargets(phxTarget, (view, targetCtx) => {
      view.dispatchUploads(targetCtx, name, files);
    });
  }
  __cleanup__() {
    this.__listeners.forEach((callbackRef) => this.removeHandleEvent(callbackRef));
  }
};
var focusStack = null;
var JS = {
  exec(eventType, phxEvent, view, sourceEl, defaults) {
    let [defaultKind, defaultArgs] = defaults || [null, { callback: defaults && defaults.callback }];
    let commands = phxEvent.charAt(0) === "[" ? JSON.parse(phxEvent) : [[defaultKind, defaultArgs]];
    commands.forEach(([kind, args]) => {
      if (kind === defaultKind && defaultArgs.data) {
        args.data = Object.assign(args.data || {}, defaultArgs.data);
        args.callback = args.callback || defaultArgs.callback;
      }
      this.filterToEls(sourceEl, args).forEach((el) => {
        this[`exec_${kind}`](eventType, phxEvent, view, sourceEl, el, args);
      });
    });
  },
  isVisible(el) {
    return !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length > 0);
  },
  exec_exec(eventType, phxEvent, view, sourceEl, el, [attr, to]) {
    let nodes = to ? dom_default.all(document, to) : [sourceEl];
    nodes.forEach((node) => {
      let encodedJS = node.getAttribute(attr);
      if (!encodedJS) {
        throw new Error(`expected ${attr} to contain JS command on "${to}"`);
      }
      view.liveSocket.execJS(node, encodedJS, eventType);
    });
  },
  exec_dispatch(eventType, phxEvent, view, sourceEl, el, { to, event, detail, bubbles }) {
    detail = detail || {};
    detail.dispatcher = sourceEl;
    dom_default.dispatchEvent(el, event, { detail, bubbles });
  },
  exec_push(eventType, phxEvent, view, sourceEl, el, args) {
    if (!view.isConnected()) {
      return;
    }
    let { event, data, target, page_loading, loading, value, dispatcher, callback } = args;
    let pushOpts = { loading, value, target, page_loading: !!page_loading };
    let targetSrc = eventType === "change" && dispatcher ? dispatcher : sourceEl;
    let phxTarget = target || targetSrc.getAttribute(view.binding("target")) || targetSrc;
    view.withinTargets(phxTarget, (targetView, targetCtx) => {
      if (eventType === "change") {
        let { newCid, _target } = args;
        _target = _target || (dom_default.isFormInput(sourceEl) ? sourceEl.name : void 0);
        if (_target) {
          pushOpts._target = _target;
        }
        targetView.pushInput(sourceEl, targetCtx, newCid, event || phxEvent, pushOpts, callback);
      } else if (eventType === "submit") {
        let { submitter } = args;
        targetView.submitForm(sourceEl, targetCtx, event || phxEvent, submitter, pushOpts, callback);
      } else {
        targetView.pushEvent(eventType, sourceEl, targetCtx, event || phxEvent, data, pushOpts, callback);
      }
    });
  },
  exec_navigate(eventType, phxEvent, view, sourceEl, el, { href, replace }) {
    view.liveSocket.historyRedirect(href, replace ? "replace" : "push");
  },
  exec_patch(eventType, phxEvent, view, sourceEl, el, { href, replace }) {
    view.liveSocket.pushHistoryPatch(href, replace ? "replace" : "push", sourceEl);
  },
  exec_focus(eventType, phxEvent, view, sourceEl, el) {
    window.requestAnimationFrame(() => aria_default.attemptFocus(el));
  },
  exec_focus_first(eventType, phxEvent, view, sourceEl, el) {
    window.requestAnimationFrame(() => aria_default.focusFirstInteractive(el) || aria_default.focusFirst(el));
  },
  exec_push_focus(eventType, phxEvent, view, sourceEl, el) {
    window.requestAnimationFrame(() => focusStack = el || sourceEl);
  },
  exec_pop_focus(eventType, phxEvent, view, sourceEl, el) {
    window.requestAnimationFrame(() => {
      if (focusStack) {
        focusStack.focus();
      }
      focusStack = null;
    });
  },
  exec_add_class(eventType, phxEvent, view, sourceEl, el, { names, transition, time }) {
    this.addOrRemoveClasses(el, names, [], transition, time, view);
  },
  exec_remove_class(eventType, phxEvent, view, sourceEl, el, { names, transition, time }) {
    this.addOrRemoveClasses(el, [], names, transition, time, view);
  },
  exec_transition(eventType, phxEvent, view, sourceEl, el, { time, transition }) {
    this.addOrRemoveClasses(el, [], [], transition, time, view);
  },
  exec_toggle(eventType, phxEvent, view, sourceEl, el, { display, ins, outs, time }) {
    this.toggle(eventType, view, el, display, ins, outs, time);
  },
  exec_show(eventType, phxEvent, view, sourceEl, el, { display, transition, time }) {
    this.show(eventType, view, el, display, transition, time);
  },
  exec_hide(eventType, phxEvent, view, sourceEl, el, { display, transition, time }) {
    this.hide(eventType, view, el, display, transition, time);
  },
  exec_set_attr(eventType, phxEvent, view, sourceEl, el, { attr: [attr, val] }) {
    this.setOrRemoveAttrs(el, [[attr, val]], []);
  },
  exec_remove_attr(eventType, phxEvent, view, sourceEl, el, { attr }) {
    this.setOrRemoveAttrs(el, [], [attr]);
  },
  show(eventType, view, el, display, transition, time) {
    if (!this.isVisible(el)) {
      this.toggle(eventType, view, el, display, transition, null, time);
    }
  },
  hide(eventType, view, el, display, transition, time) {
    if (this.isVisible(el)) {
      this.toggle(eventType, view, el, display, null, transition, time);
    }
  },
  toggle(eventType, view, el, display, ins, outs, time) {
    let [inClasses, inStartClasses, inEndClasses] = ins || [[], [], []];
    let [outClasses, outStartClasses, outEndClasses] = outs || [[], [], []];
    if (inClasses.length > 0 || outClasses.length > 0) {
      if (this.isVisible(el)) {
        let onStart = () => {
          this.addOrRemoveClasses(el, outStartClasses, inClasses.concat(inStartClasses).concat(inEndClasses));
          window.requestAnimationFrame(() => {
            this.addOrRemoveClasses(el, outClasses, []);
            window.requestAnimationFrame(() => this.addOrRemoveClasses(el, outEndClasses, outStartClasses));
          });
        };
        el.dispatchEvent(new Event("phx:hide-start"));
        view.transition(time, onStart, () => {
          this.addOrRemoveClasses(el, [], outClasses.concat(outEndClasses));
          dom_default.putSticky(el, "toggle", (currentEl) => currentEl.style.display = "none");
          el.dispatchEvent(new Event("phx:hide-end"));
        });
      } else {
        if (eventType === "remove") {
          return;
        }
        let onStart = () => {
          this.addOrRemoveClasses(el, inStartClasses, outClasses.concat(outStartClasses).concat(outEndClasses));
          let stickyDisplay = display || this.defaultDisplay(el);
          dom_default.putSticky(el, "toggle", (currentEl) => currentEl.style.display = stickyDisplay);
          window.requestAnimationFrame(() => {
            this.addOrRemoveClasses(el, inClasses, []);
            window.requestAnimationFrame(() => this.addOrRemoveClasses(el, inEndClasses, inStartClasses));
          });
        };
        el.dispatchEvent(new Event("phx:show-start"));
        view.transition(time, onStart, () => {
          this.addOrRemoveClasses(el, [], inClasses.concat(inEndClasses));
          el.dispatchEvent(new Event("phx:show-end"));
        });
      }
    } else {
      if (this.isVisible(el)) {
        window.requestAnimationFrame(() => {
          el.dispatchEvent(new Event("phx:hide-start"));
          dom_default.putSticky(el, "toggle", (currentEl) => currentEl.style.display = "none");
          el.dispatchEvent(new Event("phx:hide-end"));
        });
      } else {
        window.requestAnimationFrame(() => {
          el.dispatchEvent(new Event("phx:show-start"));
          let stickyDisplay = display || this.defaultDisplay(el);
          dom_default.putSticky(el, "toggle", (currentEl) => currentEl.style.display = stickyDisplay);
          el.dispatchEvent(new Event("phx:show-end"));
        });
      }
    }
  },
  addOrRemoveClasses(el, adds, removes, transition, time, view) {
    let [transitionRun, transitionStart, transitionEnd] = transition || [[], [], []];
    if (transitionRun.length > 0) {
      let onStart = () => {
        this.addOrRemoveClasses(el, transitionStart, [].concat(transitionRun).concat(transitionEnd));
        window.requestAnimationFrame(() => {
          this.addOrRemoveClasses(el, transitionRun, []);
          window.requestAnimationFrame(() => this.addOrRemoveClasses(el, transitionEnd, transitionStart));
        });
      };
      let onDone = () => this.addOrRemoveClasses(el, adds.concat(transitionEnd), removes.concat(transitionRun).concat(transitionStart));
      return view.transition(time, onStart, onDone);
    }
    window.requestAnimationFrame(() => {
      let [prevAdds, prevRemoves] = dom_default.getSticky(el, "classes", [[], []]);
      let keepAdds = adds.filter((name) => prevAdds.indexOf(name) < 0 && !el.classList.contains(name));
      let keepRemoves = removes.filter((name) => prevRemoves.indexOf(name) < 0 && el.classList.contains(name));
      let newAdds = prevAdds.filter((name) => removes.indexOf(name) < 0).concat(keepAdds);
      let newRemoves = prevRemoves.filter((name) => adds.indexOf(name) < 0).concat(keepRemoves);
      dom_default.putSticky(el, "classes", (currentEl) => {
        currentEl.classList.remove(...newRemoves);
        currentEl.classList.add(...newAdds);
        return [newAdds, newRemoves];
      });
    });
  },
  setOrRemoveAttrs(el, sets, removes) {
    let [prevSets, prevRemoves] = dom_default.getSticky(el, "attrs", [[], []]);
    let alteredAttrs = sets.map(([attr, _val]) => attr).concat(removes);
    let newSets = prevSets.filter(([attr, _val]) => !alteredAttrs.includes(attr)).concat(sets);
    let newRemoves = prevRemoves.filter((attr) => !alteredAttrs.includes(attr)).concat(removes);
    dom_default.putSticky(el, "attrs", (currentEl) => {
      newRemoves.forEach((attr) => currentEl.removeAttribute(attr));
      newSets.forEach(([attr, val]) => currentEl.setAttribute(attr, val));
      return [newSets, newRemoves];
    });
  },
  hasAllClasses(el, classes) {
    return classes.every((name) => el.classList.contains(name));
  },
  isToggledOut(el, outClasses) {
    return !this.isVisible(el) || this.hasAllClasses(el, outClasses);
  },
  filterToEls(sourceEl, { to }) {
    return to ? dom_default.all(document, to) : [sourceEl];
  },
  defaultDisplay(el) {
    return { tr: "table-row", td: "table-cell" }[el.tagName.toLowerCase()] || "block";
  }
};
var js_default = JS;
var serializeForm = (form, metadata, onlyNames = []) => {
  let _a = metadata, { submitter } = _a, meta = __objRest(_a, ["submitter"]);
  let formData = new FormData(form);
  if (submitter && submitter.hasAttribute("name") && submitter.form && submitter.form === form) {
    formData.append(submitter.name, submitter.value);
  }
  let toRemove = [];
  formData.forEach((val, key, _index) => {
    if (val instanceof File) {
      toRemove.push(key);
    }
  });
  toRemove.forEach((key) => formData.delete(key));
  let params = new URLSearchParams();
  for (let [key, val] of formData.entries()) {
    if (onlyNames.length === 0 || onlyNames.indexOf(key) >= 0) {
      params.append(key, val);
    }
  }
  for (let metaKey in meta) {
    params.append(metaKey, meta[metaKey]);
  }
  return params.toString();
};
var View = class {
  constructor(el, liveSocket2, parentView, flash, liveReferer) {
    this.isDead = false;
    this.liveSocket = liveSocket2;
    this.flash = flash;
    this.parent = parentView;
    this.root = parentView ? parentView.root : this;
    this.el = el;
    this.id = this.el.id;
    this.ref = 0;
    this.childJoins = 0;
    this.loaderTimer = null;
    this.pendingDiffs = [];
    this.pruningCIDs = [];
    this.redirect = false;
    this.href = null;
    this.joinCount = this.parent ? this.parent.joinCount - 1 : 0;
    this.joinPending = true;
    this.destroyed = false;
    this.joinCallback = function(onDone) {
      onDone && onDone();
    };
    this.stopCallback = function() {
    };
    this.pendingJoinOps = this.parent ? null : [];
    this.viewHooks = {};
    this.uploaders = {};
    this.formSubmits = [];
    this.children = this.parent ? null : {};
    this.root.children[this.id] = {};
    this.channel = this.liveSocket.channel(`lv:${this.id}`, () => {
      let url = this.href && this.expandURL(this.href);
      return {
        redirect: this.redirect ? url : void 0,
        url: this.redirect ? void 0 : url || void 0,
        params: this.connectParams(liveReferer),
        session: this.getSession(),
        static: this.getStatic(),
        flash: this.flash
      };
    });
  }
  setHref(href) {
    this.href = href;
  }
  setRedirect(href) {
    this.redirect = true;
    this.href = href;
  }
  isMain() {
    return this.el.hasAttribute(PHX_MAIN);
  }
  connectParams(liveReferer) {
    let params = this.liveSocket.params(this.el);
    let manifest = dom_default.all(document, `[${this.binding(PHX_TRACK_STATIC)}]`).map((node) => node.src || node.href).filter((url) => typeof url === "string");
    if (manifest.length > 0) {
      params["_track_static"] = manifest;
    }
    params["_mounts"] = this.joinCount;
    params["_live_referer"] = liveReferer;
    return params;
  }
  isConnected() {
    return this.channel.canPush();
  }
  getSession() {
    return this.el.getAttribute(PHX_SESSION);
  }
  getStatic() {
    let val = this.el.getAttribute(PHX_STATIC);
    return val === "" ? null : val;
  }
  destroy(callback = function() {
  }) {
    this.destroyAllChildren();
    this.destroyed = true;
    delete this.root.children[this.id];
    if (this.parent) {
      delete this.root.children[this.parent.id][this.id];
    }
    clearTimeout(this.loaderTimer);
    let onFinished = () => {
      callback();
      for (let id in this.viewHooks) {
        this.destroyHook(this.viewHooks[id]);
      }
    };
    dom_default.markPhxChildDestroyed(this.el);
    this.log("destroyed", () => ["the child has been removed from the parent"]);
    this.channel.leave().receive("ok", onFinished).receive("error", onFinished).receive("timeout", onFinished);
  }
  setContainerClasses(...classes) {
    this.el.classList.remove(PHX_CONNECTED_CLASS, PHX_LOADING_CLASS, PHX_ERROR_CLASS, PHX_CLIENT_ERROR_CLASS, PHX_SERVER_ERROR_CLASS);
    this.el.classList.add(...classes);
  }
  showLoader(timeout) {
    clearTimeout(this.loaderTimer);
    if (timeout) {
      this.loaderTimer = setTimeout(() => this.showLoader(), timeout);
    } else {
      for (let id in this.viewHooks) {
        this.viewHooks[id].__disconnected();
      }
      this.setContainerClasses(PHX_LOADING_CLASS);
    }
  }
  execAll(binding) {
    dom_default.all(this.el, `[${binding}]`, (el) => this.liveSocket.execJS(el, el.getAttribute(binding)));
  }
  hideLoader() {
    clearTimeout(this.loaderTimer);
    this.setContainerClasses(PHX_CONNECTED_CLASS);
    this.execAll(this.binding("connected"));
  }
  triggerReconnected() {
    for (let id in this.viewHooks) {
      this.viewHooks[id].__reconnected();
    }
  }
  log(kind, msgCallback) {
    this.liveSocket.log(this, kind, msgCallback);
  }
  transition(time, onStart, onDone = function() {
  }) {
    this.liveSocket.transition(time, onStart, onDone);
  }
  withinTargets(phxTarget, callback) {
    if (phxTarget instanceof HTMLElement || phxTarget instanceof SVGElement) {
      return this.liveSocket.owner(phxTarget, (view) => callback(view, phxTarget));
    }
    if (isCid(phxTarget)) {
      let targets = dom_default.findComponentNodeList(this.el, phxTarget);
      if (targets.length === 0) {
        logError(`no component found matching phx-target of ${phxTarget}`);
      } else {
        callback(this, parseInt(phxTarget));
      }
    } else {
      let targets = Array.from(document.querySelectorAll(phxTarget));
      if (targets.length === 0) {
        logError(`nothing found matching the phx-target selector "${phxTarget}"`);
      }
      targets.forEach((target) => this.liveSocket.owner(target, (view) => callback(view, target)));
    }
  }
  applyDiff(type, rawDiff, callback) {
    this.log(type, () => ["", clone(rawDiff)]);
    let { diff, reply, events, title } = Rendered.extract(rawDiff);
    callback({ diff, reply, events });
    if (title) {
      window.requestAnimationFrame(() => dom_default.putTitle(title));
    }
  }
  onJoin(resp) {
    let { rendered, container } = resp;
    if (container) {
      let [tag, attrs] = container;
      this.el = dom_default.replaceRootContainer(this.el, tag, attrs);
    }
    this.childJoins = 0;
    this.joinPending = true;
    this.flash = null;
    browser_default.dropLocal(this.liveSocket.localStorage, window.location.pathname, CONSECUTIVE_RELOADS);
    this.applyDiff("mount", rendered, ({ diff, events }) => {
      this.rendered = new Rendered(this.id, diff);
      let [html, streams] = this.renderContainer(null, "join");
      this.dropPendingRefs();
      let forms = this.formsForRecovery(html);
      this.joinCount++;
      if (forms.length > 0) {
        forms.forEach(([form, newForm, newCid], i) => {
          this.pushFormRecovery(form, newCid, (resp2) => {
            if (i === forms.length - 1) {
              this.onJoinComplete(resp2, html, streams, events);
            }
          });
        });
      } else {
        this.onJoinComplete(resp, html, streams, events);
      }
    });
  }
  dropPendingRefs() {
    dom_default.all(document, `[${PHX_REF_SRC}="${this.id}"][${PHX_REF}]`, (el) => {
      el.removeAttribute(PHX_REF);
      el.removeAttribute(PHX_REF_SRC);
    });
  }
  onJoinComplete({ live_patch }, html, streams, events) {
    if (this.joinCount > 1 || this.parent && !this.parent.isJoinPending()) {
      return this.applyJoinPatch(live_patch, html, streams, events);
    }
    let newChildren = dom_default.findPhxChildrenInFragment(html, this.id).filter((toEl) => {
      let fromEl = toEl.id && this.el.querySelector(`[id="${toEl.id}"]`);
      let phxStatic = fromEl && fromEl.getAttribute(PHX_STATIC);
      if (phxStatic) {
        toEl.setAttribute(PHX_STATIC, phxStatic);
      }
      return this.joinChild(toEl);
    });
    if (newChildren.length === 0) {
      if (this.parent) {
        this.root.pendingJoinOps.push([this, () => this.applyJoinPatch(live_patch, html, streams, events)]);
        this.parent.ackJoin(this);
      } else {
        this.onAllChildJoinsComplete();
        this.applyJoinPatch(live_patch, html, streams, events);
      }
    } else {
      this.root.pendingJoinOps.push([this, () => this.applyJoinPatch(live_patch, html, streams, events)]);
    }
  }
  attachTrueDocEl() {
    this.el = dom_default.byId(this.id);
    this.el.setAttribute(PHX_ROOT_ID, this.root.id);
  }
  execNewMounted() {
    let phxViewportTop = this.binding(PHX_VIEWPORT_TOP);
    let phxViewportBottom = this.binding(PHX_VIEWPORT_BOTTOM);
    dom_default.all(this.el, `[${phxViewportTop}], [${phxViewportBottom}]`, (hookEl) => {
      dom_default.maybeAddPrivateHooks(hookEl, phxViewportTop, phxViewportBottom);
      this.maybeAddNewHook(hookEl);
    });
    dom_default.all(this.el, `[${this.binding(PHX_HOOK)}], [data-phx-${PHX_HOOK}]`, (hookEl) => {
      this.maybeAddNewHook(hookEl);
    });
    dom_default.all(this.el, `[${this.binding(PHX_MOUNTED)}]`, (el) => this.maybeMounted(el));
  }
  applyJoinPatch(live_patch, html, streams, events) {
    this.attachTrueDocEl();
    let patch = new DOMPatch(this, this.el, this.id, html, streams, null);
    patch.markPrunableContentForRemoval();
    this.performPatch(patch, false);
    this.joinNewChildren();
    this.execNewMounted();
    this.joinPending = false;
    this.liveSocket.dispatchEvents(events);
    this.applyPendingUpdates();
    if (live_patch) {
      let { kind, to } = live_patch;
      this.liveSocket.historyPatch(to, kind);
    }
    this.hideLoader();
    if (this.joinCount > 1) {
      this.triggerReconnected();
    }
    this.stopCallback();
  }
  triggerBeforeUpdateHook(fromEl, toEl) {
    this.liveSocket.triggerDOM("onBeforeElUpdated", [fromEl, toEl]);
    let hook = this.getHook(fromEl);
    let isIgnored = hook && dom_default.isIgnored(fromEl, this.binding(PHX_UPDATE));
    if (hook && !fromEl.isEqualNode(toEl) && !(isIgnored && isEqualObj(fromEl.dataset, toEl.dataset))) {
      hook.__beforeUpdate();
      return hook;
    }
  }
  maybeMounted(el) {
    let phxMounted = el.getAttribute(this.binding(PHX_MOUNTED));
    let hasBeenInvoked = phxMounted && dom_default.private(el, "mounted");
    if (phxMounted && !hasBeenInvoked) {
      this.liveSocket.execJS(el, phxMounted);
      dom_default.putPrivate(el, "mounted", true);
    }
  }
  maybeAddNewHook(el, force) {
    let newHook = this.addHook(el);
    if (newHook) {
      newHook.__mounted();
    }
  }
  performPatch(patch, pruneCids) {
    let removedEls = [];
    let phxChildrenAdded = false;
    let updatedHookIds = /* @__PURE__ */ new Set();
    patch.after("added", (el) => {
      this.liveSocket.triggerDOM("onNodeAdded", [el]);
      this.maybeAddNewHook(el);
      if (el.getAttribute) {
        this.maybeMounted(el);
      }
    });
    patch.after("phxChildAdded", (el) => {
      if (dom_default.isPhxSticky(el)) {
        this.liveSocket.joinRootViews();
      } else {
        phxChildrenAdded = true;
      }
    });
    patch.before("updated", (fromEl, toEl) => {
      let hook = this.triggerBeforeUpdateHook(fromEl, toEl);
      if (hook) {
        updatedHookIds.add(fromEl.id);
      }
    });
    patch.after("updated", (el) => {
      if (updatedHookIds.has(el.id)) {
        this.getHook(el).__updated();
      }
    });
    patch.after("discarded", (el) => {
      if (el.nodeType === Node.ELEMENT_NODE) {
        removedEls.push(el);
      }
    });
    patch.after("transitionsDiscarded", (els) => this.afterElementsRemoved(els, pruneCids));
    patch.perform();
    this.afterElementsRemoved(removedEls, pruneCids);
    return phxChildrenAdded;
  }
  afterElementsRemoved(elements, pruneCids) {
    let destroyedCIDs = [];
    elements.forEach((parent) => {
      let components = dom_default.all(parent, `[${PHX_COMPONENT}]`);
      let hooks = dom_default.all(parent, `[${this.binding(PHX_HOOK)}]`);
      components.concat(parent).forEach((el) => {
        let cid = this.componentID(el);
        if (isCid(cid) && destroyedCIDs.indexOf(cid) === -1) {
          destroyedCIDs.push(cid);
        }
      });
      hooks.concat(parent).forEach((hookEl) => {
        let hook = this.getHook(hookEl);
        hook && this.destroyHook(hook);
      });
    });
    if (pruneCids) {
      this.maybePushComponentsDestroyed(destroyedCIDs);
    }
  }
  joinNewChildren() {
    dom_default.findPhxChildren(this.el, this.id).forEach((el) => this.joinChild(el));
  }
  getChildById(id) {
    return this.root.children[this.id][id];
  }
  getDescendentByEl(el) {
    if (el.id === this.id) {
      return this;
    } else {
      return this.children[el.getAttribute(PHX_PARENT_ID)][el.id];
    }
  }
  destroyDescendent(id) {
    for (let parentId in this.root.children) {
      for (let childId in this.root.children[parentId]) {
        if (childId === id) {
          return this.root.children[parentId][childId].destroy();
        }
      }
    }
  }
  joinChild(el) {
    let child = this.getChildById(el.id);
    if (!child) {
      let view = new View(el, this.liveSocket, this);
      this.root.children[this.id][view.id] = view;
      view.join();
      this.childJoins++;
      return true;
    }
  }
  isJoinPending() {
    return this.joinPending;
  }
  ackJoin(_child) {
    this.childJoins--;
    if (this.childJoins === 0) {
      if (this.parent) {
        this.parent.ackJoin(this);
      } else {
        this.onAllChildJoinsComplete();
      }
    }
  }
  onAllChildJoinsComplete() {
    this.joinCallback(() => {
      this.pendingJoinOps.forEach(([view, op]) => {
        if (!view.isDestroyed()) {
          op();
        }
      });
      this.pendingJoinOps = [];
    });
  }
  update(diff, events) {
    if (this.isJoinPending() || this.liveSocket.hasPendingLink() && this.root.isMain()) {
      return this.pendingDiffs.push({ diff, events });
    }
    this.rendered.mergeDiff(diff);
    let phxChildrenAdded = false;
    if (this.rendered.isComponentOnlyDiff(diff)) {
      this.liveSocket.time("component patch complete", () => {
        let parentCids = dom_default.findParentCIDs(this.el, this.rendered.componentCIDs(diff));
        parentCids.forEach((parentCID) => {
          if (this.componentPatch(this.rendered.getComponent(diff, parentCID), parentCID)) {
            phxChildrenAdded = true;
          }
        });
      });
    } else if (!isEmpty(diff)) {
      this.liveSocket.time("full patch complete", () => {
        let [html, streams] = this.renderContainer(diff, "update");
        let patch = new DOMPatch(this, this.el, this.id, html, streams, null);
        phxChildrenAdded = this.performPatch(patch, true);
      });
    }
    this.liveSocket.dispatchEvents(events);
    if (phxChildrenAdded) {
      this.joinNewChildren();
    }
  }
  renderContainer(diff, kind) {
    return this.liveSocket.time(`toString diff (${kind})`, () => {
      let tag = this.el.tagName;
      let cids = diff ? this.rendered.componentCIDs(diff).concat(this.pruningCIDs) : null;
      let [html, streams] = this.rendered.toString(cids);
      return [`<${tag}>${html}</${tag}>`, streams];
    });
  }
  componentPatch(diff, cid) {
    if (isEmpty(diff))
      return false;
    let [html, streams] = this.rendered.componentToString(cid);
    let patch = new DOMPatch(this, this.el, this.id, html, streams, cid);
    let childrenAdded = this.performPatch(patch, true);
    return childrenAdded;
  }
  getHook(el) {
    return this.viewHooks[ViewHook.elementID(el)];
  }
  addHook(el) {
    if (ViewHook.elementID(el) || !el.getAttribute) {
      return;
    }
    let hookName = el.getAttribute(`data-phx-${PHX_HOOK}`) || el.getAttribute(this.binding(PHX_HOOK));
    if (hookName && !this.ownsElement(el)) {
      return;
    }
    let callbacks = this.liveSocket.getHookCallbacks(hookName);
    if (callbacks) {
      if (!el.id) {
        logError(`no DOM ID for hook "${hookName}". Hooks require a unique ID on each element.`, el);
      }
      let hook = new ViewHook(this, el, callbacks);
      this.viewHooks[ViewHook.elementID(hook.el)] = hook;
      return hook;
    } else if (hookName !== null) {
      logError(`unknown hook found for "${hookName}"`, el);
    }
  }
  destroyHook(hook) {
    hook.__destroyed();
    hook.__cleanup__();
    delete this.viewHooks[ViewHook.elementID(hook.el)];
  }
  applyPendingUpdates() {
    this.pendingDiffs.forEach(({ diff, events }) => this.update(diff, events));
    this.pendingDiffs = [];
    this.eachChild((child) => child.applyPendingUpdates());
  }
  eachChild(callback) {
    let children = this.root.children[this.id] || {};
    for (let id in children) {
      callback(this.getChildById(id));
    }
  }
  onChannel(event, cb) {
    this.liveSocket.onChannel(this.channel, event, (resp) => {
      if (this.isJoinPending()) {
        this.root.pendingJoinOps.push([this, () => cb(resp)]);
      } else {
        this.liveSocket.requestDOMUpdate(() => cb(resp));
      }
    });
  }
  bindChannel() {
    this.liveSocket.onChannel(this.channel, "diff", (rawDiff) => {
      this.liveSocket.requestDOMUpdate(() => {
        this.applyDiff("update", rawDiff, ({ diff, events }) => this.update(diff, events));
      });
    });
    this.onChannel("redirect", ({ to, flash }) => this.onRedirect({ to, flash }));
    this.onChannel("live_patch", (redir) => this.onLivePatch(redir));
    this.onChannel("live_redirect", (redir) => this.onLiveRedirect(redir));
    this.channel.onError((reason) => this.onError(reason));
    this.channel.onClose((reason) => this.onClose(reason));
  }
  destroyAllChildren() {
    this.eachChild((child) => child.destroy());
  }
  onLiveRedirect(redir) {
    let { to, kind, flash } = redir;
    let url = this.expandURL(to);
    this.liveSocket.historyRedirect(url, kind, flash);
  }
  onLivePatch(redir) {
    let { to, kind } = redir;
    this.href = this.expandURL(to);
    this.liveSocket.historyPatch(to, kind);
  }
  expandURL(to) {
    return to.startsWith("/") ? `${window.location.protocol}//${window.location.host}${to}` : to;
  }
  onRedirect({ to, flash }) {
    this.liveSocket.redirect(to, flash);
  }
  isDestroyed() {
    return this.destroyed;
  }
  joinDead() {
    this.isDead = true;
  }
  join(callback) {
    this.showLoader(this.liveSocket.loaderTimeout);
    this.bindChannel();
    if (this.isMain()) {
      this.stopCallback = this.liveSocket.withPageLoading({ to: this.href, kind: "initial" });
    }
    this.joinCallback = (onDone) => {
      onDone = onDone || function() {
      };
      callback ? callback(this.joinCount, onDone) : onDone();
    };
    this.liveSocket.wrapPush(this, { timeout: false }, () => {
      return this.channel.join().receive("ok", (data) => {
        if (!this.isDestroyed()) {
          this.liveSocket.requestDOMUpdate(() => this.onJoin(data));
        }
      }).receive("error", (resp) => !this.isDestroyed() && this.onJoinError(resp)).receive("timeout", () => !this.isDestroyed() && this.onJoinError({ reason: "timeout" }));
    });
  }
  onJoinError(resp) {
    if (resp.reason === "reload") {
      this.log("error", () => [`failed mount with ${resp.status}. Falling back to page request`, resp]);
      if (this.isMain()) {
        this.onRedirect({ to: this.href });
      }
      return;
    } else if (resp.reason === "unauthorized" || resp.reason === "stale") {
      this.log("error", () => ["unauthorized live_redirect. Falling back to page request", resp]);
      if (this.isMain()) {
        this.onRedirect({ to: this.href });
      }
      return;
    }
    if (resp.redirect || resp.live_redirect) {
      this.joinPending = false;
      this.channel.leave();
    }
    if (resp.redirect) {
      return this.onRedirect(resp.redirect);
    }
    if (resp.live_redirect) {
      return this.onLiveRedirect(resp.live_redirect);
    }
    this.displayError([PHX_LOADING_CLASS, PHX_ERROR_CLASS, PHX_SERVER_ERROR_CLASS]);
    this.log("error", () => ["unable to join", resp]);
    if (this.liveSocket.isConnected()) {
      this.liveSocket.reloadWithJitter(this);
    }
  }
  onClose(reason) {
    if (this.isDestroyed()) {
      return;
    }
    if (this.liveSocket.hasPendingLink() && reason !== "leave") {
      return this.liveSocket.reloadWithJitter(this);
    }
    this.destroyAllChildren();
    this.liveSocket.dropActiveElement(this);
    if (document.activeElement) {
      document.activeElement.blur();
    }
    if (this.liveSocket.isUnloaded()) {
      this.showLoader(BEFORE_UNLOAD_LOADER_TIMEOUT);
    }
  }
  onError(reason) {
    this.onClose(reason);
    if (this.liveSocket.isConnected()) {
      this.log("error", () => ["view crashed", reason]);
    }
    if (!this.liveSocket.isUnloaded()) {
      if (this.liveSocket.isConnected()) {
        this.displayError([PHX_LOADING_CLASS, PHX_ERROR_CLASS, PHX_SERVER_ERROR_CLASS]);
      } else {
        this.displayError([PHX_LOADING_CLASS, PHX_ERROR_CLASS, PHX_CLIENT_ERROR_CLASS]);
      }
    }
  }
  displayError(classes) {
    if (this.isMain()) {
      dom_default.dispatchEvent(window, "phx:page-loading-start", { detail: { to: this.href, kind: "error" } });
    }
    this.showLoader();
    this.setContainerClasses(...classes);
    this.execAll(this.binding("disconnected"));
  }
  pushWithReply(refGenerator, event, payload, onReply = function() {
  }) {
    if (!this.isConnected()) {
      return;
    }
    let [ref, [el], opts] = refGenerator ? refGenerator() : [null, [], {}];
    let onLoadingDone = function() {
    };
    if (opts.page_loading || el && el.getAttribute(this.binding(PHX_PAGE_LOADING)) !== null) {
      onLoadingDone = this.liveSocket.withPageLoading({ kind: "element", target: el });
    }
    if (typeof payload.cid !== "number") {
      delete payload.cid;
    }
    return this.liveSocket.wrapPush(this, { timeout: true }, () => {
      return this.channel.push(event, payload, PUSH_TIMEOUT).receive("ok", (resp) => {
        let finish = (hookReply) => {
          if (resp.redirect) {
            this.onRedirect(resp.redirect);
          }
          if (resp.live_patch) {
            this.onLivePatch(resp.live_patch);
          }
          if (resp.live_redirect) {
            this.onLiveRedirect(resp.live_redirect);
          }
          onLoadingDone();
          onReply(resp, hookReply);
        };
        if (resp.diff) {
          this.liveSocket.requestDOMUpdate(() => {
            this.applyDiff("update", resp.diff, ({ diff, reply, events }) => {
              if (ref !== null) {
                this.undoRefs(ref);
              }
              this.update(diff, events);
              finish(reply);
            });
          });
        } else {
          if (ref !== null) {
            this.undoRefs(ref);
          }
          finish(null);
        }
      });
    });
  }
  undoRefs(ref) {
    if (!this.isConnected()) {
      return;
    }
    dom_default.all(document, `[${PHX_REF_SRC}="${this.id}"][${PHX_REF}="${ref}"]`, (el) => {
      let disabledVal = el.getAttribute(PHX_DISABLED);
      el.removeAttribute(PHX_REF);
      el.removeAttribute(PHX_REF_SRC);
      if (el.getAttribute(PHX_READONLY) !== null) {
        el.readOnly = false;
        el.removeAttribute(PHX_READONLY);
      }
      if (disabledVal !== null) {
        el.disabled = disabledVal === "true" ? true : false;
        el.removeAttribute(PHX_DISABLED);
      }
      PHX_EVENT_CLASSES.forEach((className) => dom_default.removeClass(el, className));
      let disableRestore = el.getAttribute(PHX_DISABLE_WITH_RESTORE);
      if (disableRestore !== null) {
        el.innerText = disableRestore;
        el.removeAttribute(PHX_DISABLE_WITH_RESTORE);
      }
      let toEl = dom_default.private(el, PHX_REF);
      if (toEl) {
        let hook = this.triggerBeforeUpdateHook(el, toEl);
        DOMPatch.patchEl(el, toEl, this.liveSocket.getActiveElement());
        if (hook) {
          hook.__updated();
        }
        dom_default.deletePrivate(el, PHX_REF);
      }
    });
  }
  putRef(elements, event, opts = {}) {
    let newRef = this.ref++;
    let disableWith = this.binding(PHX_DISABLE_WITH);
    if (opts.loading) {
      elements = elements.concat(dom_default.all(document, opts.loading));
    }
    elements.forEach((el) => {
      el.classList.add(`phx-${event}-loading`);
      el.setAttribute(PHX_REF, newRef);
      el.setAttribute(PHX_REF_SRC, this.el.id);
      let disableText = el.getAttribute(disableWith);
      if (disableText !== null) {
        if (!el.getAttribute(PHX_DISABLE_WITH_RESTORE)) {
          el.setAttribute(PHX_DISABLE_WITH_RESTORE, el.innerText);
        }
        if (disableText !== "") {
          el.innerText = disableText;
        }
        el.setAttribute("disabled", "");
      }
    });
    return [newRef, elements, opts];
  }
  componentID(el) {
    let cid = el.getAttribute && el.getAttribute(PHX_COMPONENT);
    return cid ? parseInt(cid) : null;
  }
  targetComponentID(target, targetCtx, opts = {}) {
    if (isCid(targetCtx)) {
      return targetCtx;
    }
    let cidOrSelector = target.getAttribute(this.binding("target"));
    if (isCid(cidOrSelector)) {
      return parseInt(cidOrSelector);
    } else if (targetCtx && (cidOrSelector !== null || opts.target)) {
      return this.closestComponentID(targetCtx);
    } else {
      return null;
    }
  }
  closestComponentID(targetCtx) {
    if (isCid(targetCtx)) {
      return targetCtx;
    } else if (targetCtx) {
      return maybe(targetCtx.closest(`[${PHX_COMPONENT}]`), (el) => this.ownsElement(el) && this.componentID(el));
    } else {
      return null;
    }
  }
  pushHookEvent(el, targetCtx, event, payload, onReply) {
    if (!this.isConnected()) {
      this.log("hook", () => ["unable to push hook event. LiveView not connected", event, payload]);
      return false;
    }
    let [ref, els, opts] = this.putRef([el], "hook");
    this.pushWithReply(() => [ref, els, opts], "event", {
      type: "hook",
      event,
      value: payload,
      cid: this.closestComponentID(targetCtx)
    }, (resp, reply) => onReply(reply, ref));
    return ref;
  }
  extractMeta(el, meta, value) {
    let prefix = this.binding("value-");
    for (let i = 0; i < el.attributes.length; i++) {
      if (!meta) {
        meta = {};
      }
      let name = el.attributes[i].name;
      if (name.startsWith(prefix)) {
        meta[name.replace(prefix, "")] = el.getAttribute(name);
      }
    }
    if (el.value !== void 0 && !(el instanceof HTMLFormElement)) {
      if (!meta) {
        meta = {};
      }
      meta.value = el.value;
      if (el.tagName === "INPUT" && CHECKABLE_INPUTS.indexOf(el.type) >= 0 && !el.checked) {
        delete meta.value;
      }
    }
    if (value) {
      if (!meta) {
        meta = {};
      }
      for (let key in value) {
        meta[key] = value[key];
      }
    }
    return meta;
  }
  pushEvent(type, el, targetCtx, phxEvent, meta, opts = {}, onReply) {
    this.pushWithReply(() => this.putRef([el], type, opts), "event", {
      type,
      event: phxEvent,
      value: this.extractMeta(el, meta, opts.value),
      cid: this.targetComponentID(el, targetCtx, opts)
    }, (resp, reply) => onReply && onReply(reply));
  }
  pushFileProgress(fileEl, entryRef, progress, onReply = function() {
  }) {
    this.liveSocket.withinOwners(fileEl.form, (view, targetCtx) => {
      view.pushWithReply(null, "progress", {
        event: fileEl.getAttribute(view.binding(PHX_PROGRESS)),
        ref: fileEl.getAttribute(PHX_UPLOAD_REF),
        entry_ref: entryRef,
        progress,
        cid: view.targetComponentID(fileEl.form, targetCtx)
      }, onReply);
    });
  }
  pushInput(inputEl, targetCtx, forceCid, phxEvent, opts, callback) {
    let uploads;
    let cid = isCid(forceCid) ? forceCid : this.targetComponentID(inputEl.form, targetCtx);
    let refGenerator = () => this.putRef([inputEl, inputEl.form], "change", opts);
    let formData;
    let meta = this.extractMeta(inputEl.form);
    if (inputEl.getAttribute(this.binding("change"))) {
      formData = serializeForm(inputEl.form, __spreadValues({ _target: opts._target }, meta), [inputEl.name]);
    } else {
      formData = serializeForm(inputEl.form, __spreadValues({ _target: opts._target }, meta));
    }
    if (dom_default.isUploadInput(inputEl) && inputEl.files && inputEl.files.length > 0) {
      LiveUploader.trackFiles(inputEl, Array.from(inputEl.files));
    }
    uploads = LiveUploader.serializeUploads(inputEl);
    let event = {
      type: "form",
      event: phxEvent,
      value: formData,
      uploads,
      cid
    };
    this.pushWithReply(refGenerator, "event", event, (resp) => {
      dom_default.showError(inputEl, this.liveSocket.binding(PHX_FEEDBACK_FOR));
      if (dom_default.isUploadInput(inputEl) && dom_default.isAutoUpload(inputEl)) {
        if (LiveUploader.filesAwaitingPreflight(inputEl).length > 0) {
          let [ref, _els] = refGenerator();
          this.uploadFiles(inputEl.form, targetCtx, ref, cid, (_uploads) => {
            callback && callback(resp);
            this.triggerAwaitingSubmit(inputEl.form);
          });
        }
      } else {
        callback && callback(resp);
      }
    });
  }
  triggerAwaitingSubmit(formEl) {
    let awaitingSubmit = this.getScheduledSubmit(formEl);
    if (awaitingSubmit) {
      let [_el, _ref, _opts, callback] = awaitingSubmit;
      this.cancelSubmit(formEl);
      callback();
    }
  }
  getScheduledSubmit(formEl) {
    return this.formSubmits.find(([el, _ref, _opts, _callback]) => el.isSameNode(formEl));
  }
  scheduleSubmit(formEl, ref, opts, callback) {
    if (this.getScheduledSubmit(formEl)) {
      return true;
    }
    this.formSubmits.push([formEl, ref, opts, callback]);
  }
  cancelSubmit(formEl) {
    this.formSubmits = this.formSubmits.filter(([el, ref, _callback]) => {
      if (el.isSameNode(formEl)) {
        this.undoRefs(ref);
        return false;
      } else {
        return true;
      }
    });
  }
  disableForm(formEl, opts = {}) {
    let filterIgnored = (el) => {
      let userIgnored = closestPhxBinding(el, `${this.binding(PHX_UPDATE)}=ignore`, el.form);
      return !(userIgnored || closestPhxBinding(el, "data-phx-update=ignore", el.form));
    };
    let filterDisables = (el) => {
      return el.hasAttribute(this.binding(PHX_DISABLE_WITH));
    };
    let filterButton = (el) => el.tagName == "BUTTON";
    let filterInput = (el) => ["INPUT", "TEXTAREA", "SELECT"].includes(el.tagName);
    let formElements = Array.from(formEl.elements);
    let disables = formElements.filter(filterDisables);
    let buttons = formElements.filter(filterButton).filter(filterIgnored);
    let inputs = formElements.filter(filterInput).filter(filterIgnored);
    buttons.forEach((button) => {
      button.setAttribute(PHX_DISABLED, button.disabled);
      button.disabled = true;
    });
    inputs.forEach((input) => {
      input.setAttribute(PHX_READONLY, input.readOnly);
      input.readOnly = true;
      if (input.files) {
        input.setAttribute(PHX_DISABLED, input.disabled);
        input.disabled = true;
      }
    });
    formEl.setAttribute(this.binding(PHX_PAGE_LOADING), "");
    return this.putRef([formEl].concat(disables).concat(buttons).concat(inputs), "submit", opts);
  }
  pushFormSubmit(formEl, targetCtx, phxEvent, submitter, opts, onReply) {
    let refGenerator = () => this.disableForm(formEl, opts);
    let cid = this.targetComponentID(formEl, targetCtx);
    if (LiveUploader.hasUploadsInProgress(formEl)) {
      let [ref, _els] = refGenerator();
      let push = () => this.pushFormSubmit(formEl, submitter, targetCtx, phxEvent, opts, onReply);
      return this.scheduleSubmit(formEl, ref, opts, push);
    } else if (LiveUploader.inputsAwaitingPreflight(formEl).length > 0) {
      let [ref, els] = refGenerator();
      let proxyRefGen = () => [ref, els, opts];
      this.uploadFiles(formEl, targetCtx, ref, cid, (_uploads) => {
        let meta = this.extractMeta(formEl);
        let formData = serializeForm(formEl, __spreadValues({ submitter }, meta));
        this.pushWithReply(proxyRefGen, "event", {
          type: "form",
          event: phxEvent,
          value: formData,
          cid
        }, onReply);
      });
    } else if (!(formEl.hasAttribute(PHX_REF) && formEl.classList.contains("phx-submit-loading"))) {
      let meta = this.extractMeta(formEl);
      let formData = serializeForm(formEl, __spreadValues({ submitter }, meta));
      this.pushWithReply(refGenerator, "event", {
        type: "form",
        event: phxEvent,
        value: formData,
        cid
      }, onReply);
    }
  }
  uploadFiles(formEl, targetCtx, ref, cid, onComplete) {
    let joinCountAtUpload = this.joinCount;
    let inputEls = LiveUploader.activeFileInputs(formEl);
    let numFileInputsInProgress = inputEls.length;
    inputEls.forEach((inputEl) => {
      let uploader = new LiveUploader(inputEl, this, () => {
        numFileInputsInProgress--;
        if (numFileInputsInProgress === 0) {
          onComplete();
        }
      });
      this.uploaders[inputEl] = uploader;
      let entries = uploader.entries().map((entry) => entry.toPreflightPayload());
      let payload = {
        ref: inputEl.getAttribute(PHX_UPLOAD_REF),
        entries,
        cid: this.targetComponentID(inputEl.form, targetCtx)
      };
      this.log("upload", () => ["sending preflight request", payload]);
      this.pushWithReply(null, "allow_upload", payload, (resp) => {
        this.log("upload", () => ["got preflight response", resp]);
        if (resp.error) {
          this.undoRefs(ref);
          let [entry_ref, reason] = resp.error;
          this.log("upload", () => [`error for entry ${entry_ref}`, reason]);
        } else {
          let onError = (callback) => {
            this.channel.onError(() => {
              if (this.joinCount === joinCountAtUpload) {
                callback();
              }
            });
          };
          uploader.initAdapterUpload(resp, onError, this.liveSocket);
        }
      });
    });
  }
  dispatchUploads(targetCtx, name, filesOrBlobs) {
    let targetElement = this.targetCtxElement(targetCtx) || this.el;
    let inputs = dom_default.findUploadInputs(targetElement).filter((el) => el.name === name);
    if (inputs.length === 0) {
      logError(`no live file inputs found matching the name "${name}"`);
    } else if (inputs.length > 1) {
      logError(`duplicate live file inputs found matching the name "${name}"`);
    } else {
      dom_default.dispatchEvent(inputs[0], PHX_TRACK_UPLOADS, { detail: { files: filesOrBlobs } });
    }
  }
  targetCtxElement(targetCtx) {
    if (isCid(targetCtx)) {
      let [target] = dom_default.findComponentNodeList(this.el, targetCtx);
      return target;
    } else if (targetCtx) {
      return targetCtx;
    } else {
      return null;
    }
  }
  pushFormRecovery(form, newCid, callback) {
    this.liveSocket.withinOwners(form, (view, targetCtx) => {
      let phxChange = this.binding("change");
      let inputs = Array.from(form.elements).filter((el) => dom_default.isFormInput(el) && el.name && !el.hasAttribute(phxChange));
      if (inputs.length === 0) {
        return;
      }
      inputs.forEach((input2) => input2.hasAttribute(PHX_UPLOAD_REF) && LiveUploader.clearFiles(input2));
      let input = inputs.find((el) => el.type !== "hidden") || inputs[0];
      let phxEvent = form.getAttribute(this.binding(PHX_AUTO_RECOVER)) || form.getAttribute(this.binding("change"));
      js_default.exec("change", phxEvent, view, input, ["push", { _target: input.name, newCid, callback }]);
    });
  }
  pushLinkPatch(href, targetEl, callback) {
    let linkRef = this.liveSocket.setPendingLink(href);
    let refGen = targetEl ? () => this.putRef([targetEl], "click") : null;
    let fallback = () => this.liveSocket.redirect(window.location.href);
    let url = href.startsWith("/") ? `${location.protocol}//${location.host}${href}` : href;
    let push = this.pushWithReply(refGen, "live_patch", { url }, (resp) => {
      this.liveSocket.requestDOMUpdate(() => {
        if (resp.link_redirect) {
          this.liveSocket.replaceMain(href, null, callback, linkRef);
        } else {
          if (this.liveSocket.commitPendingLink(linkRef)) {
            this.href = href;
          }
          this.applyPendingUpdates();
          callback && callback(linkRef);
        }
      });
    });
    if (push) {
      push.receive("timeout", fallback);
    } else {
      fallback();
    }
  }
  formsForRecovery(html) {
    if (this.joinCount === 0) {
      return [];
    }
    let phxChange = this.binding("change");
    let template = document.createElement("template");
    template.innerHTML = html;
    return dom_default.all(this.el, `form[${phxChange}]`).filter((form) => form.id && this.ownsElement(form)).filter((form) => form.elements.length > 0).filter((form) => form.getAttribute(this.binding(PHX_AUTO_RECOVER)) !== "ignore").map((form) => {
      const phxChangeValue = form.getAttribute(phxChange).replaceAll(/([\[\]"])/g, "\\$1");
      let newForm = template.content.querySelector(`form[id="${form.id}"][${phxChange}="${phxChangeValue}"]`);
      if (newForm) {
        return [form, newForm, this.targetComponentID(newForm)];
      } else {
        return [form, form, this.targetComponentID(form)];
      }
    }).filter(([form, newForm, newCid]) => newForm);
  }
  maybePushComponentsDestroyed(destroyedCIDs) {
    let willDestroyCIDs = destroyedCIDs.filter((cid) => {
      return dom_default.findComponentNodeList(this.el, cid).length === 0;
    });
    if (willDestroyCIDs.length > 0) {
      this.pruningCIDs.push(...willDestroyCIDs);
      this.pushWithReply(null, "cids_will_destroy", { cids: willDestroyCIDs }, () => {
        this.pruningCIDs = this.pruningCIDs.filter((cid) => willDestroyCIDs.indexOf(cid) !== -1);
        let completelyDestroyCIDs = willDestroyCIDs.filter((cid) => {
          return dom_default.findComponentNodeList(this.el, cid).length === 0;
        });
        if (completelyDestroyCIDs.length > 0) {
          this.pushWithReply(null, "cids_destroyed", { cids: completelyDestroyCIDs }, (resp) => {
            this.rendered.pruneCIDs(resp.cids);
          });
        }
      });
    }
  }
  ownsElement(el) {
    let parentViewEl = el.closest(PHX_VIEW_SELECTOR);
    return el.getAttribute(PHX_PARENT_ID) === this.id || parentViewEl && parentViewEl.id === this.id || !parentViewEl && this.isDead;
  }
  submitForm(form, targetCtx, phxEvent, submitter, opts = {}) {
    dom_default.putPrivate(form, PHX_HAS_SUBMITTED, true);
    let phxFeedback = this.liveSocket.binding(PHX_FEEDBACK_FOR);
    let inputs = Array.from(form.elements);
    inputs.forEach((input) => dom_default.putPrivate(input, PHX_HAS_SUBMITTED, true));
    this.liveSocket.blurActiveElement(this);
    this.pushFormSubmit(form, targetCtx, phxEvent, submitter, opts, () => {
      inputs.forEach((input) => dom_default.showError(input, phxFeedback));
      this.liveSocket.restorePreviouslyActiveFocus();
    });
  }
  binding(kind) {
    return this.liveSocket.binding(kind);
  }
};
var LiveSocket = class {
  constructor(url, phxSocket, opts = {}) {
    this.unloaded = false;
    if (!phxSocket || phxSocket.constructor.name === "Object") {
      throw new Error(`
      a phoenix Socket must be provided as the second argument to the LiveSocket constructor. For example:

          import {Socket} from "phoenix"
          import {LiveSocket} from "phoenix_live_view"
          let liveSocket = new LiveSocket("/live", Socket, {...})
      `);
    }
    this.socket = new phxSocket(url, opts);
    this.bindingPrefix = opts.bindingPrefix || BINDING_PREFIX;
    this.opts = opts;
    this.params = closure2(opts.params || {});
    this.viewLogger = opts.viewLogger;
    this.metadataCallbacks = opts.metadata || {};
    this.defaults = Object.assign(clone(DEFAULTS), opts.defaults || {});
    this.activeElement = null;
    this.prevActive = null;
    this.silenced = false;
    this.main = null;
    this.outgoingMainEl = null;
    this.clickStartedAtTarget = null;
    this.linkRef = 1;
    this.roots = {};
    this.href = window.location.href;
    this.pendingLink = null;
    this.currentLocation = clone(window.location);
    this.hooks = opts.hooks || {};
    this.uploaders = opts.uploaders || {};
    this.loaderTimeout = opts.loaderTimeout || LOADER_TIMEOUT;
    this.reloadWithJitterTimer = null;
    this.maxReloads = opts.maxReloads || MAX_RELOADS;
    this.reloadJitterMin = opts.reloadJitterMin || RELOAD_JITTER_MIN;
    this.reloadJitterMax = opts.reloadJitterMax || RELOAD_JITTER_MAX;
    this.failsafeJitter = opts.failsafeJitter || FAILSAFE_JITTER;
    this.localStorage = opts.localStorage || window.localStorage;
    this.sessionStorage = opts.sessionStorage || window.sessionStorage;
    this.boundTopLevelEvents = false;
    this.domCallbacks = Object.assign({ onNodeAdded: closure2(), onBeforeElUpdated: closure2() }, opts.dom || {});
    this.transitions = new TransitionSet();
    window.addEventListener("pagehide", (_e) => {
      this.unloaded = true;
    });
    this.socket.onOpen(() => {
      if (this.isUnloaded()) {
        window.location.reload();
      }
    });
  }
  isProfileEnabled() {
    return this.sessionStorage.getItem(PHX_LV_PROFILE) === "true";
  }
  isDebugEnabled() {
    return this.sessionStorage.getItem(PHX_LV_DEBUG) === "true";
  }
  isDebugDisabled() {
    return this.sessionStorage.getItem(PHX_LV_DEBUG) === "false";
  }
  enableDebug() {
    this.sessionStorage.setItem(PHX_LV_DEBUG, "true");
  }
  enableProfiling() {
    this.sessionStorage.setItem(PHX_LV_PROFILE, "true");
  }
  disableDebug() {
    this.sessionStorage.setItem(PHX_LV_DEBUG, "false");
  }
  disableProfiling() {
    this.sessionStorage.removeItem(PHX_LV_PROFILE);
  }
  enableLatencySim(upperBoundMs) {
    this.enableDebug();
    console.log("latency simulator enabled for the duration of this browser session. Call disableLatencySim() to disable");
    this.sessionStorage.setItem(PHX_LV_LATENCY_SIM, upperBoundMs);
  }
  disableLatencySim() {
    this.sessionStorage.removeItem(PHX_LV_LATENCY_SIM);
  }
  getLatencySim() {
    let str = this.sessionStorage.getItem(PHX_LV_LATENCY_SIM);
    return str ? parseInt(str) : null;
  }
  getSocket() {
    return this.socket;
  }
  connect() {
    if (window.location.hostname === "localhost" && !this.isDebugDisabled()) {
      this.enableDebug();
    }
    let doConnect = () => {
      if (this.joinRootViews()) {
        this.bindTopLevelEvents();
        this.socket.connect();
      } else if (this.main) {
        this.socket.connect();
      } else {
        this.bindTopLevelEvents({ dead: true });
      }
      this.joinDeadView();
    };
    if (["complete", "loaded", "interactive"].indexOf(document.readyState) >= 0) {
      doConnect();
    } else {
      document.addEventListener("DOMContentLoaded", () => doConnect());
    }
  }
  disconnect(callback) {
    clearTimeout(this.reloadWithJitterTimer);
    this.socket.disconnect(callback);
  }
  replaceTransport(transport) {
    clearTimeout(this.reloadWithJitterTimer);
    this.socket.replaceTransport(transport);
    this.connect();
  }
  execJS(el, encodedJS, eventType = null) {
    this.owner(el, (view) => js_default.exec(eventType, encodedJS, view, el));
  }
  execJSHookPush(el, phxEvent, data, callback) {
    this.withinOwners(el, (view) => {
      js_default.exec("hook", phxEvent, view, el, ["push", { data, callback }]);
    });
  }
  unload() {
    if (this.unloaded) {
      return;
    }
    if (this.main && this.isConnected()) {
      this.log(this.main, "socket", () => ["disconnect for page nav"]);
    }
    this.unloaded = true;
    this.destroyAllViews();
    this.disconnect();
  }
  triggerDOM(kind, args) {
    this.domCallbacks[kind](...args);
  }
  time(name, func) {
    if (!this.isProfileEnabled() || !console.time) {
      return func();
    }
    console.time(name);
    let result = func();
    console.timeEnd(name);
    return result;
  }
  log(view, kind, msgCallback) {
    if (this.viewLogger) {
      let [msg, obj] = msgCallback();
      this.viewLogger(view, kind, msg, obj);
    } else if (this.isDebugEnabled()) {
      let [msg, obj] = msgCallback();
      debug(view, kind, msg, obj);
    }
  }
  requestDOMUpdate(callback) {
    this.transitions.after(callback);
  }
  transition(time, onStart, onDone = function() {
  }) {
    this.transitions.addTransition(time, onStart, onDone);
  }
  onChannel(channel, event, cb) {
    channel.on(event, (data) => {
      let latency = this.getLatencySim();
      if (!latency) {
        cb(data);
      } else {
        setTimeout(() => cb(data), latency);
      }
    });
  }
  wrapPush(view, opts, push) {
    let latency = this.getLatencySim();
    let oldJoinCount = view.joinCount;
    if (!latency) {
      if (this.isConnected() && opts.timeout) {
        return push().receive("timeout", () => {
          if (view.joinCount === oldJoinCount && !view.isDestroyed()) {
            this.reloadWithJitter(view, () => {
              this.log(view, "timeout", () => ["received timeout while communicating with server. Falling back to hard refresh for recovery"]);
            });
          }
        });
      } else {
        return push();
      }
    }
    let fakePush = {
      receives: [],
      receive(kind, cb) {
        this.receives.push([kind, cb]);
      }
    };
    setTimeout(() => {
      if (view.isDestroyed()) {
        return;
      }
      fakePush.receives.reduce((acc, [kind, cb]) => acc.receive(kind, cb), push());
    }, latency);
    return fakePush;
  }
  reloadWithJitter(view, log) {
    clearTimeout(this.reloadWithJitterTimer);
    this.disconnect();
    let minMs = this.reloadJitterMin;
    let maxMs = this.reloadJitterMax;
    let afterMs = Math.floor(Math.random() * (maxMs - minMs + 1)) + minMs;
    let tries = browser_default.updateLocal(this.localStorage, window.location.pathname, CONSECUTIVE_RELOADS, 0, (count) => count + 1);
    if (tries > this.maxReloads) {
      afterMs = this.failsafeJitter;
    }
    this.reloadWithJitterTimer = setTimeout(() => {
      if (view.isDestroyed() || view.isConnected()) {
        return;
      }
      view.destroy();
      log ? log() : this.log(view, "join", () => [`encountered ${tries} consecutive reloads`]);
      if (tries > this.maxReloads) {
        this.log(view, "join", () => [`exceeded ${this.maxReloads} consecutive reloads. Entering failsafe mode`]);
      }
      if (this.hasPendingLink()) {
        window.location = this.pendingLink;
      } else {
        window.location.reload();
      }
    }, afterMs);
  }
  getHookCallbacks(name) {
    return name && name.startsWith("Phoenix.") ? hooks_default[name.split(".")[1]] : this.hooks[name];
  }
  isUnloaded() {
    return this.unloaded;
  }
  isConnected() {
    return this.socket.isConnected();
  }
  getBindingPrefix() {
    return this.bindingPrefix;
  }
  binding(kind) {
    return `${this.getBindingPrefix()}${kind}`;
  }
  channel(topic, params) {
    return this.socket.channel(topic, params);
  }
  joinDeadView() {
    let body = document.body;
    if (body && !this.isPhxView(body) && !this.isPhxView(document.firstElementChild)) {
      let view = this.newRootView(body);
      view.setHref(this.getHref());
      view.joinDead();
      if (!this.main) {
        this.main = view;
      }
      window.requestAnimationFrame(() => view.execNewMounted());
    }
  }
  joinRootViews() {
    let rootsFound = false;
    dom_default.all(document, `${PHX_VIEW_SELECTOR}:not([${PHX_PARENT_ID}])`, (rootEl) => {
      if (!this.getRootById(rootEl.id)) {
        let view = this.newRootView(rootEl);
        view.setHref(this.getHref());
        view.join();
        if (rootEl.hasAttribute(PHX_MAIN)) {
          this.main = view;
        }
      }
      rootsFound = true;
    });
    return rootsFound;
  }
  redirect(to, flash) {
    this.unload();
    browser_default.redirect(to, flash);
  }
  replaceMain(href, flash, callback = null, linkRef = this.setPendingLink(href)) {
    let liveReferer = this.currentLocation.href;
    this.outgoingMainEl = this.outgoingMainEl || this.main.el;
    let newMainEl = dom_default.cloneNode(this.outgoingMainEl, "");
    this.main.showLoader(this.loaderTimeout);
    this.main.destroy();
    this.main = this.newRootView(newMainEl, flash, liveReferer);
    this.main.setRedirect(href);
    this.transitionRemoves();
    this.main.join((joinCount, onDone) => {
      if (joinCount === 1 && this.commitPendingLink(linkRef)) {
        this.requestDOMUpdate(() => {
          dom_default.findPhxSticky(document).forEach((el) => newMainEl.appendChild(el));
          this.outgoingMainEl.replaceWith(newMainEl);
          this.outgoingMainEl = null;
          callback && requestAnimationFrame(() => callback(linkRef));
          onDone();
        });
      }
    });
  }
  transitionRemoves(elements) {
    let removeAttr = this.binding("remove");
    elements = elements || dom_default.all(document, `[${removeAttr}]`);
    elements.forEach((el) => {
      this.execJS(el, el.getAttribute(removeAttr), "remove");
    });
  }
  isPhxView(el) {
    return el.getAttribute && el.getAttribute(PHX_SESSION) !== null;
  }
  newRootView(el, flash, liveReferer) {
    let view = new View(el, this, null, flash, liveReferer);
    this.roots[view.id] = view;
    return view;
  }
  owner(childEl, callback) {
    let view = maybe(childEl.closest(PHX_VIEW_SELECTOR), (el) => this.getViewByEl(el)) || this.main;
    if (view) {
      callback(view);
    }
  }
  withinOwners(childEl, callback) {
    this.owner(childEl, (view) => callback(view, childEl));
  }
  getViewByEl(el) {
    let rootId = el.getAttribute(PHX_ROOT_ID);
    return maybe(this.getRootById(rootId), (root) => root.getDescendentByEl(el));
  }
  getRootById(id) {
    return this.roots[id];
  }
  destroyAllViews() {
    for (let id in this.roots) {
      this.roots[id].destroy();
      delete this.roots[id];
    }
    this.main = null;
  }
  destroyViewByEl(el) {
    let root = this.getRootById(el.getAttribute(PHX_ROOT_ID));
    if (root && root.id === el.id) {
      root.destroy();
      delete this.roots[root.id];
    } else if (root) {
      root.destroyDescendent(el.id);
    }
  }
  setActiveElement(target) {
    if (this.activeElement === target) {
      return;
    }
    this.activeElement = target;
    let cancel = () => {
      if (target === this.activeElement) {
        this.activeElement = null;
      }
      target.removeEventListener("mouseup", this);
      target.removeEventListener("touchend", this);
    };
    target.addEventListener("mouseup", cancel);
    target.addEventListener("touchend", cancel);
  }
  getActiveElement() {
    if (document.activeElement === document.body) {
      return this.activeElement || document.activeElement;
    } else {
      return document.activeElement || document.body;
    }
  }
  dropActiveElement(view) {
    if (this.prevActive && view.ownsElement(this.prevActive)) {
      this.prevActive = null;
    }
  }
  restorePreviouslyActiveFocus() {
    if (this.prevActive && this.prevActive !== document.body) {
      this.prevActive.focus();
    }
  }
  blurActiveElement() {
    this.prevActive = this.getActiveElement();
    if (this.prevActive !== document.body) {
      this.prevActive.blur();
    }
  }
  bindTopLevelEvents({ dead } = {}) {
    if (this.boundTopLevelEvents) {
      return;
    }
    this.boundTopLevelEvents = true;
    this.socket.onClose((event) => {
      if (event && event.code === 1e3 && this.main) {
        return this.reloadWithJitter(this.main);
      }
    });
    document.body.addEventListener("click", function() {
    });
    window.addEventListener("pageshow", (e) => {
      if (e.persisted) {
        this.getSocket().disconnect();
        this.withPageLoading({ to: window.location.href, kind: "redirect" });
        window.location.reload();
      }
    }, true);
    if (!dead) {
      this.bindNav();
    }
    this.bindClicks();
    if (!dead) {
      this.bindForms();
    }
    this.bind({ keyup: "keyup", keydown: "keydown" }, (e, type, view, targetEl, phxEvent, eventTarget) => {
      let matchKey = targetEl.getAttribute(this.binding(PHX_KEY));
      let pressedKey = e.key && e.key.toLowerCase();
      if (matchKey && matchKey.toLowerCase() !== pressedKey) {
        return;
      }
      let data = __spreadValues({ key: e.key }, this.eventMeta(type, e, targetEl));
      js_default.exec(type, phxEvent, view, targetEl, ["push", { data }]);
    });
    this.bind({ blur: "focusout", focus: "focusin" }, (e, type, view, targetEl, phxEvent, eventTarget) => {
      if (!eventTarget) {
        let data = __spreadValues({ key: e.key }, this.eventMeta(type, e, targetEl));
        js_default.exec(type, phxEvent, view, targetEl, ["push", { data }]);
      }
    });
    this.bind({ blur: "blur", focus: "focus" }, (e, type, view, targetEl, targetCtx, phxEvent, phxTarget) => {
      if (phxTarget === "window") {
        let data = this.eventMeta(type, e, targetEl);
        js_default.exec(type, phxEvent, view, targetEl, ["push", { data }]);
      }
    });
    window.addEventListener("dragover", (e) => e.preventDefault());
    window.addEventListener("drop", (e) => {
      e.preventDefault();
      let dropTargetId = maybe(closestPhxBinding(e.target, this.binding(PHX_DROP_TARGET)), (trueTarget) => {
        return trueTarget.getAttribute(this.binding(PHX_DROP_TARGET));
      });
      let dropTarget = dropTargetId && document.getElementById(dropTargetId);
      let files = Array.from(e.dataTransfer.files || []);
      if (!dropTarget || dropTarget.disabled || files.length === 0 || !(dropTarget.files instanceof FileList)) {
        return;
      }
      LiveUploader.trackFiles(dropTarget, files, e.dataTransfer);
      dropTarget.dispatchEvent(new Event("input", { bubbles: true }));
    });
    this.on(PHX_TRACK_UPLOADS, (e) => {
      let uploadTarget = e.target;
      if (!dom_default.isUploadInput(uploadTarget)) {
        return;
      }
      let files = Array.from(e.detail.files || []).filter((f) => f instanceof File || f instanceof Blob);
      LiveUploader.trackFiles(uploadTarget, files);
      uploadTarget.dispatchEvent(new Event("input", { bubbles: true }));
    });
  }
  eventMeta(eventName, e, targetEl) {
    let callback = this.metadataCallbacks[eventName];
    return callback ? callback(e, targetEl) : {};
  }
  setPendingLink(href) {
    this.linkRef++;
    this.pendingLink = href;
    return this.linkRef;
  }
  commitPendingLink(linkRef) {
    if (this.linkRef !== linkRef) {
      return false;
    } else {
      this.href = this.pendingLink;
      this.pendingLink = null;
      return true;
    }
  }
  getHref() {
    return this.href;
  }
  hasPendingLink() {
    return !!this.pendingLink;
  }
  bind(events, callback) {
    for (let event in events) {
      let browserEventName = events[event];
      this.on(browserEventName, (e) => {
        let binding = this.binding(event);
        let windowBinding = this.binding(`window-${event}`);
        let targetPhxEvent = e.target.getAttribute && e.target.getAttribute(binding);
        if (targetPhxEvent) {
          this.debounce(e.target, e, browserEventName, () => {
            this.withinOwners(e.target, (view) => {
              callback(e, event, view, e.target, targetPhxEvent, null);
            });
          });
        } else {
          dom_default.all(document, `[${windowBinding}]`, (el) => {
            let phxEvent = el.getAttribute(windowBinding);
            this.debounce(el, e, browserEventName, () => {
              this.withinOwners(el, (view) => {
                callback(e, event, view, el, phxEvent, "window");
              });
            });
          });
        }
      });
    }
  }
  bindClicks() {
    window.addEventListener("click", (e) => this.clickStartedAtTarget = e.target);
    this.bindClick("click", "click", false);
    this.bindClick("mousedown", "capture-click", true);
  }
  bindClick(eventName, bindingName, capture) {
    let click = this.binding(bindingName);
    window.addEventListener(eventName, (e) => {
      let target = null;
      if (capture) {
        target = e.target.matches(`[${click}]`) ? e.target : e.target.querySelector(`[${click}]`);
      } else {
        let clickStartedAtTarget = this.clickStartedAtTarget || e.target;
        target = closestPhxBinding(clickStartedAtTarget, click);
        this.dispatchClickAway(e, clickStartedAtTarget);
        this.clickStartedAtTarget = null;
      }
      let phxEvent = target && target.getAttribute(click);
      if (!phxEvent) {
        if (!capture && dom_default.isNewPageClick(e, window.location)) {
          this.unload();
        }
        return;
      }
      if (target.getAttribute("href") === "#") {
        e.preventDefault();
      }
      if (target.hasAttribute(PHX_REF)) {
        return;
      }
      this.debounce(target, e, "click", () => {
        this.withinOwners(target, (view) => {
          js_default.exec("click", phxEvent, view, target, ["push", { data: this.eventMeta("click", e, target) }]);
        });
      });
    }, capture);
  }
  dispatchClickAway(e, clickStartedAt) {
    let phxClickAway = this.binding("click-away");
    dom_default.all(document, `[${phxClickAway}]`, (el) => {
      if (!(el.isSameNode(clickStartedAt) || el.contains(clickStartedAt))) {
        this.withinOwners(e.target, (view) => {
          let phxEvent = el.getAttribute(phxClickAway);
          if (js_default.isVisible(el)) {
            js_default.exec("click", phxEvent, view, el, ["push", { data: this.eventMeta("click", e, e.target) }]);
          }
        });
      }
    });
  }
  bindNav() {
    if (!browser_default.canPushState()) {
      return;
    }
    if (history.scrollRestoration) {
      history.scrollRestoration = "manual";
    }
    let scrollTimer = null;
    window.addEventListener("scroll", (_e) => {
      clearTimeout(scrollTimer);
      scrollTimer = setTimeout(() => {
        browser_default.updateCurrentState((state) => Object.assign(state, { scroll: window.scrollY }));
      }, 100);
    });
    window.addEventListener("popstate", (event) => {
      if (!this.registerNewLocation(window.location)) {
        return;
      }
      let { type, id, root, scroll } = event.state || {};
      let href = window.location.href;
      dom_default.dispatchEvent(window, "phx:navigate", { detail: { href, patch: type === "patch", pop: true } });
      this.requestDOMUpdate(() => {
        if (this.main.isConnected() && (type === "patch" && id === this.main.id)) {
          this.main.pushLinkPatch(href, null, () => {
            this.maybeScroll(scroll);
          });
        } else {
          this.replaceMain(href, null, () => {
            if (root) {
              this.replaceRootHistory();
            }
            this.maybeScroll(scroll);
          });
        }
      });
    }, false);
    window.addEventListener("click", (e) => {
      let target = closestPhxBinding(e.target, PHX_LIVE_LINK);
      let type = target && target.getAttribute(PHX_LIVE_LINK);
      if (!type || !this.isConnected() || !this.main || dom_default.wantsNewTab(e)) {
        return;
      }
      let href = target.href;
      let linkState = target.getAttribute(PHX_LINK_STATE);
      e.preventDefault();
      e.stopImmediatePropagation();
      if (this.pendingLink === href) {
        return;
      }
      this.requestDOMUpdate(() => {
        if (type === "patch") {
          this.pushHistoryPatch(href, linkState, target);
        } else if (type === "redirect") {
          this.historyRedirect(href, linkState);
        } else {
          throw new Error(`expected ${PHX_LIVE_LINK} to be "patch" or "redirect", got: ${type}`);
        }
        let phxClick = target.getAttribute(this.binding("click"));
        if (phxClick) {
          this.requestDOMUpdate(() => this.execJS(target, phxClick, "click"));
        }
      });
    }, false);
  }
  maybeScroll(scroll) {
    if (typeof scroll === "number") {
      requestAnimationFrame(() => {
        window.scrollTo(0, scroll);
      });
    }
  }
  dispatchEvent(event, payload = {}) {
    dom_default.dispatchEvent(window, `phx:${event}`, { detail: payload });
  }
  dispatchEvents(events) {
    events.forEach(([event, payload]) => this.dispatchEvent(event, payload));
  }
  withPageLoading(info, callback) {
    dom_default.dispatchEvent(window, "phx:page-loading-start", { detail: info });
    let done = () => dom_default.dispatchEvent(window, "phx:page-loading-stop", { detail: info });
    return callback ? callback(done) : done;
  }
  pushHistoryPatch(href, linkState, targetEl) {
    if (!this.isConnected()) {
      return browser_default.redirect(href);
    }
    this.withPageLoading({ to: href, kind: "patch" }, (done) => {
      this.main.pushLinkPatch(href, targetEl, (linkRef) => {
        this.historyPatch(href, linkState, linkRef);
        done();
      });
    });
  }
  historyPatch(href, linkState, linkRef = this.setPendingLink(href)) {
    if (!this.commitPendingLink(linkRef)) {
      return;
    }
    browser_default.pushState(linkState, { type: "patch", id: this.main.id }, href);
    dom_default.dispatchEvent(window, "phx:navigate", { detail: { patch: true, href, pop: false } });
    this.registerNewLocation(window.location);
  }
  historyRedirect(href, linkState, flash) {
    if (!this.isConnected()) {
      return browser_default.redirect(href, flash);
    }
    if (/^\/$|^\/[^\/]+.*$/.test(href)) {
      let { protocol, host } = window.location;
      href = `${protocol}//${host}${href}`;
    }
    let scroll = window.scrollY;
    this.withPageLoading({ to: href, kind: "redirect" }, (done) => {
      this.replaceMain(href, flash, (linkRef) => {
        if (linkRef === this.linkRef) {
          browser_default.pushState(linkState, { type: "redirect", id: this.main.id, scroll }, href);
          dom_default.dispatchEvent(window, "phx:navigate", { detail: { href, patch: false, pop: false } });
          this.registerNewLocation(window.location);
        }
        done();
      });
    });
  }
  replaceRootHistory() {
    browser_default.pushState("replace", { root: true, type: "patch", id: this.main.id });
  }
  registerNewLocation(newLocation) {
    let { pathname, search } = this.currentLocation;
    if (pathname + search === newLocation.pathname + newLocation.search) {
      return false;
    } else {
      this.currentLocation = clone(newLocation);
      return true;
    }
  }
  bindForms() {
    let iterations = 0;
    let externalFormSubmitted = false;
    this.on("submit", (e) => {
      let phxSubmit = e.target.getAttribute(this.binding("submit"));
      let phxChange = e.target.getAttribute(this.binding("change"));
      if (!externalFormSubmitted && phxChange && !phxSubmit) {
        externalFormSubmitted = true;
        e.preventDefault();
        this.withinOwners(e.target, (view) => {
          view.disableForm(e.target);
          window.requestAnimationFrame(() => {
            if (dom_default.isUnloadableFormSubmit(e)) {
              this.unload();
            }
            e.target.submit();
          });
        });
      }
    }, true);
    this.on("submit", (e) => {
      let phxEvent = e.target.getAttribute(this.binding("submit"));
      if (!phxEvent) {
        if (dom_default.isUnloadableFormSubmit(e)) {
          this.unload();
        }
        return;
      }
      e.preventDefault();
      e.target.disabled = true;
      this.withinOwners(e.target, (view) => {
        js_default.exec("submit", phxEvent, view, e.target, ["push", { submitter: e.submitter }]);
      });
    }, false);
    for (let type of ["change", "input"]) {
      this.on(type, (e) => {
        let phxChange = this.binding("change");
        let input = e.target;
        let inputEvent = input.getAttribute(phxChange);
        let formEvent = input.form && input.form.getAttribute(phxChange);
        let phxEvent = inputEvent || formEvent;
        if (!phxEvent) {
          return;
        }
        if (input.type === "number" && input.validity && input.validity.badInput) {
          return;
        }
        let dispatcher = inputEvent ? input : input.form;
        let currentIterations = iterations;
        iterations++;
        let { at, type: lastType } = dom_default.private(input, "prev-iteration") || {};
        if (at === currentIterations - 1 && type === "change" && lastType === "input") {
          return;
        }
        dom_default.putPrivate(input, "prev-iteration", { at: currentIterations, type });
        this.debounce(input, e, type, () => {
          this.withinOwners(dispatcher, (view) => {
            dom_default.putPrivate(input, PHX_HAS_FOCUSED, true);
            if (!dom_default.isTextualInput(input)) {
              this.setActiveElement(input);
            }
            js_default.exec("change", phxEvent, view, input, ["push", { _target: e.target.name, dispatcher }]);
          });
        });
      }, false);
    }
    this.on("reset", (e) => {
      let form = e.target;
      dom_default.resetForm(form, this.binding(PHX_FEEDBACK_FOR));
      let input = Array.from(form.elements).find((el) => el.type === "reset");
      window.requestAnimationFrame(() => {
        input.dispatchEvent(new Event("input", { bubbles: true, cancelable: false }));
      });
    });
  }
  debounce(el, event, eventType, callback) {
    if (eventType === "blur" || eventType === "focusout") {
      return callback();
    }
    let phxDebounce = this.binding(PHX_DEBOUNCE);
    let phxThrottle = this.binding(PHX_THROTTLE);
    let defaultDebounce = this.defaults.debounce.toString();
    let defaultThrottle = this.defaults.throttle.toString();
    this.withinOwners(el, (view) => {
      let asyncFilter = () => !view.isDestroyed() && document.body.contains(el);
      dom_default.debounce(el, event, phxDebounce, defaultDebounce, phxThrottle, defaultThrottle, asyncFilter, () => {
        callback();
      });
    });
  }
  silenceEvents(callback) {
    this.silenced = true;
    callback();
    this.silenced = false;
  }
  on(event, callback) {
    window.addEventListener(event, (e) => {
      if (!this.silenced) {
        callback(e);
      }
    });
  }
};
var TransitionSet = class {
  constructor() {
    this.transitions = /* @__PURE__ */ new Set();
    this.pendingOps = [];
  }
  reset() {
    this.transitions.forEach((timer) => {
      clearTimeout(timer);
      this.transitions.delete(timer);
    });
    this.flushPendingOps();
  }
  after(callback) {
    if (this.size() === 0) {
      callback();
    } else {
      this.pushPendingOp(callback);
    }
  }
  addTransition(time, onStart, onDone) {
    onStart();
    let timer = setTimeout(() => {
      this.transitions.delete(timer);
      onDone();
      this.flushPendingOps();
    }, time);
    this.transitions.add(timer);
  }
  pushPendingOp(op) {
    this.pendingOps.push(op);
  }
  size() {
    return this.transitions.size;
  }
  flushPendingOps() {
    if (this.size() > 0) {
      return;
    }
    let op = this.pendingOps.shift();
    if (op) {
      op();
      this.flushPendingOps();
    }
  }
};

// js/app.js
var import_topbar = __toESM(require_topbar_min());
var cpf = document.querySelector("#user_cpf");
if (cpf)
  (0, import_inputmask.default)({ mask: "999.999.999-99" }).mask(cpf);
var csrfToken = document.querySelector("meta[name='csrf-token']").getAttribute("content");
var liveSocket = new LiveSocket("/live", Socket, {
  params: { _csrf_token: csrfToken },
  hooks: Hooks
});
liveSocket.connect();
window.liveSocket = liveSocket;
import_topbar.default.config({ barColors: { 0: "#29d" }, shadowColor: "rgba(0, 0, 0, .3)" });
window.addEventListener("phx:page-loading-start", (info) => import_topbar.default.show());
window.addEventListener("phx:page-loading-stop", (info) => import_topbar.default.hide());
/*! Bundled license information:

inputmask/dist/inputmask.js:
  (*!
   * dist/inputmask
   * https://github.com/RobinHerbots/Inputmask
   * Copyright (c) 2010 - 2023 Robin Herbots
   * Licensed under the MIT license
   * Version: 5.0.8
   *)

topbar/topbar.min.js:
  (**
   * @license MIT
   * topbar 1.0.0, 2021-01-06
   * http://buunguyen.github.io/topbar
   * Copyright (c) 2021 Buu Nguyen
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9pbnB1dG1hc2svZGlzdC9pbnB1dG1hc2suanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy90b3BiYXIvdG9wYmFyLm1pbi5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXhfaHRtbC9wcml2L3N0YXRpYy9waG9lbml4X2h0bWwuanMiLCAiLi4vLi4vLi4vYXNzZXRzL2pzL2FwcC5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvdXRpbHMuanMiLCAiLi4vLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2NvbnN0YW50cy5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvcHVzaC5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvdGltZXIuanMiLCAiLi4vLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2NoYW5uZWwuanMiLCAiLi4vLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2FqYXguanMiLCAiLi4vLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2xvbmdwb2xsLmpzIiwgIi4uLy4uLy4uL2RlcHMvcGhvZW5peC9hc3NldHMvanMvcGhvZW5peC9wcmVzZW5jZS5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvc2VyaWFsaXplci5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvc29ja2V0LmpzIiwgIi4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2NvbnN0YW50cy5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9lbnRyeV91cGxvYWRlci5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy91dGlscy5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9icm93c2VyLmpzIiwgIi4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2RvbS5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy91cGxvYWRfZW50cnkuanMiLCAiLi4vLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvbGl2ZV91cGxvYWRlci5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9hcmlhLmpzIiwgIi4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2hvb2tzLmpzIiwgIi4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2RvbV9wb3N0X21vcnBoX3Jlc3RvcmVyLmpzIiwgIi4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL25vZGVfbW9kdWxlcy9tb3JwaGRvbS9kaXN0L21vcnBoZG9tLWVzbS5qcyIsICIuLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9kb21fcGF0Y2guanMiLCAiLi4vLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvcmVuZGVyZWQuanMiLCAiLi4vLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvdmlld19ob29rLmpzIiwgIi4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2pzLmpzIiwgIi4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L3ZpZXcuanMiLCAiLi4vLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvbGl2ZV9zb2NrZXQuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qIVxuICogZGlzdC9pbnB1dG1hc2tcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Sb2JpbkhlcmJvdHMvSW5wdXRtYXNrXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAgLSAyMDIzIFJvYmluIEhlcmJvdHNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogVmVyc2lvbjogNS4wLjhcbiAqL1xuIWZ1bmN0aW9uKGUsIHQpIHtcbiAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgZXhwb3J0cyAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBtb2R1bGUpIG1vZHVsZS5leHBvcnRzID0gdCgpOyBlbHNlIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kKSBkZWZpbmUoW10sIHQpOyBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSB0KCk7XG4gICAgICAgIGZvciAodmFyIG4gaW4gaSkgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGV4cG9ydHMgPyBleHBvcnRzIDogZSlbbl0gPSBpW25dO1xuICAgIH1cbn0oXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiB0aGlzLCAoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgdmFyIGUgPSB7XG4gICAgICAgICAgICA4NzQxOiBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAhMFxuICAgICAgICAgICAgICAgIH0pLCB0LmRlZmF1bHQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAhKFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIHdpbmRvdyB8fCAhd2luZG93LmRvY3VtZW50IHx8ICF3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdC5kZWZhdWx0ID0gaTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAzOTc2OiBmdW5jdGlvbihlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAhMFxuICAgICAgICAgICAgICAgIH0pLCB0LmRlZmF1bHQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdmFyIG4gPSBpKDI4MzkpLCBhID0ge1xuICAgICAgICAgICAgICAgICAgICBfbWF4VGVzdFBvczogNTAwLFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJfXCIsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsbWFya2VyOiBbIFwiW1wiLCBcIl1cIiBdLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGlmaWVybWFya2VyOiBbIFwie1wiLCBcIn1cIiBdLFxuICAgICAgICAgICAgICAgICAgICBncm91cG1hcmtlcjogWyBcIihcIiwgXCIpXCIgXSxcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRvcm1hcmtlcjogXCJ8XCIsXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZUNoYXI6IFwiXFxcXFwiLFxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICByZWdleDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgb25jb21wbGV0ZTogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgICAgICAgICAgICAgb25pbmNvbXBsZXRlOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgICAgICAgICAgICBvbmNsZWFyZWQ6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdDogMCxcbiAgICAgICAgICAgICAgICAgICAgZ3JlZWR5OiAhMSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b1VubWFzazogITEsXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU1hc2tPblN1Ym1pdDogITEsXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyTWFza09uTG9zdEZvY3VzOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0TW9kZTogITAsXG4gICAgICAgICAgICAgICAgICAgIGluc2VydE1vZGVWaXN1YWw6ICEwLFxuICAgICAgICAgICAgICAgICAgICBjbGVhckluY29tcGxldGU6ICExLFxuICAgICAgICAgICAgICAgICAgICBhbGlhczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgICAgICAgICAgICBvbkJlZm9yZU1hc2s6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlUGFzdGU6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQub25CZWZvcmVNYXNrID8gdC5vbkJlZm9yZU1hc2suY2FsbCh0aGlzLCBlLCB0KSA6IGU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlV3JpdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG9uVW5NYXNrOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzaG93TWFza09uRm9jdXM6ICEwLFxuICAgICAgICAgICAgICAgICAgICBzaG93TWFza09uSG92ZXI6ICEwLFxuICAgICAgICAgICAgICAgICAgICBvbktleVZhbGlkYXRpb246IGZ1bmN0aW9uKCkge30sXG4gICAgICAgICAgICAgICAgICAgIHNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI6IFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICBudW1lcmljSW5wdXQ6ICExLFxuICAgICAgICAgICAgICAgICAgICByaWdodEFsaWduOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgdW5kb09uRXNjYXBlOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXhQb2ludDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgX3JhZGl4RGFuY2U6ICExLFxuICAgICAgICAgICAgICAgICAgICBncm91cFNlcGFyYXRvcjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAga2VlcFN0YXRpYzogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25DYXJldE9uVGFiOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgdGFiVGhyb3VnaDogITEsXG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzSW5wdXRUeXBlOiBbIFwidGV4dFwiLCBcInRlbFwiLCBcInVybFwiLCBcInBhc3N3b3JkXCIsIFwic2VhcmNoXCIgXSxcbiAgICAgICAgICAgICAgICAgICAgaWdub3JhYmxlczogWyBuLmtleXMuQmFja3NwYWNlLCBuLmtleXMuVGFiLCBuLmtleXMuUGF1c2UsIG4ua2V5cy5Fc2NhcGUsIG4ua2V5cy5QYWdlVXAsIG4ua2V5cy5QYWdlRG93biwgbi5rZXlzLkVuZCwgbi5rZXlzLkhvbWUsIG4ua2V5cy5BcnJvd0xlZnQsIG4ua2V5cy5BcnJvd1VwLCBuLmtleXMuQXJyb3dSaWdodCwgbi5rZXlzLkFycm93RG93biwgbi5rZXlzLkluc2VydCwgbi5rZXlzLkRlbGV0ZSwgbi5rZXlzLkNvbnRleHRNZW51LCBuLmtleXMuRjEsIG4ua2V5cy5GMiwgbi5rZXlzLkYzLCBuLmtleXMuRjQsIG4ua2V5cy5GNSwgbi5rZXlzLkY2LCBuLmtleXMuRjcsIG4ua2V5cy5GOCwgbi5rZXlzLkY5LCBuLmtleXMuRjEwLCBuLmtleXMuRjExLCBuLmtleXMuRjEyLCBuLmtleXMuUHJvY2Vzcywgbi5rZXlzLlVuaWRlbnRpZmllZCwgbi5rZXlzLlNoaWZ0LCBuLmtleXMuQ29udHJvbCwgbi5rZXlzLkFsdCwgbi5rZXlzLlRhYiwgbi5rZXlzLkFsdEdyYXBoLCBuLmtleXMuQ2Fwc0xvY2sgXSxcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcHJlVmFsaWRhdGlvbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcG9zdFZhbGlkYXRpb246IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0RlZmluaXRpb25TeW1ib2w6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICAgICAgaml0TWFza2luZzogITEsXG4gICAgICAgICAgICAgICAgICAgIG51bGxhYmxlOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFdmVudE9ubHk6ICExLFxuICAgICAgICAgICAgICAgICAgICBub1ZhbHVlUGF0Y2hpbmc6ICExLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkNhcmV0T25DbGljazogXCJsdnBcIixcbiAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dG1vZGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnREYXRhQXR0cmlidXRlczogITAsXG4gICAgICAgICAgICAgICAgICAgIHNoaWZ0UG9zaXRpb25zOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgdXNlUHJvdG90eXBlRGVmaW5pdGlvbnM6ICEwLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRXZlbnRUaW1lT3V0OiAzZTMsXG4gICAgICAgICAgICAgICAgICAgIHN1YnN0aXR1dGVzOiB7fVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdC5kZWZhdWx0ID0gYTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA3MzkyOiBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAhMFxuICAgICAgICAgICAgICAgIH0pLCB0LmRlZmF1bHQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdC5kZWZhdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICA5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtOVxcdWZmMTAtXFx1ZmYxOV1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb25TeW1ib2w6IFwiKlwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbQS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvblN5bWJvbDogXCIqXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIqXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC05XFx1ZmYxMC1cXHVmZjE5QS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDI1MzogZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgICAgICAgICB9KSwgdC5kZWZhdWx0ID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBpKSByZXR1cm4gZS5fX2RhdGEgPyBlLl9fZGF0YVt0XSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGUuX19kYXRhID0gZS5fX2RhdGEgfHwge30sIGUuX19kYXRhW3RdID0gaTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDM3NzY6IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICEwXG4gICAgICAgICAgICAgICAgfSksIHQuRXZlbnQgPSB2b2lkIDAsIHQub2ZmID0gZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSwgbjtcbiAgICAgICAgICAgICAgICAgICAgZih0aGlzWzBdKSAmJiBlICYmIChpID0gdGhpc1swXS5ldmVudFJlZ2lzdHJ5LCBuID0gdGhpc1swXSwgZS5zcGxpdChcIiBcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBsKGUuc3BsaXQoXCIuXCIpLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbihlLCBuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEsIHIsIG8gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5sZW5ndGggPiAwKSBpZiAodm9pZCAwID09PSB0KSBmb3IgKGEgPSAwLCByID0gaVtlXVtuXS5sZW5ndGg7IGEgPCByOyBhKyspIG8ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2OiBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IG4gJiYgbi5sZW5ndGggPiAwID8gbiA6IFwiZ2xvYmFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGlbZV1bbl1bYV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgZWxzZSBvLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldjogZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBuICYmIG4ubGVuZ3RoID4gMCA/IG4gOiBcImdsb2JhbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiB0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IGVsc2UgaWYgKG4ubGVuZ3RoID4gMCkgZm9yICh2YXIgcyBpbiBpKSBmb3IgKHZhciBsIGluIGlbc10pIGlmIChsID09PSBuKSBpZiAodm9pZCAwID09PSB0KSBmb3IgKGEgPSAwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByID0gaVtzXVtsXS5sZW5ndGg7IGEgPCByOyBhKyspIG8ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2OiBzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGlbc11bbF1bYV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgZWxzZSBvLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldjogcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiB0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgICAgICAgICAgICAgICAgICB9KShhWzBdLCBhWzFdKS5mb3JFYWNoKChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBlLmV2LCBhID0gZS5oYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFmdW5jdGlvbihlLCB0LCBhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlIGluIGkgPT0gMSkgaWYgKG4ucmVtb3ZlRXZlbnRMaXN0ZW5lciA/IG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBhLCAhMSkgOiBuLmRldGFjaEV2ZW50ICYmIG4uZGV0YWNoRXZlbnQoXCJvblwiLmNvbmNhdChlKSwgYSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImdsb2JhbFwiID09PSB0KSBmb3IgKHZhciByIGluIGlbZV0pIGlbZV1bcl0uc3BsaWNlKGlbZV1bcl0uaW5kZXhPZihhKSwgMSk7IGVsc2UgaVtlXVt0XS5zcGxpY2UoaVtlXVt0XS5pbmRleE9mKGEpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KHQsIGUubmFtZXNwYWNlLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSwgdC5vbiA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGYodGhpc1swXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gdGhpc1swXS5ldmVudFJlZ2lzdHJ5LCBuID0gdGhpc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3BsaXQoXCIgXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGwoZS5zcGxpdChcIi5cIiksIDIpLCByID0gYVswXSwgbyA9IGFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWZ1bmN0aW9uKGUsIGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5hZGRFdmVudExpc3RlbmVyID8gbi5hZGRFdmVudExpc3RlbmVyKGUsIHQsICExKSA6IG4uYXR0YWNoRXZlbnQgJiYgbi5hdHRhY2hFdmVudChcIm9uXCIuY29uY2F0KGUpLCB0KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlbZV0gPSBpW2VdIHx8IHt9LCBpW2VdW2FdID0gaVtlXVthXSB8fCBbXSwgaVtlXVthXS5wdXNoKHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0ociwgdm9pZCAwID09PSBvID8gXCJnbG9iYWxcIiA6IG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sIHQudHJpZ2dlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmKHRoaXNbMF0pKSBmb3IgKHZhciBpID0gdGhpc1swXS5ldmVudFJlZ2lzdHJ5LCBuID0gdGhpc1swXSwgciA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgPyBlLnNwbGl0KFwiIFwiKSA6IFsgZS50eXBlIF0sIHMgPSAwOyBzIDwgci5sZW5ndGg7IHMrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGwgPSByW3NdLnNwbGl0KFwiLlwiKSwgYyA9IGxbMF0sIHUgPSBsWzFdIHx8IFwiZ2xvYmFsXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBkb2N1bWVudCAmJiBcImdsb2JhbFwiID09PSB1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQsIHAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9zZWQ6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGFyZ3VtZW50c1sxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJpbnB1dFwiID09PSBjKSBwLmlucHV0VHlwZSA9IFwiaW5zZXJ0VGV4dFwiLCBkID0gbmV3IElucHV0RXZlbnQoYywgcCk7IGVsc2UgZCA9IG5ldyBDdXN0b21FdmVudChjLCBwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpKS5pbml0Q3VzdG9tRXZlbnQoYywgcC5idWJibGVzLCBwLmNhbmNlbGFibGUsIHAuZGV0YWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnR5cGUgJiYgKDAsIGEuZGVmYXVsdCkoZCwgZSksIG4uZGlzcGF0Y2hFdmVudChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgKGQgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpKS5ldmVudFR5cGUgPSBjLCBkLmRldGFpbCA9IGFyZ3VtZW50c1sxXSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50eXBlICYmICgwLCBhLmRlZmF1bHQpKGQsIGUpLCBuLmZpcmVFdmVudChcIm9uXCIgKyBkLmV2ZW50VHlwZSwgZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZvaWQgMCAhPT0gaVtjXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXSA9IGFyZ3VtZW50c1swXS50eXBlID8gYXJndW1lbnRzWzBdIDogby5kZWZhdWx0LkV2ZW50KGFyZ3VtZW50c1swXSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXS5kZXRhaWwgPSBhcmd1bWVudHMuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGggPSBpW2NdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcImdsb2JhbFwiID09PSB1ID8gT2JqZWN0LnZhbHVlcyhoKS5mbGF0KCkgOiBoW3VdKS5mb3JFYWNoKChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmFwcGx5KG4sIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBuLCBhID0gdShpKDYwMCkpLCByID0gdShpKDkzODApKSwgbyA9IHUoaSg0OTYzKSksIHMgPSB1KGkoODc0MSkpO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGwoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHJldHVybiBlO1xuICAgICAgICAgICAgICAgICAgICB9KGUpIHx8IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gbnVsbCA9PSBlID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBlW1N5bWJvbC5pdGVyYXRvcl0gfHwgZVtcIkBAaXRlcmF0b3JcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4sIGEsIHIsIG8sIHMgPSBbXSwgbCA9ICEwLCBjID0gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgPSAoaSA9IGkuY2FsbChlKSkubmV4dCwgMCA9PT0gdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdChpKSAhPT0gaSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9ICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgZm9yICg7IShsID0gKG4gPSByLmNhbGwoaSkpLmRvbmUpICYmIChzLnB1c2gobi52YWx1ZSksIHMubGVuZ3RoICE9PSB0KTsgbCA9ICEwKSA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gITAsIGEgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWwgJiYgbnVsbCAhPSBpLnJldHVybiAmJiAobyA9IGkucmV0dXJuKCksIE9iamVjdChvKSAhPT0gbykpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjKSB0aHJvdyBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KGUsIHQpIHx8IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHJldHVybiBjKGUsIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwgLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJPYmplY3RcIiA9PT0gaSAmJiBlLmNvbnN0cnVjdG9yICYmIChpID0gZS5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIk1hcFwiID09PSBpIHx8IFwiU2V0XCIgPT09IGkpIHJldHVybiBBcnJheS5mcm9tKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiQXJndW1lbnRzXCIgPT09IGkgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QoaSkpIHJldHVybiBjKGUsIHQpO1xuICAgICAgICAgICAgICAgICAgICB9KGUsIHQpIHx8IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gdCB8fCB0ID4gZS5sZW5ndGgpICYmICh0ID0gZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbiA9IG5ldyBBcnJheSh0KTsgaSA8IHQ7IGkrKykgbltpXSA9IGVbaV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1KGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgRWxlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdC5FdmVudCA9IG4sIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci5kZWZhdWx0LkN1c3RvbUV2ZW50ID8gdC5FdmVudCA9IG4gPSByLmRlZmF1bHQuQ3VzdG9tRXZlbnQgOiBzLmRlZmF1bHQgJiYgKHQuRXZlbnQgPSBuID0gZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICB0ID0gdCB8fCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWJibGVzOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9zZWQ6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB2b2lkIDBcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5pbml0Q3VzdG9tRXZlbnQoZSwgdC5idWJibGVzLCB0LmNhbmNlbGFibGUsIHQuZGV0YWlsKSwgaTtcbiAgICAgICAgICAgICAgICB9LCBuLnByb3RvdHlwZSA9IHIuZGVmYXVsdC5FdmVudC5wcm90b3R5cGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDYwMDogZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGkoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZTtcbiAgICAgICAgICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIGUuY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBlICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBlO1xuICAgICAgICAgICAgICAgICAgICB9LCBpKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICEwXG4gICAgICAgICAgICAgICAgfSksIHQuZGVmYXVsdCA9IGZ1bmN0aW9uIGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0LCBuLCBhLCByLCBvLCBzLCBsID0gYXJndW1lbnRzWzBdIHx8IHt9LCBjID0gMSwgdSA9IGFyZ3VtZW50cy5sZW5ndGgsIGYgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgXCJib29sZWFuXCIgPT0gdHlwZW9mIGwgJiYgKGYgPSBsLCBsID0gYXJndW1lbnRzW2NdIHx8IHt9LCBjKyspO1xuICAgICAgICAgICAgICAgICAgICBcIm9iamVjdFwiICE9PSBpKGwpICYmIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgbCAmJiAobCA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7YyA8IHU7IGMrKykgaWYgKG51bGwgIT0gKHQgPSBhcmd1bWVudHNbY10pKSBmb3IgKG4gaW4gdCkgYSA9IGxbbl0sIGwgIT09IChyID0gdFtuXSkgJiYgKGYgJiYgciAmJiAoXCJbb2JqZWN0IE9iamVjdF1cIiA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpIHx8IChvID0gQXJyYXkuaXNBcnJheShyKSkpID8gKG8gPyAobyA9ICExLCBcbiAgICAgICAgICAgICAgICAgICAgcyA9IGEgJiYgQXJyYXkuaXNBcnJheShhKSA/IGEgOiBbXSkgOiBzID0gYSAmJiBcIltvYmplY3QgT2JqZWN0XVwiID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkgPyBhIDoge30sIFxuICAgICAgICAgICAgICAgICAgICBsW25dID0gZShmLCBzLCByKSkgOiB2b2lkIDAgIT09IHIgJiYgKGxbbl0gPSByKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgNDk2MzogZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgICAgICAgICB9KSwgdC5kZWZhdWx0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHZhciBuID0gcyhpKDYwMCkpLCBhID0gcyhpKDkzODApKSwgciA9IHMoaSgyNTMpKSwgbyA9IGkoMzc3Nik7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcyhlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsID0gYS5kZWZhdWx0LmRvY3VtZW50O1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGMoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIGMgPyBlIDogdGhpcyBpbnN0YW5jZW9mIGMgPyB2b2lkIChudWxsICE9IGUgJiYgZSAhPT0gYS5kZWZhdWx0ICYmICh0aGlzWzBdID0gZS5ub2RlTmFtZSA/IGUgOiB2b2lkIDAgIT09IGVbMF0gJiYgZVswXS5ub2RlTmFtZSA/IGVbMF0gOiBsLnF1ZXJ5U2VsZWN0b3IoZSksIFxuICAgICAgICAgICAgICAgICAgICB2b2lkIDAgIT09IHRoaXNbMF0gJiYgbnVsbCAhPT0gdGhpc1swXSAmJiAodGhpc1swXS5ldmVudFJlZ2lzdHJ5ID0gdGhpc1swXS5ldmVudFJlZ2lzdHJ5IHx8IHt9KSkpIDogbmV3IGMoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGMucHJvdG90eXBlID0ge1xuICAgICAgICAgICAgICAgICAgICBvbjogby5vbixcbiAgICAgICAgICAgICAgICAgICAgb2ZmOiBvLm9mZixcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogby50cmlnZ2VyXG4gICAgICAgICAgICAgICAgfSwgYy5leHRlbmQgPSBuLmRlZmF1bHQsIGMuZGF0YSA9IHIuZGVmYXVsdCwgYy5FdmVudCA9IG8uRXZlbnQ7XG4gICAgICAgICAgICAgICAgdmFyIHUgPSBjO1xuICAgICAgICAgICAgICAgIHQuZGVmYXVsdCA9IHU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgOTg0NTogZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgICAgICAgICB9KSwgdC5tb2JpbGUgPSB0LmlwaG9uZSA9IHQuaWUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdmFyIG4sIGEgPSAobiA9IGkoOTM4MCkpICYmIG4uX19lc01vZHVsZSA/IG4gOiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG5cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciByID0gYS5kZWZhdWx0Lm5hdmlnYXRvciAmJiBhLmRlZmF1bHQubmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBcIlwiLCBvID0gci5pbmRleE9mKFwiTVNJRSBcIikgPiAwIHx8IHIuaW5kZXhPZihcIlRyaWRlbnQvXCIpID4gMCwgcyA9IG5hdmlnYXRvci51c2VyQWdlbnREYXRhICYmIG5hdmlnYXRvci51c2VyQWdlbnREYXRhLm1vYmlsZSB8fCBhLmRlZmF1bHQubmF2aWdhdG9yICYmIGEuZGVmYXVsdC5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgfHwgXCJvbnRvdWNoc3RhcnRcIiBpbiBhLmRlZmF1bHQsIGwgPSAvaXBob25lL2kudGVzdChyKTtcbiAgICAgICAgICAgICAgICB0LmlwaG9uZSA9IGwsIHQubW9iaWxlID0gcywgdC5pZSA9IG87XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgNzE4NDogZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgICAgICAgICB9KSwgdC5kZWZhdWx0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5yZXBsYWNlKGksIFwiXFxcXCQxXCIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBuZXcgUmVnRXhwKFwiKFxcXFxcIiArIFsgXCIvXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsIFwiP1wiLCBcInxcIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgXCJcXFxcXCIsIFwiJFwiLCBcIl5cIiBdLmpvaW4oXCJ8XFxcXFwiKSArIFwiKVwiLCBcImdpbVwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA2MDMwOiBmdW5jdGlvbihlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAhMFxuICAgICAgICAgICAgICAgIH0pLCB0LkV2ZW50SGFuZGxlcnMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdmFyIG4gPSBpKDg3MTEpLCBhID0gaSgyODM5KSwgciA9IGkoOTg0NSksIG8gPSBpKDcyMTUpLCBzID0gaSg3NzYwKSwgbCA9IGkoNDcxMyk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYyhlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIGVbU3ltYm9sLml0ZXJhdG9yXSB8fCBlW1wiQEBpdGVyYXRvclwiXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSB8fCAoaSA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWUpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkgcmV0dXJuIHUoZSwgdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwgLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiT2JqZWN0XCIgPT09IGkgJiYgZS5jb25zdHJ1Y3RvciAmJiAoaSA9IGUuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiTWFwXCIgPT09IGkgfHwgXCJTZXRcIiA9PT0gaSkgcmV0dXJuIEFycmF5LmZyb20oZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiQXJndW1lbnRzXCIgPT09IGkgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QoaSkpIHJldHVybiB1KGUsIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfShlKSkgfHwgdCAmJiBlICYmIFwibnVtYmVyXCIgPT0gdHlwZW9mIGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSAmJiAoZSA9IGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gMCwgYSA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczogYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbiA+PSBlLmxlbmd0aCA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lOiAhMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZVtuKytdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmOiBhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgciwgbyA9ICEwLCBzID0gITE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS5jYWxsKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gaS5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8gPSBlLmRvbmUsIGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSAhMCwgciA9IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbyB8fCBudWxsID09IGkucmV0dXJuIHx8IGkucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMpIHRocm93IHI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1KGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gdCB8fCB0ID4gZS5sZW5ndGgpICYmICh0ID0gZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbiA9IG5ldyBBcnJheSh0KTsgaSA8IHQ7IGkrKykgbltpXSA9IGVbaV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZiA9IHtcbiAgICAgICAgICAgICAgICAgICAga2V5RXZlbnQ6IGZ1bmN0aW9uKGUsIHQsIGksIGMsIHUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gdGhpcy5pbnB1dG1hc2ssIHAgPSBkLm9wdHMsIGggPSBkLmRlcGVuZGVuY3lMaWIsIHYgPSBkLm1hc2tzZXQsIG0gPSB0aGlzLCBnID0gaChtKSwgeSA9IGUua2V5LCBrID0gbi5jYXJldC5jYWxsKGQsIG0pLCBiID0gcC5vbktleURvd24uY2FsbCh0aGlzLCBlLCBuLmdldEJ1ZmZlci5jYWxsKGQpLCBrLCBwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGIpIHJldHVybiBiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHkgPT09IGEua2V5cy5CYWNrc3BhY2UgfHwgeSA9PT0gYS5rZXlzLkRlbGV0ZSB8fCByLmlwaG9uZSAmJiB5ID09PSBhLmtleXMuQkFDS1NQQUNFX1NBRkFSSSB8fCBlLmN0cmxLZXkgJiYgeSA9PT0gYS5rZXlzLnggJiYgIShcIm9uY3V0XCIgaW4gbSkpIGUucHJldmVudERlZmF1bHQoKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBvLmhhbmRsZVJlbW92ZS5jYWxsKGQsIG0sIHksIGspLCAoMCwgcy53cml0ZUJ1ZmZlcikobSwgbi5nZXRCdWZmZXIuY2FsbChkLCAhMCksIHYucCwgZSwgbS5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgIT09IG4uZ2V0QnVmZmVyLmNhbGwoZCkuam9pbihcIlwiKSk7IGVsc2UgaWYgKHkgPT09IGEua2V5cy5FbmQgfHwgeSA9PT0gYS5rZXlzLlBhZ2VEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4ID0gbi5zZWVrTmV4dC5jYWxsKGQsIG4uZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5jYXJldC5jYWxsKGQsIG0sIGUuc2hpZnRLZXkgPyBrLmJlZ2luIDogeCwgeCwgITApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHkgPT09IGEua2V5cy5Ib21lICYmICFlLnNoaWZ0S2V5IHx8IHkgPT09IGEua2V5cy5QYWdlVXAgPyAoZS5wcmV2ZW50RGVmYXVsdCgpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIG4uY2FyZXQuY2FsbChkLCBtLCAwLCBlLnNoaWZ0S2V5ID8gay5iZWdpbiA6IDAsICEwKSkgOiBwLnVuZG9PbkVzY2FwZSAmJiB5ID09PSBhLmtleXMuRXNjYXBlICYmICEwICE9PSBlLmFsdEtleSA/ICgoMCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBzLmNoZWNrVmFsKShtLCAhMCwgITEsIGQudW5kb1ZhbHVlLnNwbGl0KFwiXCIpKSwgZy50cmlnZ2VyKFwiY2xpY2tcIikpIDogeSAhPT0gYS5rZXlzLkluc2VydCB8fCBlLnNoaWZ0S2V5IHx8IGUuY3RybEtleSB8fCB2b2lkIDAgIT09IGQudXNlck9wdGlvbnMuaW5zZXJ0TW9kZSA/ICEwID09PSBwLnRhYlRocm91Z2ggJiYgeSA9PT0gYS5rZXlzLlRhYiA/ICEwID09PSBlLnNoaWZ0S2V5ID8gKGsuZW5kID0gbi5zZWVrUHJldmlvdXMuY2FsbChkLCBrLmVuZCwgITApLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICEwID09PSBsLmdldFRlc3QuY2FsbChkLCBrLmVuZCAtIDEpLm1hdGNoLnN0YXRpYyAmJiBrLmVuZC0tLCBrLmJlZ2luID0gbi5zZWVrUHJldmlvdXMuY2FsbChkLCBrLmVuZCwgITApLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGsuYmVnaW4gPj0gMCAmJiBrLmVuZCA+IDAgJiYgKGUucHJldmVudERlZmF1bHQoKSwgbi5jYXJldC5jYWxsKGQsIG0sIGsuYmVnaW4sIGsuZW5kKSkpIDogKGsuYmVnaW4gPSBuLnNlZWtOZXh0LmNhbGwoZCwgay5iZWdpbiwgITApLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGsuZW5kID0gbi5zZWVrTmV4dC5jYWxsKGQsIGsuYmVnaW4sICEwKSwgay5lbmQgPCB2Lm1hc2tMZW5ndGggJiYgay5lbmQtLSwgay5iZWdpbiA8PSB2Lm1hc2tMZW5ndGggJiYgKGUucHJldmVudERlZmF1bHQoKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBuLmNhcmV0LmNhbGwoZCwgbSwgay5iZWdpbiwgay5lbmQpKSkgOiBlLnNoaWZ0S2V5IHx8IHAuaW5zZXJ0TW9kZVZpc3VhbCAmJiAhMSA9PT0gcC5pbnNlcnRNb2RlICYmICh5ID09PSBhLmtleXMuQXJyb3dSaWdodCA/IHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gbi5jYXJldC5jYWxsKGQsIG0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uY2FyZXQuY2FsbChkLCBtLCBlLmJlZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAwKSA6IHkgPT09IGEua2V5cy5BcnJvd0xlZnQgJiYgc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBuLnRyYW5zbGF0ZVBvc2l0aW9uLmNhbGwoZCwgbS5pbnB1dG1hc2suY2FyZXRQb3MuYmVnaW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4udHJhbnNsYXRlUG9zaXRpb24uY2FsbChkLCBtLmlucHV0bWFzay5jYXJldFBvcy5lbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuaXNSVEwgPyBuLmNhcmV0LmNhbGwoZCwgbSwgZSArIChlID09PSB2Lm1hc2tMZW5ndGggPyAwIDogMSkpIDogbi5jYXJldC5jYWxsKGQsIG0sIGUgLSAoMCA9PT0gZSA/IDAgOiAxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgMCkpIDogby5pc1NlbGVjdGlvbi5jYWxsKGQsIGspID8gcC5pbnNlcnRNb2RlID0gIXAuaW5zZXJ0TW9kZSA6IChwLmluc2VydE1vZGUgPSAhcC5pbnNlcnRNb2RlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIG4uY2FyZXQuY2FsbChkLCBtLCBrLmJlZ2luLCBrLmJlZ2luKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5pc0NvbXBvc2luZyA9IHkgPT0gYS5rZXlzLlByb2Nlc3MgfHwgeSA9PSBhLmtleXMuVW5pZGVudGlmaWVkLCBkLmlnbm9yYWJsZSA9IHAuaWdub3JhYmxlcy5pbmNsdWRlcyh5KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBmLmtleXByZXNzRXZlbnQuY2FsbCh0aGlzLCBlLCB0LCBpLCBjLCB1KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAga2V5cHJlc3NFdmVudDogZnVuY3Rpb24oZSwgdCwgaSwgciwgbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmlucHV0bWFzayB8fCB0aGlzLCB1ID0gYy5vcHRzLCBmID0gYy5kZXBlbmRlbmN5TGliLCBkID0gYy5tYXNrc2V0LCBwID0gYy5lbCwgaCA9IGYocCksIHYgPSBlLmtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghMCA9PT0gdCB8fCBlLmN0cmxLZXkgJiYgZS5hbHRLZXkgfHwgIShlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGMuaWdub3JhYmxlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtLCBnID0gdCA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luOiBsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBuLmNhcmV0LmNhbGwoYywgcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSB1LnN1YnN0aXR1dGVzW3ZdIHx8IHYsIGQud3JpdGVPdXRCdWZmZXIgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBvLmlzVmFsaWQuY2FsbChjLCBnLCB2LCByLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCExICE9PSB5ICYmIChuLnJlc2V0TWFza1NldC5jYWxsKGMsICEwKSwgbSA9IHZvaWQgMCAhPT0geS5jYXJldCA/IHkuY2FyZXQgOiBuLnNlZWtOZXh0LmNhbGwoYywgeS5wb3MuYmVnaW4gPyB5LnBvcy5iZWdpbiA6IHkucG9zKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucCA9IG0pLCBtID0gdS5udW1lcmljSW5wdXQgJiYgdm9pZCAwID09PSB5LmNhcmV0ID8gbi5zZWVrUHJldmlvdXMuY2FsbChjLCBtKSA6IG0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhMSAhPT0gaSAmJiAoc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Lm9uS2V5VmFsaWRhdGlvbi5jYWxsKHAsIHYsIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgMCksIGQud3JpdGVPdXRCdWZmZXIgJiYgITEgIT09IHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgayA9IG4uZ2V0QnVmZmVyLmNhbGwoYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgcy53cml0ZUJ1ZmZlcikocCwgaywgbSwgZSwgITAgIT09IHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KCksIHQpIHJldHVybiAhMSAhPT0geSAmJiAoeS5mb3J3YXJkUG9zaXRpb24gPSBtKSwgeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgdiA9PT0gYS5rZXlzLkVudGVyICYmIGMudW5kb1ZhbHVlICE9PSBjLl92YWx1ZUdldCghMCkgJiYgKGMudW5kb1ZhbHVlID0gYy5fdmFsdWVHZXQoITApLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGgudHJpZ2dlcihcImNoYW5nZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAwKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhc3RlRXZlbnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0LCBpID0gdGhpcy5pbnB1dG1hc2ssIGEgPSBpLm9wdHMsIHIgPSBpLl92YWx1ZUdldCghMCksIG8gPSBuLmNhcmV0LmNhbGwoaSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpLmlzUlRMICYmICh0ID0gby5lbmQsIG8uZW5kID0gbi50cmFuc2xhdGVQb3NpdGlvbi5jYWxsKGksIG8uYmVnaW4pLCBvLmJlZ2luID0gbi50cmFuc2xhdGVQb3NpdGlvbi5jYWxsKGksIHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsID0gci5zdWJzdHIoMCwgby5iZWdpbiksIHUgPSByLnN1YnN0cihvLmVuZCwgci5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGwgPT0gKGkuaXNSVEwgPyBuLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaSkuc2xpY2UoKS5yZXZlcnNlKCkgOiBuLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaSkpLnNsaWNlKDAsIG8uYmVnaW4pLmpvaW4oXCJcIikgJiYgKGwgPSBcIlwiKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICB1ID09IChpLmlzUlRMID8gbi5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGkpLnNsaWNlKCkucmV2ZXJzZSgpIDogbi5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGkpKS5zbGljZShvLmVuZCkuam9pbihcIlwiKSAmJiAodSA9IFwiXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGlwYm9hcmREYXRhICYmIHdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEpIHIgPSBsICsgd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIikgKyB1OyBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWUuY2xpcGJvYXJkRGF0YSB8fCAhZS5jbGlwYm9hcmREYXRhLmdldERhdGEpIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByID0gbCArIGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwidGV4dC9wbGFpblwiKSArIHU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IHI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaS5pc1JUTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYgPSBmLnNwbGl0KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkLCBwID0gYyhuLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocC5zKCk7ICEoZCA9IHAubigpKS5kb25lOyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoID0gZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZbMF0gPT09IGggJiYgZi5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLmUoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcC5mKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYgPSBmLmpvaW4oXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBhLm9uQmVmb3JlUGFzdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITEgPT09IChmID0gYS5vbkJlZm9yZVBhc3RlLmNhbGwoaSwgZiwgYSkpKSByZXR1cm4gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZiB8fCAoZiA9IHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHMuY2hlY2tWYWwpKHRoaXMsICEwLCAhMSwgZi50b1N0cmluZygpLnNwbGl0KFwiXCIpLCBlKSwgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnB1dEZhbGxCYWNrRXZlbnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5pbnB1dG1hc2ssIGkgPSB0Lm9wdHMsIG8gPSB0LmRlcGVuZGVuY3lMaWI7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYywgdSA9IHRoaXMsIGQgPSB1LmlucHV0bWFzay5fdmFsdWVHZXQoITApLCBwID0gKHQuaXNSVEwgPyBuLmdldEJ1ZmZlci5jYWxsKHQpLnNsaWNlKCkucmV2ZXJzZSgpIDogbi5nZXRCdWZmZXIuY2FsbCh0KSkuam9pbihcIlwiKSwgaCA9IG4uY2FyZXQuY2FsbCh0LCB1LCB2b2lkIDAsIHZvaWQgMCwgITApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAgIT09IGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA9IGZ1bmN0aW9uKGUsIGEsIHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbywgcywgYywgdSA9IGUuc3Vic3RyKDAsIHIuYmVnaW4pLnNwbGl0KFwiXCIpLCBmID0gZS5zdWJzdHIoci5iZWdpbikuc3BsaXQoXCJcIiksIGQgPSBhLnN1YnN0cigwLCByLmJlZ2luKS5zcGxpdChcIlwiKSwgcCA9IGEuc3Vic3RyKHIuYmVnaW4pLnNwbGl0KFwiXCIpLCBoID0gdS5sZW5ndGggPj0gZC5sZW5ndGggPyB1Lmxlbmd0aCA6IGQubGVuZ3RoLCB2ID0gZi5sZW5ndGggPj0gcC5sZW5ndGggPyBmLmxlbmd0aCA6IHAubGVuZ3RoLCBtID0gXCJcIiwgZyA9IFtdLCB5ID0gXCJ+XCI7IHUubGVuZ3RoIDwgaDsgKSB1LnB1c2goeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoO2QubGVuZ3RoIDwgaDsgKSBkLnB1c2goeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoO2YubGVuZ3RoIDwgdjsgKSBmLnVuc2hpZnQoeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoO3AubGVuZ3RoIDwgdjsgKSBwLnVuc2hpZnQoeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gdS5jb25jYXQoZiksIGIgPSBkLmNvbmNhdChwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChzID0gMCwgbyA9IGsubGVuZ3RoOyBzIDwgbzsgcysrKSBzd2l0Y2ggKGMgPSBsLmdldFBsYWNlaG9sZGVyLmNhbGwodCwgbi50cmFuc2xhdGVQb3NpdGlvbi5jYWxsKHQsIHMpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5zZXJ0VGV4dFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYltzIC0gMV0gPT09IGtbc10gJiYgci5iZWdpbiA9PSBrLmxlbmd0aCAtIDEgJiYgZy5wdXNoKGtbc10pLCBzID0gbztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluc2VydFJlcGxhY2VtZW50VGV4dFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWxldGVDb250ZW50QmFja3dhcmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtbc10gPT09IHkgPyByLmVuZCsrIDogcyA9IG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrW3NdICE9PSBiW3NdICYmIChrW3MgKyAxXSAhPT0geSAmJiBrW3MgKyAxXSAhPT0gYyAmJiB2b2lkIDAgIT09IGtbcyArIDFdIHx8IChiW3NdICE9PSBjIHx8IGJbcyArIDFdICE9PSB5KSAmJiBiW3NdICE9PSB5ID8gYltzICsgMV0gPT09IHkgJiYgYltzXSA9PT0ga1tzICsgMV0gPyAobSA9IFwiaW5zZXJ0VGV4dFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcucHVzaChrW3NdKSwgci5iZWdpbi0tLCByLmVuZC0tKSA6IGtbc10gIT09IGMgJiYga1tzXSAhPT0geSAmJiAoa1tzICsgMV0gPT09IHkgfHwgYltzXSAhPT0ga1tzXSAmJiBiW3MgKyAxXSA9PT0ga1tzICsgMV0pID8gKG0gPSBcImluc2VydFJlcGxhY2VtZW50VGV4dFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcucHVzaChrW3NdKSwgci5iZWdpbi0tKSA6IGtbc10gPT09IHkgPyAobSA9IFwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCIsIChuLmlzTWFzay5jYWxsKHQsIG4udHJhbnNsYXRlUG9zaXRpb24uY2FsbCh0LCBzKSwgITApIHx8IGJbc10gPT09IGkucmFkaXhQb2ludCkgJiYgci5lbmQrKykgOiBzID0gbyA6IChtID0gXCJpbnNlcnRUZXh0XCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZy5wdXNoKGtbc10pLCByLmJlZ2luLS0sIHIuZW5kLS0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiByXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfShkLCBwLCBoKSwgKHUuaW5wdXRtYXNrLnNoYWRvd1Jvb3QgfHwgdS5vd25lckRvY3VtZW50KS5hY3RpdmVFbGVtZW50ICE9PSB1ICYmIHUuZm9jdXMoKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHMud3JpdGVCdWZmZXIpKHUsIG4uZ2V0QnVmZmVyLmNhbGwodCkpLCBuLmNhcmV0LmNhbGwodCwgdSwgaC5iZWdpbiwgaC5lbmQsICEwKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXIubW9iaWxlICYmIHQuc2tpcE5leHRJbnNlcnQgJiYgXCJpbnNlcnRUZXh0XCIgPT09IGUuaW5wdXRUeXBlICYmIFwiaW5zZXJ0VGV4dFwiID09PSBjLmFjdGlvbiAmJiB0LmlzQ29tcG9zaW5nKSByZXR1cm4gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChcImluc2VydENvbXBvc2l0aW9uVGV4dFwiID09PSBlLmlucHV0VHlwZSAmJiBcImluc2VydFRleHRcIiA9PT0gYy5hY3Rpb24gJiYgdC5pc0NvbXBvc2luZyA/IHQuc2tpcE5leHRJbnNlcnQgPSAhMCA6IHQuc2tpcE5leHRJbnNlcnQgPSAhMSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnNlcnRUZXh0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5zZXJ0UmVwbGFjZW1lbnRUZXh0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuZGF0YS5mb3JFYWNoKChmdW5jdGlvbihlLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IG5ldyBvLkV2ZW50KFwia2V5cHJlc3NcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLmtleSA9IGUsIHQuaWdub3JhYmxlID0gITEsIGYua2V5cHJlc3NFdmVudC5jYWxsKHUsIG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSksIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC4kZWwudHJpZ2dlcihcImtleXVwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ID0gbmV3IG8uRXZlbnQoXCJrZXlkb3duXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LmtleSA9IGEua2V5cy5CYWNrc3BhY2UsIGYua2V5RXZlbnQuY2FsbCh1LCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBzLmFwcGx5SW5wdXRWYWx1ZSkodSwgZCksIG4uY2FyZXQuY2FsbCh0LCB1LCBoLmJlZ2luLCBoLmVuZCwgITApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlRXZlbnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5pbnB1dG1hc2ssIGkgPSB0aGlzLCBhID0gZSAmJiBlLmRldGFpbCA/IGUuZGV0YWlsWzBdIDogYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwID09PSBhICYmIChhID0gaS5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSksICgwLCBzLmFwcGx5SW5wdXRWYWx1ZSkoaSwgYSksIChlLmRldGFpbCAmJiB2b2lkIDAgIT09IGUuZGV0YWlsWzFdIHx8IHZvaWQgMCAhPT0gYXJndW1lbnRzWzJdKSAmJiBuLmNhcmV0LmNhbGwodCwgaSwgZS5kZXRhaWwgPyBlLmRldGFpbFsxXSA6IGFyZ3VtZW50c1syXSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzRXZlbnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5pbnB1dG1hc2ssIGkgPSB0Lm9wdHMsIGEgPSBudWxsID09IHQgPyB2b2lkIDAgOiB0Ll92YWx1ZUdldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaS5zaG93TWFza09uRm9jdXMgJiYgYSAhPT0gbi5nZXRCdWZmZXIuY2FsbCh0KS5qb2luKFwiXCIpICYmICgwLCBzLndyaXRlQnVmZmVyKSh0aGlzLCBuLmdldEJ1ZmZlci5jYWxsKHQpLCBuLnNlZWtOZXh0LmNhbGwodCwgbi5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKHQpKSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgITAgIT09IGkucG9zaXRpb25DYXJldE9uVGFiIHx8ICExICE9PSB0Lm1vdXNlRW50ZXIgfHwgby5pc0NvbXBsZXRlLmNhbGwodCwgbi5nZXRCdWZmZXIuY2FsbCh0KSkgJiYgLTEgIT09IG4uZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh0KSB8fCBmLmNsaWNrRXZlbnQuYXBwbHkodGhpcywgWyBlLCAhMCBdKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICB0LnVuZG9WYWx1ZSA9IG51bGwgPT0gdCA/IHZvaWQgMCA6IHQuX3ZhbHVlR2V0KCEwKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZEV2ZW50OiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0bWFzay52YWxpZGF0aW9uRXZlbnQgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbW91c2VsZWF2ZUV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5pbnB1dG1hc2ssIHQgPSBlLm9wdHMsIGkgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5tb3VzZUVudGVyID0gITEsIHQuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgJiYgKGkuaW5wdXRtYXNrLnNoYWRvd1Jvb3QgfHwgaS5vd25lckRvY3VtZW50KS5hY3RpdmVFbGVtZW50ICE9PSBpICYmICgwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIpKGksIGUub3JpZ2luYWxQbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrRXZlbnQ6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5pbnB1dG1hc2s7XG4gICAgICAgICAgICAgICAgICAgICAgICBpLmNsaWNrZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoYS5pbnB1dG1hc2suc2hhZG93Um9vdCB8fCBhLm93bmVyRG9jdW1lbnQpLmFjdGl2ZUVsZW1lbnQgPT09IGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgciA9IG4uZGV0ZXJtaW5lTmV3Q2FyZXRQb3NpdGlvbi5jYWxsKGksIG4uY2FyZXQuY2FsbChpLCBhKSwgdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSByICYmIG4uY2FyZXQuY2FsbChpLCBhLCByKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY3V0RXZlbnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5pbnB1dG1hc2ssIGkgPSB0Lm1hc2tzZXQsIHIgPSB0aGlzLCBsID0gbi5jYXJldC5jYWxsKHQsIHIpLCBjID0gdC5pc1JUTCA/IG4uZ2V0QnVmZmVyLmNhbGwodCkuc2xpY2UobC5lbmQsIGwuYmVnaW4pIDogbi5nZXRCdWZmZXIuY2FsbCh0KS5zbGljZShsLmJlZ2luLCBsLmVuZCksIHUgPSB0LmlzUlRMID8gYy5yZXZlcnNlKCkuam9pbihcIlwiKSA6IGMuam9pbihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IuY2xpcGJvYXJkID8gd2luZG93Lm5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHUpIDogd2luZG93LmNsaXBib2FyZERhdGEgJiYgd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YSAmJiB3aW5kb3cuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwiVGV4dFwiLCB1KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBvLmhhbmRsZVJlbW92ZS5jYWxsKHQsIHIsIGEua2V5cy5EZWxldGUsIGwpLCAoMCwgcy53cml0ZUJ1ZmZlcikociwgbi5nZXRCdWZmZXIuY2FsbCh0KSwgaS5wLCBlLCB0LnVuZG9WYWx1ZSAhPT0gdC5fdmFsdWVHZXQoITApKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYmx1ckV2ZW50OiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHRoaXMuaW5wdXRtYXNrLCBpID0gdC5vcHRzLCBhID0gdC5kZXBlbmRlbmN5TGliO1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5jbGlja2VkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByID0gYSh0aGlzKSwgbCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobC5pbnB1dG1hc2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgcy5IYW5kbGVOYXRpdmVQbGFjZWhvbGRlcikobCwgdC5vcmlnaW5hbFBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGwuaW5wdXRtYXNrLl92YWx1ZUdldCgpLCB1ID0gbi5nZXRCdWZmZXIuY2FsbCh0KS5zbGljZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIgIT09IGMgJiYgKGkuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgJiYgKC0xID09PSBuLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodCkgJiYgYyA9PT0gbi5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKHQpLmpvaW4oXCJcIikgPyB1ID0gW10gOiBzLmNsZWFyT3B0aW9uYWxUYWlsLmNhbGwodCwgdSkpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhMSA9PT0gby5pc0NvbXBsZXRlLmNhbGwodCwgdSkgJiYgKHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByLnRyaWdnZXIoXCJpbmNvbXBsZXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAwKSwgaS5jbGVhckluY29tcGxldGUgJiYgKG4ucmVzZXRNYXNrU2V0LmNhbGwodCksIHUgPSBpLmNsZWFyTWFza09uTG9zdEZvY3VzID8gW10gOiBuLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwodCkuc2xpY2UoKSkpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgcy53cml0ZUJ1ZmZlcikobCwgdSwgdm9pZCAwLCBlKSksIHQudW5kb1ZhbHVlICE9PSB0Ll92YWx1ZUdldCghMCkgJiYgKHQudW5kb1ZhbHVlID0gdC5fdmFsdWVHZXQoITApLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByLnRyaWdnZXIoXCJjaGFuZ2VcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBtb3VzZWVudGVyRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLmlucHV0bWFzaywgdCA9IGUub3B0cy5zaG93TWFza09uSG92ZXIsIGkgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUubW91c2VFbnRlciA9ICEwLCAoaS5pbnB1dG1hc2suc2hhZG93Um9vdCB8fCBpLm93bmVyRG9jdW1lbnQpLmFjdGl2ZUVsZW1lbnQgIT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IChlLmlzUlRMID8gbi5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGUpLnNsaWNlKCkucmV2ZXJzZSgpIDogbi5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGUpKS5qb2luKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgJiYgKDAsIHMuSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIpKGksIGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWJtaXRFdmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMuaW5wdXRtYXNrLCB0ID0gZS5vcHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS51bmRvVmFsdWUgIT09IGUuX3ZhbHVlR2V0KCEwKSAmJiBlLiRlbC50cmlnZ2VyKFwiY2hhbmdlXCIpLCAtMSA9PT0gbi5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGUpICYmIGUuX3ZhbHVlR2V0ICYmIGUuX3ZhbHVlR2V0KCkgPT09IG4uZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChlKS5qb2luKFwiXCIpICYmIGUuX3ZhbHVlU2V0KFwiXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuY2xlYXJJbmNvbXBsZXRlICYmICExID09PSBvLmlzQ29tcGxldGUuY2FsbChlLCBuLmdldEJ1ZmZlci5jYWxsKGUpKSAmJiBlLl92YWx1ZVNldChcIlwiKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICB0LnJlbW92ZU1hc2tPblN1Ym1pdCAmJiAoZS5fdmFsdWVTZXQoZS51bm1hc2tlZHZhbHVlKCksICEwKSwgc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHMud3JpdGVCdWZmZXIpKGUuZWwsIG4uZ2V0QnVmZmVyLmNhbGwoZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksIDApKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRFdmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMuaW5wdXRtYXNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5yZWZyZXNoVmFsdWUgPSAhMCwgc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHMuYXBwbHlJbnB1dFZhbHVlKShlLmVsLCBlLl92YWx1ZUdldCghMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0LkV2ZW50SGFuZGxlcnMgPSBmO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDk3MTY6IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICEwXG4gICAgICAgICAgICAgICAgfSksIHQuRXZlbnRSdWxlciA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB2YXIgbiwgYSA9IChuID0gaSgyMzk0KSkgJiYgbi5fX2VzTW9kdWxlID8gbiA6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogblxuICAgICAgICAgICAgICAgIH0sIHIgPSBpKDI4MzkpLCBvID0gaSg4NzExKSwgcyA9IGkoNzc2MCk7XG4gICAgICAgICAgICAgICAgdmFyIGwgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9uOiBmdW5jdGlvbihlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGUuaW5wdXRtYXNrLmRlcGVuZGVuY3lMaWIsIGwgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5vcmlnaW5hbEV2ZW50ICYmICh0ID0gdC5vcmlnaW5hbEV2ZW50IHx8IHQsIGFyZ3VtZW50c1swXSA9IHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsLCBjID0gdGhpcywgdSA9IGMuaW5wdXRtYXNrLCBmID0gdSA/IHUub3B0cyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSB1ICYmIFwiRk9STVwiICE9PSB0aGlzLm5vZGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gbi5kYXRhKGMsIFwiX2lucHV0bWFza19vcHRzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuKGMpLm9mZigpLCBkICYmIG5ldyBhLmRlZmF1bHQoZCkubWFzayhjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoWyBcInN1Ym1pdFwiLCBcInJlc2V0XCIsIFwic2V0dmFsdWVcIiBdLmluY2x1ZGVzKHQudHlwZSkgfHwgXCJGT1JNXCIgPT09IHRoaXMubm9kZU5hbWUgfHwgIShjLmRpc2FibGVkIHx8IGMucmVhZE9ubHkgJiYgIShcImtleWRvd25cIiA9PT0gdC50eXBlICYmIHQuY3RybEtleSAmJiB0LmtleSA9PT0gci5rZXlzLmMgfHwgITEgPT09IGYudGFiVGhyb3VnaCAmJiB0LmtleSA9PT0gci5rZXlzLlRhYikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHQudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITAgPT09IHUuc2tpcElucHV0RXZlbnQpIHJldHVybiB1LnNraXBJbnB1dEV2ZW50ID0gITEsIHQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2xpY2tcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZvY3VzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHUudmFsaWRhdGlvbkV2ZW50ID8gKHUudmFsaWRhdGlvbkV2ZW50ID0gITEsIGUuYmx1cigpLCAoMCwgcy5IYW5kbGVOYXRpdmVQbGFjZWhvbGRlcikoZSwgKHUuaXNSVEwgPyBvLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwodSkuc2xpY2UoKS5yZXZlcnNlKCkgOiBvLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwodSkpLmpvaW4oXCJcIikpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBmLnZhbGlkYXRpb25FdmVudFRpbWVPdXQpLCAhMSkgOiAobCA9IGFyZ3VtZW50cywgdm9pZCBzZXRUaW1lb3V0KChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5pbnB1dG1hc2sgJiYgaS5hcHBseShjLCBsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBpLmFwcGx5KGMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITEgPT09IHAgJiYgKHQucHJldmVudERlZmF1bHQoKSwgdC5zdG9wUHJvcGFnYXRpb24oKSksIHA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBbIFwic3VibWl0XCIsIFwicmVzZXRcIiBdLmluY2x1ZGVzKHQpID8gKGwgPSBsLmJpbmQoZSksIG51bGwgIT09IGUuZm9ybSAmJiBuKGUuZm9ybSkub24odCwgbCkpIDogbihlKS5vbih0LCBsKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBlLmlucHV0bWFzay5ldmVudHNbdF0gPSBlLmlucHV0bWFzay5ldmVudHNbdF0gfHwgW10sIGUuaW5wdXRtYXNrLmV2ZW50c1t0XS5wdXNoKGwpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvZmY6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmlucHV0bWFzayAmJiBlLmlucHV0bWFzay5ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGUuaW5wdXRtYXNrLmRlcGVuZGVuY3lMaWIsIG4gPSBlLmlucHV0bWFzay5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYSBpbiB0ICYmICgobiA9IFtdKVt0XSA9IGUuaW5wdXRtYXNrLmV2ZW50c1t0XSksIG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IG5bYV07IHIubGVuZ3RoID4gMDsgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IHIucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIFwic3VibWl0XCIsIFwicmVzZXRcIiBdLmluY2x1ZGVzKGEpID8gbnVsbCAhPT0gZS5mb3JtICYmIGkoZS5mb3JtKS5vZmYoYSwgbykgOiBpKGUpLm9mZihhLCBvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZS5pbnB1dG1hc2suZXZlbnRzW2FdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdC5FdmVudFJ1bGVyID0gbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAyMTk6IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbiA9IGQoaSgyMzk0KSksIGEgPSBpKDI4MzkpLCByID0gZChpKDcxODQpKSwgbyA9IGkoODcxMSksIHMgPSBpKDQ3MTMpO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGwoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHJldHVybiBlO1xuICAgICAgICAgICAgICAgICAgICB9KGUpIHx8IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gbnVsbCA9PSBlID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBlW1N5bWJvbC5pdGVyYXRvcl0gfHwgZVtcIkBAaXRlcmF0b3JcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4sIGEsIHIsIG8sIHMgPSBbXSwgbCA9ICEwLCBjID0gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgPSAoaSA9IGkuY2FsbChlKSkubmV4dCwgMCA9PT0gdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdChpKSAhPT0gaSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9ICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgZm9yICg7IShsID0gKG4gPSByLmNhbGwoaSkpLmRvbmUpICYmIChzLnB1c2gobi52YWx1ZSksIHMubGVuZ3RoICE9PSB0KTsgbCA9ICEwKSA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gITAsIGEgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWwgJiYgbnVsbCAhPSBpLnJldHVybiAmJiAobyA9IGkucmV0dXJuKCksIE9iamVjdChvKSAhPT0gbykpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjKSB0aHJvdyBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KGUsIHQpIHx8IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHJldHVybiBjKGUsIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwgLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJPYmplY3RcIiA9PT0gaSAmJiBlLmNvbnN0cnVjdG9yICYmIChpID0gZS5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIk1hcFwiID09PSBpIHx8IFwiU2V0XCIgPT09IGkpIHJldHVybiBBcnJheS5mcm9tKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiQXJndW1lbnRzXCIgPT09IGkgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QoaSkpIHJldHVybiBjKGUsIHQpO1xuICAgICAgICAgICAgICAgICAgICB9KGUsIHQpIHx8IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gdCB8fCB0ID4gZS5sZW5ndGgpICYmICh0ID0gZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbiA9IG5ldyBBcnJheSh0KTsgaSA8IHQ7IGkrKykgbltpXSA9IGVbaV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1KGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHUgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGU7XG4gICAgICAgICAgICAgICAgICAgIH0gOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBlLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgZSAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgZTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdShlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0W2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgbi5lbnVtZXJhYmxlID0gbi5lbnVtZXJhYmxlIHx8ICExLCBuLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbiAmJiAobi53cml0YWJsZSA9ICEwKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgKGEgPSBuLmtleSwgciA9IHZvaWQgMCwgciA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdShlKSB8fCBudWxsID09PSBlKSByZXR1cm4gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGVbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gaS5jYWxsKGUsIHQgfHwgXCJkZWZhdWx0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdShuKSkgcmV0dXJuIG47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcInN0cmluZ1wiID09PSB0ID8gU3RyaW5nIDogTnVtYmVyKShlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0oYSwgXCJzdHJpbmdcIiksIFwic3ltYm9sXCIgPT09IHUocikgPyByIDogU3RyaW5nKHIpKSwgbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGEsIHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGQoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcCA9IG4uZGVmYXVsdC5kZXBlbmRlbmN5TGliLCBoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGUodCwgaSwgbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgIWZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KHRoaXMsIGUpLCB0aGlzLm1hc2sgPSB0LCB0aGlzLmZvcm1hdCA9IGksIHRoaXMub3B0cyA9IG4sIHRoaXMuX2RhdGUgPSBuZXcgRGF0ZSgxLCAwLCAxKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXREYXRlT2JqZWN0KHQsIHRoaXMub3B0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHQsIGksIG47XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ID0gZSwgKGkgPSBbIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2b2lkIDAgPT09IHRoaXMuX2RhdGUgJiYgKHRoaXMuX2RhdGUgPSBuZXcgRGF0ZSgxLCAwLCAxKSwgdGhpcy5pbml0RGF0ZU9iamVjdCh2b2lkIDAsIHRoaXMub3B0cykpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiaW5pdERhdGVPYmplY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChQKHQpLmxhc3RJbmRleCA9IDA7IGkgPSBQKHQpLmV4ZWModGhpcy5mb3JtYXQpOyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBuZXcgUmVnRXhwKFwiXFxcXGQrJFwiKS5leGVjKGlbMF0pLCBhID0gbiA/IGlbMF1bMF0gKyBcInhcIiA6IGlbMF0sIHIgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBQKHQpLmxhc3RJbmRleCwgcyA9IEUoaS5pbmRleCwgdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUCh0KS5sYXN0SW5kZXggPSBvLCByID0gZS5zbGljZSgwLCBlLmluZGV4T2Yocy5uZXh0TWF0Y2hbMF0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSByID0gZS5zbGljZSgwLCBnW2FdICYmIGdbYV1bNF0gfHwgYS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IGUuc2xpY2Uoci5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChnLCBhKSAmJiB0aGlzLnNldFZhbHVlKHRoaXMsIHIsIGEsIGdbYV1bMl0sIGdbYV1bMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcInNldFZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZSwgdCwgaSwgbiwgYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IHQgJiYgKGVbbl0gPSBcImFtcG1cIiA9PT0gbiA/IHQgOiB0LnJlcGxhY2UoL1teMC05XS9nLCBcIjBcIiksIGVbXCJyYXdcIiArIG5dID0gdC5yZXBsYWNlKC9cXHMvZywgXCJfXCIpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByID0gZVtuXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiZGF5XCIgPT09IG4gJiYgMjkgPT09IHBhcnNlSW50KHIpIHx8IFwibW9udGhcIiA9PT0gbiAmJiAyID09PSBwYXJzZUludChyKSkgJiYgKDI5ICE9PSBwYXJzZUludChlLmRheSkgfHwgMiAhPT0gcGFyc2VJbnQoZS5tb250aCkgfHwgXCJcIiAhPT0gZS55ZWFyICYmIHZvaWQgMCAhPT0gZS55ZWFyIHx8IGUuX2RhdGUuc2V0RnVsbFllYXIoMjAxMiwgMSwgMjkpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF5XCIgPT09IG4gJiYgKG0gPSAhMCwgMCA9PT0gcGFyc2VJbnQocikgJiYgKHIgPSAxKSksIFwibW9udGhcIiA9PT0gbiAmJiAobSA9ICEwKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwieWVhclwiID09PSBuICYmIChtID0gITAsIHIubGVuZ3RoIDwgNCAmJiAociA9IE0ociwgNCwgITApKSksIFwiXCIgPT09IHIgfHwgaXNOYU4ocikgfHwgYS5jYWxsKGUuX2RhdGUsIHIpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbXBtXCIgPT09IG4gJiYgYS5jYWxsKGUuX2RhdGUsIHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcInJlc2V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0ZSA9IG5ldyBEYXRlKDEsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwicmVJbml0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0ZSA9IHZvaWQgMCwgdGhpcy5kYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IF0pICYmIGYodC5wcm90b3R5cGUsIGkpLCBuICYmIGYodCwgbiksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogITFcbiAgICAgICAgICAgICAgICAgICAgfSksIGU7XG4gICAgICAgICAgICAgICAgfSgpLCB2ID0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLCBtID0gITEsIGcgPSB7XG4gICAgICAgICAgICAgICAgICAgIGQ6IFsgXCJbMS05XXxbMTJdWzAtOV18M1swMV1cIiwgRGF0ZS5wcm90b3R5cGUuc2V0RGF0ZSwgXCJkYXlcIiwgRGF0ZS5wcm90b3R5cGUuZ2V0RGF0ZSBdLFxuICAgICAgICAgICAgICAgICAgICBkZDogWyBcIjBbMS05XXxbMTJdWzAtOV18M1swMV1cIiwgRGF0ZS5wcm90b3R5cGUuc2V0RGF0ZSwgXCJkYXlcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTShEYXRlLnByb3RvdHlwZS5nZXREYXRlLmNhbGwodGhpcyksIDIpO1xuICAgICAgICAgICAgICAgICAgICB9IF0sXG4gICAgICAgICAgICAgICAgICAgIGRkZDogWyBcIlwiIF0sXG4gICAgICAgICAgICAgICAgICAgIGRkZGQ6IFsgXCJcIiBdLFxuICAgICAgICAgICAgICAgICAgICBtOiBbIFwiWzEtOV18MVswMTJdXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZSA/IHBhcnNlSW50KGUpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ID4gMCAmJiB0LS0sIERhdGUucHJvdG90eXBlLnNldE1vbnRoLmNhbGwodGhpcywgdCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIFwibW9udGhcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZS5wcm90b3R5cGUuZ2V0TW9udGguY2FsbCh0aGlzKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIH0gXSxcbiAgICAgICAgICAgICAgICAgICAgbW06IFsgXCIwWzEtOV18MVswMTJdXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZSA/IHBhcnNlSW50KGUpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ID4gMCAmJiB0LS0sIERhdGUucHJvdG90eXBlLnNldE1vbnRoLmNhbGwodGhpcywgdCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIFwibW9udGhcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTShEYXRlLnByb3RvdHlwZS5nZXRNb250aC5jYWxsKHRoaXMpICsgMSwgMik7XG4gICAgICAgICAgICAgICAgICAgIH0gXSxcbiAgICAgICAgICAgICAgICAgICAgbW1tOiBbIFwiXCIgXSxcbiAgICAgICAgICAgICAgICAgICAgbW1tbTogWyBcIlwiIF0sXG4gICAgICAgICAgICAgICAgICAgIHl5OiBbIFwiWzAtOV17Mn1cIiwgRGF0ZS5wcm90b3R5cGUuc2V0RnVsbFllYXIsIFwieWVhclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNKERhdGUucHJvdG90eXBlLmdldEZ1bGxZZWFyLmNhbGwodGhpcyksIDIpO1xuICAgICAgICAgICAgICAgICAgICB9IF0sXG4gICAgICAgICAgICAgICAgICAgIHl5eXk6IFsgXCJbMC05XXs0fVwiLCBEYXRlLnByb3RvdHlwZS5zZXRGdWxsWWVhciwgXCJ5ZWFyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE0oRGF0ZS5wcm90b3R5cGUuZ2V0RnVsbFllYXIuY2FsbCh0aGlzKSwgNCk7XG4gICAgICAgICAgICAgICAgICAgIH0gXSxcbiAgICAgICAgICAgICAgICAgICAgaDogWyBcIlsxLTldfDFbMC0yXVwiLCBEYXRlLnByb3RvdHlwZS5zZXRIb3VycywgXCJob3Vyc1wiLCBEYXRlLnByb3RvdHlwZS5nZXRIb3VycyBdLFxuICAgICAgICAgICAgICAgICAgICBoaDogWyBcIjBbMS05XXwxWzAtMl1cIiwgRGF0ZS5wcm90b3R5cGUuc2V0SG91cnMsIFwiaG91cnNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTShEYXRlLnByb3RvdHlwZS5nZXRIb3Vycy5jYWxsKHRoaXMpLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBdLFxuICAgICAgICAgICAgICAgICAgICBoeDogWyBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJbMC05XXtcIi5jb25jYXQoZSwgXCJ9XCIpO1xuICAgICAgICAgICAgICAgICAgICB9LCBEYXRlLnByb3RvdHlwZS5zZXRIb3VycywgXCJob3Vyc1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnM7XG4gICAgICAgICAgICAgICAgICAgIH0gXSxcbiAgICAgICAgICAgICAgICAgICAgSDogWyBcIjE/WzAtOV18MlswLTNdXCIsIERhdGUucHJvdG90eXBlLnNldEhvdXJzLCBcImhvdXJzXCIsIERhdGUucHJvdG90eXBlLmdldEhvdXJzIF0sXG4gICAgICAgICAgICAgICAgICAgIEhIOiBbIFwiMFswLTldfDFbMC05XXwyWzAtM11cIiwgRGF0ZS5wcm90b3R5cGUuc2V0SG91cnMsIFwiaG91cnNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTShEYXRlLnByb3RvdHlwZS5nZXRIb3Vycy5jYWxsKHRoaXMpLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBdLFxuICAgICAgICAgICAgICAgICAgICBIeDogWyBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJbMC05XXtcIi5jb25jYXQoZSwgXCJ9XCIpO1xuICAgICAgICAgICAgICAgICAgICB9LCBEYXRlLnByb3RvdHlwZS5zZXRIb3VycywgXCJob3Vyc1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE0oRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnMuY2FsbCh0aGlzKSwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9IF0sXG4gICAgICAgICAgICAgICAgICAgIE06IFsgXCJbMS01XT9bMC05XVwiLCBEYXRlLnByb3RvdHlwZS5zZXRNaW51dGVzLCBcIm1pbnV0ZXNcIiwgRGF0ZS5wcm90b3R5cGUuZ2V0TWludXRlcyBdLFxuICAgICAgICAgICAgICAgICAgICBNTTogWyBcIjBbMC05XXwxWzAtOV18MlswLTldfDNbMC05XXw0WzAtOV18NVswLTldXCIsIERhdGUucHJvdG90eXBlLnNldE1pbnV0ZXMsIFwibWludXRlc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNKERhdGUucHJvdG90eXBlLmdldE1pbnV0ZXMuY2FsbCh0aGlzKSwgMik7XG4gICAgICAgICAgICAgICAgICAgIH0gXSxcbiAgICAgICAgICAgICAgICAgICAgczogWyBcIlsxLTVdP1swLTldXCIsIERhdGUucHJvdG90eXBlLnNldFNlY29uZHMsIFwic2Vjb25kc1wiLCBEYXRlLnByb3RvdHlwZS5nZXRTZWNvbmRzIF0sXG4gICAgICAgICAgICAgICAgICAgIHNzOiBbIFwiMFswLTldfDFbMC05XXwyWzAtOV18M1swLTldfDRbMC05XXw1WzAtOV1cIiwgRGF0ZS5wcm90b3R5cGUuc2V0U2Vjb25kcywgXCJzZWNvbmRzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE0oRGF0ZS5wcm90b3R5cGUuZ2V0U2Vjb25kcy5jYWxsKHRoaXMpLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBdLFxuICAgICAgICAgICAgICAgICAgICBsOiBbIFwiWzAtOV17M31cIiwgRGF0ZS5wcm90b3R5cGUuc2V0TWlsbGlzZWNvbmRzLCBcIm1pbGxpc2Vjb25kc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNKERhdGUucHJvdG90eXBlLmdldE1pbGxpc2Vjb25kcy5jYWxsKHRoaXMpLCAzKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMyBdLFxuICAgICAgICAgICAgICAgICAgICBMOiBbIFwiWzAtOV17Mn1cIiwgRGF0ZS5wcm90b3R5cGUuc2V0TWlsbGlzZWNvbmRzLCBcIm1pbGxpc2Vjb25kc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNKERhdGUucHJvdG90eXBlLmdldE1pbGxpc2Vjb25kcy5jYWxsKHRoaXMpLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMiBdLFxuICAgICAgICAgICAgICAgICAgICB0OiBbIFwiW2FwXVwiLCBrLCBcImFtcG1cIiwgYiwgMSBdLFxuICAgICAgICAgICAgICAgICAgICB0dDogWyBcIlthcF1tXCIsIGssIFwiYW1wbVwiLCBiLCAyIF0sXG4gICAgICAgICAgICAgICAgICAgIFQ6IFsgXCJbQVBdXCIsIGssIFwiYW1wbVwiLCBiLCAxIF0sXG4gICAgICAgICAgICAgICAgICAgIFRUOiBbIFwiW0FQXU1cIiwgaywgXCJhbXBtXCIsIGIsIDIgXSxcbiAgICAgICAgICAgICAgICAgICAgWjogWyBcIi4qXCIsIHZvaWQgMCwgXCJaXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLnRvU3RyaW5nKCkubWF0Y2goL1xcKCguKylcXCkvKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuaW5jbHVkZXMoXCIgXCIpICYmIChlID0gKGUgPSBlLnJlcGxhY2UoXCItXCIsIFwiIFwiKS50b1VwcGVyQ2FzZSgpKS5zcGxpdChcIiBcIikubWFwKChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGwoZSwgMSlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkuam9pbihcIlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgICAgICAgICAgfSBdLFxuICAgICAgICAgICAgICAgICAgICBvOiBbIFwiXCIgXSxcbiAgICAgICAgICAgICAgICAgICAgUzogWyBcIlwiIF1cbiAgICAgICAgICAgICAgICB9LCB5ID0ge1xuICAgICAgICAgICAgICAgICAgICBpc29EYXRlOiBcInl5eXktbW0tZGRcIixcbiAgICAgICAgICAgICAgICAgICAgaXNvVGltZTogXCJISDpNTTpzc1wiLFxuICAgICAgICAgICAgICAgICAgICBpc29EYXRlVGltZTogXCJ5eXl5LW1tLWRkJ1QnSEg6TU06c3NcIixcbiAgICAgICAgICAgICAgICAgICAgaXNvVXRjRGF0ZVRpbWU6IFwiVVRDOnl5eXktbW0tZGQnVCdISDpNTTpzcydaJ1wiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBrKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB0aGlzLmdldEhvdXJzKCk7XG4gICAgICAgICAgICAgICAgICAgIGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInBcIikgPyB0aGlzLnNldEhvdXJzKHQgKyAxMikgOiBlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJhXCIpICYmIHQgPj0gMTIgJiYgdGhpcy5zZXRIb3Vycyh0IC0gMTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBiKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMuZ2V0SG91cnMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChlID0gZSB8fCAxMikgPj0gMTIgPyBcIlBNXCIgOiBcIkFNXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHgoZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IG5ldyBSZWdFeHAoXCJcXFxcZCskXCIpLmV4ZWMoZVswXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIHZvaWQgMCAhPT0gdFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBnW2VbMF1bMF0gKyBcInhcIl0uc2xpY2UoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaVswXSA9IGlbMF0odFswXSksIGlbM10gPSBpWzNdKHRbMF0pLCBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChnW2VbMF1dKSByZXR1cm4gZ1tlWzBdXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gUChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZS50b2tlbml6ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gW10sIGkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gaW4gZykgaWYgKC9cXC4qeCQvLnRlc3QobikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IG5bMF0gKyBcIlxcXFxkK1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xID09PSBpLmluZGV4T2YoYSkgJiYgaS5wdXNoKGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIC0xID09PSB0LmluZGV4T2YoblswXSkgJiYgdC5wdXNoKG5bMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50b2tlbml6ZXIgPSBcIihcIiArIChpLmxlbmd0aCA+IDAgPyBpLmpvaW4oXCJ8XCIpICsgXCJ8XCIgOiBcIlwiKSArIHQuam9pbihcIit8XCIpICsgXCIpKz98LlwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGUudG9rZW5pemVyID0gbmV3IFJlZ0V4cChlLnRva2VuaXplciwgXCJnXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLnRva2VuaXplcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdyhlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbSkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBlLnJhd2RheSB8fCAhaXNGaW5pdGUoZS5yYXdkYXkpICYmIG5ldyBEYXRlKGUuZGF0ZS5nZXRGdWxsWWVhcigpLCBpc0Zpbml0ZShlLnJhd21vbnRoKSA/IGUubW9udGggOiBlLmRhdGUuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKSA+PSBlLmRheSB8fCBcIjI5XCIgPT0gZS5kYXkgJiYgKCFpc0Zpbml0ZShlLnJhd3llYXIpIHx8IHZvaWQgMCA9PT0gZS5yYXd5ZWFyIHx8IFwiXCIgPT09IGUucmF3eWVhcikgfHwgbmV3IERhdGUoZS5kYXRlLmdldEZ1bGxZZWFyKCksIGlzRmluaXRlKGUucmF3bW9udGgpID8gZS5tb250aCA6IGUuZGF0ZS5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF0ZSgpID49IGUuZGF5KSByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiMjlcIiA9PSBlLmRheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBFKHQucG9zLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInl5eXlcIiA9PT0gbi50YXJnZXRNYXRjaFswXSAmJiB0LnBvcyAtIG4udGFyZ2V0TWF0Y2hJbmRleCA9PSAyKSByZXR1cm4gdC5yZW1vdmUgPSB0LnBvcyArIDEsIFxuICAgICAgICAgICAgICAgICAgICAgICAgdDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcIjAyXCIgPT0gZS5tb250aCAmJiBcIjMwXCIgPT0gZS5kYXkgJiYgdm9pZCAwICE9PSB0LmMpIHJldHVybiBlLmRheSA9IFwiMDNcIiwgXG4gICAgICAgICAgICAgICAgICAgIGUuZGF0ZS5zZXREYXRlKDMpLCBlLmRhdGUuc2V0TW9udGgoMSksIHQuaW5zZXJ0ID0gWyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHQucG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgYzogXCIwXCJcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiB0LnBvcyArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiB0LmNcbiAgICAgICAgICAgICAgICAgICAgfSBdLCB0LmNhcmV0ID0gby5zZWVrTmV4dC5jYWxsKHRoaXMsIHQucG9zICsgMSksIHQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gUyhlLCB0LCBpLCBuKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhLCBvLCBzID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChQKGkpLmxhc3RJbmRleCA9IDA7IGEgPSBQKGkpLmV4ZWMoZSk7ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gdCkgaWYgKG8gPSB4KGEpKSBzICs9IFwiKFwiICsgb1swXSArIFwiKVwiOyBlbHNlIHN3aXRjaCAoYVswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiW1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgKz0gXCIoXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIl1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzICs9IFwiKT9cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgKz0gKDAsIHIuZGVmYXVsdCkoYVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG8gPSB4KGEpKSBpZiAoITAgIT09IG4gJiYgb1szXSkgcyArPSBvWzNdLmNhbGwodC5kYXRlKTsgZWxzZSBvWzJdID8gcyArPSB0W1wicmF3XCIgKyBvWzJdXSA6IHMgKz0gYVswXTsgZWxzZSBzICs9IGFbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIE0oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGUgPSBTdHJpbmcoZSksIHQgPSB0IHx8IDI7IGUubGVuZ3RoIDwgdDsgKSBlID0gaSA/IGUgKyBcIjBcIiA6IFwiMFwiICsgZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIF8oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSA/IG5ldyBoKGUsIHQsIGkpIDogZSAmJiBcIm9iamVjdFwiID09PSB1KGUpICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBcImRhdGVcIikgPyBlIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBPKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFModC5pbnB1dEZvcm1hdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogZVxuICAgICAgICAgICAgICAgICAgICB9LCB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gRShlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpLCBuLCBhID0gMCwgciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoUCh0KS5sYXN0SW5kZXggPSAwOyBuID0gUCh0KS5leGVjKHQuaW5wdXRGb3JtYXQpOyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gbmV3IFJlZ0V4cChcIlxcXFxkKyRcIikuZXhlYyhuWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoYSArPSByID0gbyA/IHBhcnNlSW50KG9bMF0pIDogblswXS5sZW5ndGgpID49IGUgKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG4sIG4gPSBQKHQpLmV4ZWModC5pbnB1dEZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE1hdGNoSW5kZXg6IGEgLSByLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE1hdGNoOiBuLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TWF0Y2g6IGlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbi5kZWZhdWx0LmV4dGVuZEFsaWFzZXMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRldGltZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFzazogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLm51bWVyaWNJbnB1dCA9ICExLCBnLlMgPSBlLmkxOG4ub3JkaW5hbFN1ZmZpeC5qb2luKFwifFwiKSwgZS5pbnB1dEZvcm1hdCA9IHlbZS5pbnB1dEZvcm1hdF0gfHwgZS5pbnB1dEZvcm1hdCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5kaXNwbGF5Rm9ybWF0ID0geVtlLmRpc3BsYXlGb3JtYXRdIHx8IGUuZGlzcGxheUZvcm1hdCB8fCBlLmlucHV0Rm9ybWF0LCBlLm91dHB1dEZvcm1hdCA9IHlbZS5vdXRwdXRGb3JtYXRdIHx8IGUub3V0cHV0Rm9ybWF0IHx8IGUuaW5wdXRGb3JtYXQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucGxhY2Vob2xkZXIgPSBcIlwiICE9PSBlLnBsYWNlaG9sZGVyID8gZS5wbGFjZWhvbGRlciA6IGUuaW5wdXRGb3JtYXQucmVwbGFjZSgvW1tcXF1dLywgXCJcIiksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucmVnZXggPSBTKGUuaW5wdXRGb3JtYXQsIHZvaWQgMCwgZSksIGUubWluID0gXyhlLm1pbiwgZS5pbnB1dEZvcm1hdCwgZSksIGUubWF4ID0gXyhlLm1heCwgZS5pbnB1dEZvcm1hdCwgZSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEZvcm1hdDogXCJpc29EYXRlVGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dEZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpMThuOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5TmFtZXM6IFsgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIiwgXCJTdW5cIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGh1cnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiLCBcIlN1bmRheVwiIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhOYW1lczogWyBcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiLCBcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCIgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRpbmFsU3VmZml4OiBbIFwic3RcIiwgXCJuZFwiLCBcInJkXCIsIFwidGhcIiBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlVmFsaWRhdGlvbjogZnVuY3Rpb24oZSwgdCwgaSwgbiwgYSwgciwgbywgcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzKSByZXR1cm4gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGkpICYmIGVbdF0gIT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGwgPSBFKHQsIGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobC5uZXh0TWF0Y2ggJiYgbC5uZXh0TWF0Y2hbMF0gPT09IGkgJiYgbC50YXJnZXRNYXRjaFswXS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdbbC50YXJnZXRNYXRjaFswXV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3IFJlZ0V4cChjKS50ZXN0KFwiMFwiICsgZVt0IC0gMV0pKSByZXR1cm4gZVt0XSA9IGVbdCAtIDFdLCBlW3QgLSAxXSA9IFwiMFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdXp6eTogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB0IC0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiB0ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiB0ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFZhbGlkYXRpb246IGZ1bmN0aW9uKGUsIHQsIGksIG4sIGEsIHIsIG8sIGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYywgdTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobykgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghMSA9PT0gbiAmJiAoKChjID0gRSh0ICsgMSwgYSkpLnRhcmdldE1hdGNoICYmIGMudGFyZ2V0TWF0Y2hJbmRleCA9PT0gdCAmJiBjLnRhcmdldE1hdGNoWzBdLmxlbmd0aCA+IDEgJiYgdm9pZCAwICE9PSBnW2MudGFyZ2V0TWF0Y2hbMF1dIHx8IChjID0gRSh0ICsgMiwgYSkpLnRhcmdldE1hdGNoICYmIGMudGFyZ2V0TWF0Y2hJbmRleCA9PT0gdCArIDEgJiYgYy50YXJnZXRNYXRjaFswXS5sZW5ndGggPiAxICYmIHZvaWQgMCAhPT0gZ1tjLnRhcmdldE1hdGNoWzBdXSkgJiYgKHUgPSBnW2MudGFyZ2V0TWF0Y2hbMF1dWzBdKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSB1ICYmICh2b2lkIDAgIT09IHIudmFsaWRQb3NpdGlvbnNbdCArIDFdICYmIG5ldyBSZWdFeHAodSkudGVzdChpICsgXCIwXCIpID8gKGVbdF0gPSBpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlW3QgKyAxXSA9IFwiMFwiLCBuID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHQgKyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDogbmV3IFJlZ0V4cCh1KS50ZXN0KFwiMFwiICsgaSkgJiYgKGVbdF0gPSBcIjBcIiwgZVt0ICsgMV0gPSBpLCBuID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHQgKyAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLCAhMSA9PT0gbikpIHJldHVybiBuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuLmZ1enp5ICYmIChlID0gbi5idWZmZXIsIHQgPSBuLnBvcyksIChjID0gRSh0LCBhKSkudGFyZ2V0TWF0Y2ggJiYgYy50YXJnZXRNYXRjaFswXSAmJiB2b2lkIDAgIT09IGdbYy50YXJnZXRNYXRjaFswXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBnW2MudGFyZ2V0TWF0Y2hbMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0gZlswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBlLnNsaWNlKGMudGFyZ2V0TWF0Y2hJbmRleCwgYy50YXJnZXRNYXRjaEluZGV4ICsgYy50YXJnZXRNYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITEgPT09IG5ldyBSZWdFeHAodSkudGVzdChkLmpvaW4oXCJcIikpICYmIDIgPT09IGMudGFyZ2V0TWF0Y2hbMF0ubGVuZ3RoICYmIHIudmFsaWRQb3NpdGlvbnNbYy50YXJnZXRNYXRjaEluZGV4XSAmJiByLnZhbGlkUG9zaXRpb25zW2MudGFyZ2V0TWF0Y2hJbmRleCArIDFdICYmIChyLnZhbGlkUG9zaXRpb25zW2MudGFyZ2V0TWF0Y2hJbmRleCArIDFdLmlucHV0ID0gXCIwXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ5ZWFyXCIgPT0gZlsyXSkgZm9yICh2YXIgcCA9IHMuZ2V0TWFza1RlbXBsYXRlLmNhbGwodGhpcywgITEsIDEsIHZvaWQgMCwgITApLCBoID0gdCArIDE7IGggPCBlLmxlbmd0aDsgaCsrKSBlW2hdID0gcFtoXSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByLnZhbGlkUG9zaXRpb25zW2hdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IG4sIHkgPSBfKGUuam9pbihcIlwiKSwgYS5pbnB1dEZvcm1hdCwgYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0gJiYgIWlzTmFOKHkuZGF0ZS5nZXRUaW1lKCkpICYmIChhLnByZWZpbGxZZWFyICYmIChtID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS55ZWFyICE9PSBlLnJhd3llYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdi50b1N0cmluZygpLCBhID0gZS5yYXd5ZWFyLnJlcGxhY2UoL1teMC05XS9nLCBcIlwiKSwgciA9IG4uc2xpY2UoMCwgYS5sZW5ndGgpLCBvID0gbi5zbGljZShhLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoMiA9PT0gYS5sZW5ndGggJiYgYSA9PT0gcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gbmV3IERhdGUodiwgZS5tb250aCAtIDEsIGUuZGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmRheSA9PSBzLmdldERhdGUoKSAmJiAoIWkubWF4IHx8IGkubWF4LmRhdGUuZ2V0VGltZSgpID49IHMuZ2V0VGltZSgpKSAmJiAoZS5kYXRlLnNldEZ1bGxZZWFyKHYpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnllYXIgPSBuLCB0Lmluc2VydCA9IFsge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHQucG9zICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogb1swXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiB0LnBvcyArIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9bMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oeSwgbSwgYSkpLCBtID0gZnVuY3Rpb24oZSwgdCwgaSwgbiwgYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXQpIHJldHVybiB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBpLm1pbiAmJiAhaXNOYU4oaS5taW4uZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZS5yZXNldCgpLCBQKGkpLmxhc3RJbmRleCA9IDA7IHIgPSBQKGkpLmV4ZWMoaS5pbnB1dEZvcm1hdCk7ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobyA9IHgocikpICYmIG9bM10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IG9bMV0sIGwgPSBlW29bMl1dLCBjID0gaS5taW5bb1syXV0sIHUgPSBpLm1heCA/IGkubWF4W29bMl1dIDogYywgZiA9IFtdLCBkID0gITEsIHAgPSAwOyBwIDwgYy5sZW5ndGg7IHArKykgdm9pZCAwICE9PSBuLnZhbGlkUG9zaXRpb25zW3AgKyByLmluZGV4XSB8fCBkID8gKGZbcF0gPSBsW3BdLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9IGQgfHwgbFtwXSA+IGNbcF0pIDogKGZbcF0gPSBjW3BdLCBcInllYXJcIiA9PT0gb1syXSAmJiBsLmxlbmd0aCAtIDEgPT0gcCAmJiBjICE9IHUgJiYgKGYgPSAocGFyc2VJbnQoZi5qb2luKFwiXCIpKSArIDEpLnRvU3RyaW5nKCkuc3BsaXQoXCJcIikpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbXBtXCIgPT09IG9bMl0gJiYgYyAhPSB1ICYmIGkubWluLmRhdGUuZ2V0VGltZSgpID4gZS5kYXRlLmdldFRpbWUoKSAmJiAoZltwXSA9IHVbcF0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5jYWxsKGUuX2RhdGUsIGYuam9pbihcIlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IGkubWluLmRhdGUuZ2V0VGltZSgpIDw9IGUuZGF0ZS5nZXRUaW1lKCksIGUucmVJbml0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQgJiYgaS5tYXggJiYgKGlzTmFOKGkubWF4LmRhdGUuZ2V0VGltZSgpKSB8fCAodCA9IGkubWF4LmRhdGUuZ2V0VGltZSgpID49IGUuZGF0ZS5nZXRUaW1lKCkpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSh5LCBtID0gdy5jYWxsKHRoaXMsIHksIG0sIGEpLCBhLCByKSksIHZvaWQgMCAhPT0gdCAmJiBtICYmIG4ucG9zICE9PSB0ID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXI6IFMoYS5pbnB1dEZvcm1hdCwgeSwgYSkuc3BsaXQoXCJcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogbi5wb3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBuLmNhcmV0IHx8IG4ucG9zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IG07XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbihlLCB0LCBpLCBuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jdHJsS2V5ICYmIGUua2V5ID09PSBhLmtleXMuQXJyb3dSaWdodCAmJiAodGhpcy5pbnB1dG1hc2suX3ZhbHVlU2V0KE8obmV3IERhdGUsIG4pKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcCh0aGlzKS50cmlnZ2VyKFwic2V0dmFsdWVcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVW5NYXNrOiBmdW5jdGlvbihlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQgPyBTKGkub3V0cHV0Rm9ybWF0LCBfKGUsIGkuaW5wdXRGb3JtYXQsIGkpLCBpLCAhMCkgOiB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2luZzogZnVuY3Rpb24oZSwgdCwgaSwgbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwID09IHQubmF0aXZlRGVmLmluZGV4T2YoXCJbYXBdXCIpID8gZS50b0xvd2VyQ2FzZSgpIDogMCA9PSB0Lm5hdGl2ZURlZi5pbmRleE9mKFwiW0FQXVwiKSA/IGUudG9VcHBlckNhc2UoKSA6IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25CZWZvcmVNYXNrOiBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiW29iamVjdCBEYXRlXVwiID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkgJiYgKGUgPSBPKGUsIHQpKSwgZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRNb2RlOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydE1vZGVWaXN1YWw6ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnRQb3NpdGlvbnM6ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAga2VlcFN0YXRpYzogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dG1vZGU6IFwibnVtZXJpY1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZmlsbFllYXI6ICEwXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAzODUxOiBmdW5jdGlvbihlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG4sIGEgPSAobiA9IGkoMjM5NCkpICYmIG4uX19lc01vZHVsZSA/IG4gOiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG5cbiAgICAgICAgICAgICAgICB9LCByID0gaSg4NzExKSwgbyA9IGkoNDcxMyk7XG4gICAgICAgICAgICAgICAgYS5kZWZhdWx0LmV4dGVuZERlZmluaXRpb25zKHtcbiAgICAgICAgICAgICAgICAgICAgQToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIltBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IFwidXBwZXJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIiZcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTlBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IFwidXBwZXJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIiNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTlBLUZhLWZdXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IFwidXBwZXJcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSBuZXcgUmVnRXhwKFwiMjVbMC01XXwyWzAtNF1bMC05XXxbMDFdWzAtOV1bMC05XVwiKTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBsKGUsIHQsIGksIG4sIGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgLSAxID4gLTEgJiYgXCIuXCIgIT09IHQuYnVmZmVyW2kgLSAxXSA/IChlID0gdC5idWZmZXJbaSAtIDFdICsgZSwgZSA9IGkgLSAyID4gLTEgJiYgXCIuXCIgIT09IHQuYnVmZmVyW2kgLSAyXSA/IHQuYnVmZmVyW2kgLSAyXSArIGUgOiBcIjBcIiArIGUpIDogZSA9IFwiMDBcIiArIGUsIFxuICAgICAgICAgICAgICAgICAgICBzLnRlc3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGEuZGVmYXVsdC5leHRlbmRBbGlhc2VzKHtcbiAgICAgICAgICAgICAgICAgICAgY3NzdW5pdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXg6IFwiWystXT9bMC05XStcXFxcLj8oWzAtOV0rKT8ocHh8ZW18cmVtfGV4fCV8aW58Y218bW18cHR8cGMpXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleDogXCIoaHR0cHM/fGZ0cCk6Ly8uKlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1VubWFzazogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZWVwU3RhdGljOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYlRocm91Z2g6ICEwXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrOiBcIml7MSwzfS5qezEsM30ua3sxLDN9Lmx7MSwzfVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgajoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGs6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvblVuTWFzazogZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0bW9kZTogXCJkZWNpbWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzdGl0dXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLFwiOiBcIi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFzazogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZS5zZXBhcmF0b3IsIGkgPSBlLnF1YW50aWZpZXIsIG4gPSBcIip7MSw2NH1bLip7MSw2NH1dWy4qezEsNjR9XVsuKnsxLDYzfV1ALXsxLDYzfS4tezEsNjN9Wy4tezEsNjN9XVsuLXsxLDYzfV1cIiwgYSA9IG47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQpIGZvciAodmFyIHIgPSAwOyByIDwgaTsgcisrKSBhICs9IFwiW1wiLmNvbmNhdCh0KS5jb25jYXQobiwgXCJdXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyZWVkeTogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IFwibG93ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aWZpZXI6IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25CZWZvcmVQYXN0ZTogZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZSA9IGUudG9Mb3dlckNhc2UoKSkucmVwbGFjZShcIm1haWx0bzpcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIipcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtOVxcdWZmMTEtXFx1ZmYxOUEtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNSEjJCUmJyorLz0/Xl9ge3x9fi1dXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC05QS1aYS16LV1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvblVuTWFzazogZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0bW9kZTogXCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1hYzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFzazogXCIjIzojIzojIzojIzojIzojI1wiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHZpbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFzazogXCJWezEzfTl7NH1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiW0EtSEotTlBSLVphLWhqLW5wci16XFxcXGRdXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2luZzogXCJ1cHBlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW5jb21wbGV0ZTogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvVW5tYXNrOiAhMFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzc246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2s6IFwiOTk5LTk5LTk5OTlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RWYWxpZGF0aW9uOiBmdW5jdGlvbihlLCB0LCBpLCBuLCBhLCBzLCBsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBvLmdldE1hc2tUZW1wbGF0ZS5jYWxsKHRoaXMsICEwLCByLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwodGhpcyksICEwLCAhMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC9eKD8hMjE5LTA5LTk5OTl8MDc4LTA1LTExMjApKD8hNjY2fDAwMHw5LnsyfSkuezN9LSg/ITAwKS57Mn0tKD8hMHs0fSkuezR9JC8udGVzdChjLmpvaW4oXCJcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgMjA3OiBmdW5jdGlvbihlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG4gPSBzKGkoMjM5NCkpLCBhID0gcyhpKDcxODQpKSwgciA9IGkoODcxMSksIG8gPSBpKDI4MzkpO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHMoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbCA9IG4uZGVmYXVsdC5kZXBlbmRlbmN5TGliO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGMoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gXCJcIiwgYSA9IDA7IGEgPCBlLmxlbmd0aDsgYSsrKSBuLmRlZmF1bHQucHJvdG90eXBlLmRlZmluaXRpb25zW2UuY2hhckF0KGEpXSB8fCB0LmRlZmluaXRpb25zW2UuY2hhckF0KGEpXSB8fCB0Lm9wdGlvbmFsbWFya2VyWzBdID09PSBlLmNoYXJBdChhKSB8fCB0Lm9wdGlvbmFsbWFya2VyWzFdID09PSBlLmNoYXJBdChhKSB8fCB0LnF1YW50aWZpZXJtYXJrZXJbMF0gPT09IGUuY2hhckF0KGEpIHx8IHQucXVhbnRpZmllcm1hcmtlclsxXSA9PT0gZS5jaGFyQXQoYSkgfHwgdC5ncm91cG1hcmtlclswXSA9PT0gZS5jaGFyQXQoYSkgfHwgdC5ncm91cG1hcmtlclsxXSA9PT0gZS5jaGFyQXQoYSkgfHwgdC5hbHRlcm5hdG9ybWFya2VyID09PSBlLmNoYXJBdChhKSA/IGkgKz0gXCJcXFxcXCIgKyBlLmNoYXJBdChhKSA6IGkgKz0gZS5jaGFyQXQoYSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1KGUsIHQsIGksIG4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUubGVuZ3RoID4gMCAmJiB0ID4gMCAmJiAoIWkuZGlnaXRzT3B0aW9uYWwgfHwgbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gZS5pbmRleE9mKGkucmFkaXhQb2ludCksIHIgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkubmVnYXRpb25TeW1ib2wuYmFjayA9PT0gZVtlLmxlbmd0aCAtIDFdICYmIChyID0gITAsIGUubGVuZ3RoLS0pLCAtMSA9PT0gYSAmJiAoZS5wdXNoKGkucmFkaXhQb2ludCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgYSA9IGUubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBvID0gMTsgbyA8PSB0OyBvKyspIGlzRmluaXRlKGVbYSArIG9dKSB8fCAoZVthICsgb10gPSBcIjBcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIgJiYgZS5wdXNoKGkubmVnYXRpb25TeW1ib2wuYmFjayksIGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGYoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gaW4gXCIrXCIgPT09IGUgJiYgKGkgPSByLnNlZWtOZXh0LmNhbGwodGhpcywgdC52YWxpZFBvc2l0aW9ucy5sZW5ndGggLSAxKSksIFxuICAgICAgICAgICAgICAgICAgICB0LnRlc3RzKSBpZiAoKG4gPSBwYXJzZUludChuKSkgPj0gaSkgZm9yICh2YXIgYSA9IDAsIG8gPSB0LnRlc3RzW25dLmxlbmd0aDsgYSA8IG87IGErKykgaWYgKCh2b2lkIDAgPT09IHQudmFsaWRQb3NpdGlvbnNbbl0gfHwgXCItXCIgPT09IGUpICYmIHQudGVzdHNbbl1bYV0ubWF0Y2guZGVmID09PSBlKSByZXR1cm4gbiArICh2b2lkIDAgIT09IHQudmFsaWRQb3NpdGlvbnNbbl0gJiYgXCItXCIgIT09IGUgPyAxIDogMCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IC0xLCBuID0gMCwgYSA9IHQudmFsaWRQb3NpdGlvbnMubGVuZ3RoOyBuIDwgYTsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgciA9IHQudmFsaWRQb3NpdGlvbnNbbl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAociAmJiByLm1hdGNoLmRlZiA9PT0gZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBwKGUsIHQsIGksIG4sIGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSB0LmJ1ZmZlciA/IHQuYnVmZmVyLmluZGV4T2YoYS5yYWRpeFBvaW50KSA6IC0xLCBvID0gKC0xICE9PSByIHx8IG4gJiYgYS5qaXRNYXNraW5nKSAmJiBuZXcgUmVnRXhwKGEuZGVmaW5pdGlvbnNbOV0udmFsaWRhdG9yKS50ZXN0KGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5fcmFkaXhEYW5jZSAmJiAtMSAhPT0gciAmJiBvICYmIG51bGwgPT0gdC52YWxpZFBvc2l0aW9uc1tyXSA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogciA9PT0gaSA/IHIgKyAxIDogcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBhLnJhZGl4UG9pbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IGlcbiAgICAgICAgICAgICAgICAgICAgfSA6IG87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG4uZGVmYXVsdC5leHRlbmRBbGlhc2VzKHtcbiAgICAgICAgICAgICAgICAgICAgbnVtZXJpYzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFzazogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucmVwZWF0ID0gMCwgZS5ncm91cFNlcGFyYXRvciA9PT0gZS5yYWRpeFBvaW50ICYmIGUuZGlnaXRzICYmIFwiMFwiICE9PSBlLmRpZ2l0cyAmJiAoXCIuXCIgPT09IGUucmFkaXhQb2ludCA/IGUuZ3JvdXBTZXBhcmF0b3IgPSBcIixcIiA6IFwiLFwiID09PSBlLnJhZGl4UG9pbnQgPyBlLmdyb3VwU2VwYXJhdG9yID0gXCIuXCIgOiBlLmdyb3VwU2VwYXJhdG9yID0gXCJcIiksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiID09PSBlLmdyb3VwU2VwYXJhdG9yICYmIChlLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIgPSB2b2lkIDApLCBlLnBsYWNlaG9sZGVyLmxlbmd0aCA+IDEgJiYgKGUucGxhY2Vob2xkZXIgPSBlLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmFkaXhGb2N1c1wiID09PSBlLnBvc2l0aW9uQ2FyZXRPbkNsaWNrICYmIFwiXCIgPT09IGUucGxhY2Vob2xkZXIgJiYgKGUucG9zaXRpb25DYXJldE9uQ2xpY2sgPSBcImx2cFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IFwiMFwiLCBpID0gZS5yYWRpeFBvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEwID09PSBlLm51bWVyaWNJbnB1dCAmJiB2b2lkIDAgPT09IGUuX19maW5hbmNlSW5wdXQgPyAodCA9IFwiMVwiLCBlLnBvc2l0aW9uQ2FyZXRPbkNsaWNrID0gXCJyYWRpeEZvY3VzXCIgPT09IGUucG9zaXRpb25DYXJldE9uQ2xpY2sgPyBcImx2cFwiIDogZS5wb3NpdGlvbkNhcmV0T25DbGljaywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5kaWdpdHNPcHRpb25hbCA9ICExLCBpc05hTihlLmRpZ2l0cykgJiYgKGUuZGlnaXRzID0gMiksIGUuX3JhZGl4RGFuY2UgPSAhMSwgaSA9IFwiLFwiID09PSBlLnJhZGl4UG9pbnQgPyBcIj9cIiA6IFwiIVwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiICE9PSBlLnJhZGl4UG9pbnQgJiYgdm9pZCAwID09PSBlLmRlZmluaXRpb25zW2ldICYmIChlLmRlZmluaXRpb25zW2ldID0ge30sIGUuZGVmaW5pdGlvbnNbaV0udmFsaWRhdG9yID0gXCJbXCIgKyBlLnJhZGl4UG9pbnQgKyBcIl1cIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5kZWZpbml0aW9uc1tpXS5wbGFjZWhvbGRlciA9IGUucmFkaXhQb2ludCwgZS5kZWZpbml0aW9uc1tpXS5zdGF0aWMgPSAhMCwgZS5kZWZpbml0aW9uc1tpXS5nZW5lcmF0ZWQgPSAhMCkpIDogKGUuX19maW5hbmNlSW5wdXQgPSAhMSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5udW1lcmljSW5wdXQgPSAhMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4sIHIgPSBcIlsrXVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyICs9IGMoZS5wcmVmaXgsIGUpLCBcIlwiICE9PSBlLmdyb3VwU2VwYXJhdG9yID8gKHZvaWQgMCA9PT0gZS5kZWZpbml0aW9uc1tlLmdyb3VwU2VwYXJhdG9yXSAmJiAoZS5kZWZpbml0aW9uc1tlLmdyb3VwU2VwYXJhdG9yXSA9IHt9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmRlZmluaXRpb25zW2UuZ3JvdXBTZXBhcmF0b3JdLnZhbGlkYXRvciA9IFwiW1wiICsgZS5ncm91cFNlcGFyYXRvciArIFwiXVwiLCBlLmRlZmluaXRpb25zW2UuZ3JvdXBTZXBhcmF0b3JdLnBsYWNlaG9sZGVyID0gZS5ncm91cFNlcGFyYXRvciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5kZWZpbml0aW9uc1tlLmdyb3VwU2VwYXJhdG9yXS5zdGF0aWMgPSAhMCwgZS5kZWZpbml0aW9uc1tlLmdyb3VwU2VwYXJhdG9yXS5nZW5lcmF0ZWQgPSAhMCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgKz0gZS5fbWFzayhlKSkgOiByICs9IFwiOXsrfVwiLCB2b2lkIDAgIT09IGUuZGlnaXRzICYmIDAgIT09IGUuZGlnaXRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gZS5kaWdpdHMudG9TdHJpbmcoKS5zcGxpdChcIixcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRmluaXRlKG9bMF0pICYmIG9bMV0gJiYgaXNGaW5pdGUob1sxXSkgPyByICs9IGkgKyB0ICsgXCJ7XCIgKyBlLmRpZ2l0cyArIFwifVwiIDogKGlzTmFOKGUuZGlnaXRzKSB8fCBwYXJzZUludChlLmRpZ2l0cykgPiAwKSAmJiAoZS5kaWdpdHNPcHRpb25hbCB8fCBlLmppdE1hc2tpbmcgPyAobiA9IHIgKyBpICsgdCArIFwiezAsXCIgKyBlLmRpZ2l0cyArIFwifVwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5rZWVwU3RhdGljID0gITApIDogciArPSBpICsgdCArIFwie1wiICsgZS5kaWdpdHMgKyBcIn1cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGUuaW5wdXRtb2RlID0gXCJudW1lcmljXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIgKz0gYyhlLnN1ZmZpeCwgZSksIHIgKz0gXCJbLV1cIiwgbiAmJiAociA9IFsgbiArIGMoZS5zdWZmaXgsIGUpICsgXCJbLV1cIiwgciBdKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5ncmVlZHkgPSAhMSwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIDAgPT09IGUucGFyc2VNaW5NYXhPcHRpb25zICYmIChudWxsICE9PSBlLm1pbiAmJiAoZS5taW4gPSBlLm1pbi50b1N0cmluZygpLnJlcGxhY2UobmV3IFJlZ0V4cCgoMCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuZGVmYXVsdCkoZS5ncm91cFNlcGFyYXRvciksIFwiZ1wiKSwgXCJcIiksIFwiLFwiID09PSBlLnJhZGl4UG9pbnQgJiYgKGUubWluID0gZS5taW4ucmVwbGFjZShlLnJhZGl4UG9pbnQsIFwiLlwiKSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLm1pbiA9IGlzRmluaXRlKGUubWluKSA/IHBhcnNlRmxvYXQoZS5taW4pIDogTmFOLCBpc05hTihlLm1pbikgJiYgKGUubWluID0gTnVtYmVyLk1JTl9WQUxVRSkpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZS5tYXggJiYgKGUubWF4ID0gZS5tYXgudG9TdHJpbmcoKS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsIGEuZGVmYXVsdCkoZS5ncm91cFNlcGFyYXRvciksIFwiZ1wiKSwgXCJcIiksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIixcIiA9PT0gZS5yYWRpeFBvaW50ICYmIChlLm1heCA9IGUubWF4LnJlcGxhY2UoZS5yYWRpeFBvaW50LCBcIi5cIikpLCBlLm1heCA9IGlzRmluaXRlKGUubWF4KSA/IHBhcnNlRmxvYXQoZS5tYXgpIDogTmFOLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOYU4oZS5tYXgpICYmIChlLm1heCA9IE51bWJlci5NQVhfVkFMVUUpKSwgZS5wYXJzZU1pbk1heE9wdGlvbnMgPSBcImRvbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfShlKSwgXCJcIiAhPT0gZS5yYWRpeFBvaW50ICYmIGUuc3Vic3RpdHV0ZVJhZGl4UG9pbnQgJiYgKGUuc3Vic3RpdHV0ZXNbXCIuXCIgPT0gZS5yYWRpeFBvaW50ID8gXCIsXCIgOiBcIi5cIl0gPSBlLnJhZGl4UG9pbnQpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tYXNrOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiKFwiICsgZS5ncm91cFNlcGFyYXRvciArIFwiOTk5KXsrfDF9XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlnaXRzOiBcIipcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZ2l0c09wdGlvbmFsOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZm9yY2VEaWdpdHNPbkJsdXI6ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXhQb2ludDogXCIuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkNhcmV0T25DbGljazogXCJyYWRpeEZvY3VzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmFkaXhEYW5jZTogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cFNlcGFyYXRvcjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93TWludXM6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmVnYXRpb25TeW1ib2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9udDogXCItXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFjazogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldE1heE9uT3ZlcmZsb3c6ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB1bm1hc2tBc051bWJlcjogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3VuZGluZ0ZOOiBNYXRoLnJvdW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRtb2RlOiBcImRlY2ltYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3J0Y3V0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGs6IFwiMTAwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG06IFwiMTAwMDAwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JlZWR5OiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0QWxpZ246ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0TW9kZTogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvVW5tYXNrOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VQcm90b3R5cGVEZWZpbml0aW9uczogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpcExlYWRpbmdaZXJvZXM6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic3RpdHV0ZVJhZGl4UG9pbnQ6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IHAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb25TeW1ib2w6IFwiOVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC05XFx1ZmYxMC1cXHVmZjE5XFx1MDY2MC1cXHUwNjY5XFx1MDZmMC1cXHUwNmY5XVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uU3ltYm9sOiBcIipcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIrXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihlLCB0LCBpLCBuLCBhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5hbGxvd01pbnVzICYmIChcIi1cIiA9PT0gZSB8fCBlID09PSBhLm5lZ2F0aW9uU3ltYm9sLmZyb250KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCItXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihlLCB0LCBpLCBuLCBhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5hbGxvd01pbnVzICYmIGUgPT09IGEubmVnYXRpb25TeW1ib2wuYmFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVWYWxpZGF0aW9uOiBmdW5jdGlvbihlLCB0LCBpLCBuLCBhLCByLCBvLCBzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCExICE9PSBhLl9fZmluYW5jZUlucHV0ICYmIGkgPT09IGEucmFkaXhQb2ludCkgcmV0dXJuICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsID0gZS5pbmRleE9mKGEucmFkaXhQb2ludCksIGMgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ID0gZnVuY3Rpb24oZSwgdCwgaSwgbiwgYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5fcmFkaXhEYW5jZSAmJiBhLm51bWVyaWNJbnB1dCAmJiB0ICE9PSBhLm5lZ2F0aW9uU3ltYm9sLmJhY2sgJiYgZSA8PSBpICYmIChpID4gMCB8fCB0ID09IGEucmFkaXhQb2ludCkgJiYgKHZvaWQgMCA9PT0gbi52YWxpZFBvc2l0aW9uc1tlIC0gMV0gfHwgbi52YWxpZFBvc2l0aW9uc1tlIC0gMV0uaW5wdXQgIT09IGEubmVnYXRpb25TeW1ib2wuYmFjaykgJiYgKGUgLT0gMSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0odCwgaSwgbCwgciwgYSksIFwiLVwiID09PSBpIHx8IGkgPT09IGEubmVnYXRpb25TeW1ib2wuZnJvbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEwICE9PSBhLmFsbG93TWludXMpIHJldHVybiAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSAhMSwgcCA9IGQoXCIrXCIsIHIpLCBoID0gZChcIi1cIiwgcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMSAhPT0gcCAmJiAodSA9IFsgcCwgaCBdKSwgITEgIT09IHUgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IHUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogYyAtIGEubmVnYXRpb25TeW1ib2wuYmFjay5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydDogWyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBmLmNhbGwodGhpcywgXCIrXCIsIHIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IGEubmVnYXRpb25TeW1ib2wuZnJvbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbUlzVmFsaWQ6ICEwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBmLmNhbGwodGhpcywgXCItXCIsIHIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IGEubmVnYXRpb25TeW1ib2wuYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tSXNWYWxpZDogdm9pZCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogYyArIGEubmVnYXRpb25TeW1ib2wuYmFjay5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IGEuZ3JvdXBTZXBhcmF0b3IpIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBjXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocykgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtMSAhPT0gbCAmJiAhMCA9PT0gYS5fcmFkaXhEYW5jZSAmJiAhMSA9PT0gbiAmJiBpID09PSBhLnJhZGl4UG9pbnQgJiYgdm9pZCAwICE9PSBhLmRpZ2l0cyAmJiAoaXNOYU4oYS5kaWdpdHMpIHx8IHBhcnNlSW50KGEuZGlnaXRzKSA+IDApICYmIGwgIT09IHQpIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBhLl9yYWRpeERhbmNlICYmIHQgPT09IGwgLSAxID8gbCArIDEgOiBsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITEgPT09IGEuX19maW5hbmNlSW5wdXQpIGlmIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLmRpZ2l0c09wdGlvbmFsKSByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV3cml0ZVBvc2l0aW9uOiBvLmVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWEuZGlnaXRzT3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLmJlZ2luID4gbCAmJiBvLmVuZCA8PSBsKSByZXR1cm4gaSA9PT0gYS5yYWRpeFBvaW50ID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IGwgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbUlzVmFsaWQ6ICEwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdyaXRlUG9zaXRpb246IGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV3cml0ZVBvc2l0aW9uOiBsICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLmJlZ2luIDwgbCkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdyaXRlUG9zaXRpb246IG8uYmVnaW4gLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghYS5zaG93TWFza09uSG92ZXIgJiYgIWEuc2hvd01hc2tPbkZvY3VzICYmICFhLmRpZ2l0c09wdGlvbmFsICYmIGEuZGlnaXRzID4gMCAmJiBcIlwiID09PSB0aGlzLl9fdmFsdWVHZXQuY2FsbCh0aGlzLmVsKSkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV3cml0ZVBvc2l0aW9uOiBsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdyaXRlUG9zaXRpb246IHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RWYWxpZGF0aW9uOiBmdW5jdGlvbihlLCB0LCBpLCBuLCBhLCByLCBvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCExID09PSBuKSByZXR1cm4gbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobykgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSBhLm1pbiB8fCBudWxsICE9PSBhLm1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGEub25Vbk1hc2soZS5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpLCB2b2lkIDAsIGwuZXh0ZW5kKHt9LCBhLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bm1hc2tBc051bWJlcjogITBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gYS5taW4gJiYgcyA8IGEubWluICYmIChzLnRvU3RyaW5nKCkubGVuZ3RoID4gYS5taW4udG9TdHJpbmcoKS5sZW5ndGggfHwgcyA8IDApKSByZXR1cm4gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSBhLm1heCAmJiBzID4gYS5tYXgpIHJldHVybiAhIWEuU2V0TWF4T25PdmVyZmxvdyAmJiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXI6IHUoYS5tYXgudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBhLnJhZGl4UG9pbnQpLnNwbGl0KFwiXCIpLCBhLmRpZ2l0cywgYSkucmV2ZXJzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVW5NYXNrOiBmdW5jdGlvbihlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiXCIgPT09IHQgJiYgITAgPT09IGkubnVsbGFibGUpIHJldHVybiB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gZS5yZXBsYWNlKGkucHJlZml4LCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbiA9IChuID0gbi5yZXBsYWNlKGkuc3VmZml4LCBcIlwiKSkucmVwbGFjZShuZXcgUmVnRXhwKCgwLCBhLmRlZmF1bHQpKGkuZ3JvdXBTZXBhcmF0b3IpLCBcImdcIiksIFwiXCIpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiICE9PSBpLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSAmJiAobiA9IG4ucmVwbGFjZShuZXcgUmVnRXhwKGkucGxhY2Vob2xkZXIuY2hhckF0KDApLCBcImdcIiksIFwiMFwiKSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkudW5tYXNrQXNOdW1iZXIgPyAoXCJcIiAhPT0gaS5yYWRpeFBvaW50ICYmIC0xICE9PSBuLmluZGV4T2YoaS5yYWRpeFBvaW50KSAmJiAobiA9IG4ucmVwbGFjZShhLmRlZmF1bHQuY2FsbCh0aGlzLCBpLnJhZGl4UG9pbnQpLCBcIi5cIikpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gKG4gPSBuLnJlcGxhY2UobmV3IFJlZ0V4cChcIl5cIiArICgwLCBhLmRlZmF1bHQpKGkubmVnYXRpb25TeW1ib2wuZnJvbnQpKSwgXCItXCIpKS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuZGVmYXVsdCkoaS5uZWdhdGlvblN5bWJvbC5iYWNrKSArIFwiJFwiKSwgXCJcIiksIE51bWJlcihuKSkgOiBuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGxldGU6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICh0Lm51bWVyaWNJbnB1dCA/IGUuc2xpY2UoKS5yZXZlcnNlKCkgOiBlKS5qb2luKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpID0gKGkgPSAoaSA9IChpID0gKGkgPSBpLnJlcGxhY2UobmV3IFJlZ0V4cChcIl5cIiArICgwLCBhLmRlZmF1bHQpKHQubmVnYXRpb25TeW1ib2wuZnJvbnQpKSwgXCItXCIpKS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuZGVmYXVsdCkodC5uZWdhdGlvblN5bWJvbC5iYWNrKSArIFwiJFwiKSwgXCJcIikpLnJlcGxhY2UodC5wcmVmaXgsIFwiXCIpKS5yZXBsYWNlKHQuc3VmZml4LCBcIlwiKSkucmVwbGFjZShuZXcgUmVnRXhwKCgwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmRlZmF1bHQpKHQuZ3JvdXBTZXBhcmF0b3IpICsgXCIoWzAtOV17M30pXCIsIFwiZ1wiKSwgXCIkMVwiKSwgXCIsXCIgPT09IHQucmFkaXhQb2ludCAmJiAoaSA9IGkucmVwbGFjZSgoMCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5kZWZhdWx0KSh0LnJhZGl4UG9pbnQpLCBcIi5cIikpLCBpc0Zpbml0ZShpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkJlZm9yZU1hc2s6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IHQucmFkaXhQb2ludCB8fCBcIixcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Zpbml0ZSh0LmRpZ2l0cykgJiYgKHQuZGlnaXRzID0gcGFyc2VJbnQodC5kaWdpdHMpKSwgXCJudW1iZXJcIiAhPSB0eXBlb2YgZSAmJiBcIm51bWJlclwiICE9PSB0LmlucHV0VHlwZSB8fCBcIlwiID09PSBpIHx8IChlID0gZS50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIGkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IFwiLVwiID09PSBlLmNoYXJBdCgwKSB8fCBlLmNoYXJBdCgwKSA9PT0gdC5uZWdhdGlvblN5bWJvbC5mcm9udCwgciA9IGUuc3BsaXQoaSksIG8gPSByWzBdLnJlcGxhY2UoL1teXFwtMC05XS9nLCBcIlwiKSwgcyA9IHIubGVuZ3RoID4gMSA/IHJbMV0ucmVwbGFjZSgvW14wLTldL2csIFwiXCIpIDogXCJcIiwgbCA9IHIubGVuZ3RoID4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gbyArIChcIlwiICE9PSBzID8gaSArIHMgOiBzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiXCIgIT09IGkgJiYgKGMgPSB0LmRpZ2l0c09wdGlvbmFsID8gdC5kaWdpdHMgPCBzLmxlbmd0aCA/IHQuZGlnaXRzIDogcy5sZW5ndGggOiB0LmRpZ2l0cywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIiAhPT0gcyB8fCAhdC5kaWdpdHNPcHRpb25hbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBNYXRoLnBvdygxMCwgYyB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IGUucmVwbGFjZSgoMCwgYS5kZWZhdWx0KShpKSwgXCIuXCIpLCBpc05hTihwYXJzZUZsb2F0KGUpKSB8fCAoZSA9ICh0LnJvdW5kaW5nRk4ocGFyc2VGbG9hdChlKSAqIGYpIC8gZikudG9GaXhlZChjKSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gZS50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoMCA9PT0gdC5kaWdpdHMgJiYgLTEgIT09IGUuaW5kZXhPZihpKSAmJiAoZSA9IGUuc3Vic3RyaW5nKDAsIGUuaW5kZXhPZihpKSkpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSB0Lm1pbiB8fCBudWxsICE9PSB0Lm1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGUudG9TdHJpbmcoKS5yZXBsYWNlKGksIFwiLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gdC5taW4gJiYgZCA8IHQubWluID8gZSA9IHQubWluLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgaSkgOiBudWxsICE9PSB0Lm1heCAmJiBkID4gdC5tYXggJiYgKGUgPSB0Lm1heC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIGkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4gJiYgXCItXCIgIT09IGUuY2hhckF0KDApICYmIChlID0gXCItXCIgKyBlKSwgdShlLnRvU3RyaW5nKCkuc3BsaXQoXCJcIiksIGMsIHQsIGwpLmpvaW4oXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25CZWZvcmVXcml0ZTogZnVuY3Rpb24oZSwgdCwgaSwgbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHIoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITEgIT09IG4uX19maW5hbmNlSW5wdXQgfHwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBlLmluZGV4T2Yobi5yYWRpeFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xICE9PSBpICYmIGUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIlwiICE9PSBuLmdyb3VwU2VwYXJhdG9yKSBmb3IgKDstMSAhPT0gKGkgPSBlLmluZGV4T2Yobi5ncm91cFNlcGFyYXRvcikpOyApIGUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8sIHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4uc3RyaXBMZWFkaW5nWmVyb2VzICYmIChzID0gZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IG5ldyBSZWdFeHAoXCIoXlwiICsgKFwiXCIgIT09IHQubmVnYXRpb25TeW1ib2wuZnJvbnQgPyAoMCwgYS5kZWZhdWx0KSh0Lm5lZ2F0aW9uU3ltYm9sLmZyb250KSArIFwiP1wiIDogXCJcIikgKyAoMCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuZGVmYXVsdCkodC5wcmVmaXgpICsgXCIpKC4qKShcIiArICgwLCBhLmRlZmF1bHQpKHQuc3VmZml4KSArIChcIlwiICE9IHQubmVnYXRpb25TeW1ib2wuYmFjayA/ICgwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5kZWZhdWx0KSh0Lm5lZ2F0aW9uU3ltYm9sLmJhY2spICsgXCI/XCIgOiBcIlwiKSArIFwiJClcIikuZXhlYyhlLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIikpLCBuID0gaSA/IGlbMl0gOiBcIlwiLCByID0gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuICYmIChuID0gbi5zcGxpdCh0LnJhZGl4UG9pbnQuY2hhckF0KDApKVswXSwgciA9IG5ldyBSZWdFeHAoXCJeWzBcIiArIHQuZ3JvdXBTZXBhcmF0b3IgKyBcIl0qXCIpLmV4ZWMobikpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISghciB8fCAhKHJbMF0ubGVuZ3RoID4gMSB8fCByWzBdLmxlbmd0aCA+IDAgJiYgclswXS5sZW5ndGggPCBuLmxlbmd0aCkpICYmIHI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSh0LCBuKSkpIGZvciAodmFyIGMgPSB0LmpvaW4oXCJcIikubGFzdEluZGV4T2Yoc1swXS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKSkgLSAoc1swXSA9PSBzLmlucHV0ID8gMCA6IDEpLCBmID0gc1swXSA9PSBzLmlucHV0ID8gMSA6IDAsIGQgPSBzWzBdLmxlbmd0aCAtIGY7IGQgPiAwOyBkLS0pIGRlbGV0ZSB0aGlzLm1hc2tzZXQudmFsaWRQb3NpdGlvbnNbYyArIGRdLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdFtjICsgZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUpIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmx1clwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNoZWNrdmFsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSBuLm1pbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBuLm9uVW5NYXNrKHQuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKSwgdm9pZCAwLCBsLmV4dGVuZCh7fSwgbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubWFza0FzTnVtYmVyOiAhMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IG4ubWluICYmIHAgPCBuLm1pbikgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiB1KG4ubWluLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgbi5yYWRpeFBvaW50KS5zcGxpdChcIlwiKSwgbi5kaWdpdHMsIG4pLnJldmVyc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodFt0Lmxlbmd0aCAtIDFdID09PSBuLm5lZ2F0aW9uU3ltYm9sLmZyb250KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IG5ldyBSZWdFeHAoXCIoXlwiICsgKFwiXCIgIT0gbi5uZWdhdGlvblN5bWJvbC5mcm9udCA/ICgwLCBhLmRlZmF1bHQpKG4ubmVnYXRpb25TeW1ib2wuZnJvbnQpICsgXCI/XCIgOiBcIlwiKSArICgwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuZGVmYXVsdCkobi5wcmVmaXgpICsgXCIpKC4qKShcIiArICgwLCBhLmRlZmF1bHQpKG4uc3VmZml4KSArIChcIlwiICE9IG4ubmVnYXRpb25TeW1ib2wuYmFjayA/ICgwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuZGVmYXVsdCkobi5uZWdhdGlvblN5bWJvbC5iYWNrKSArIFwiP1wiIDogXCJcIikgKyBcIiQpXCIpLmV4ZWMocih0LnNsaWNlKCksICEwKS5yZXZlcnNlKCkuam9pbihcIlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwID09IChoID8gaFsyXSA6IFwiXCIpICYmIChvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXI6IFsgMCBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcIlwiICE9PSBuLnJhZGl4UG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuaW5kZXhPZihuLnJhZGl4UG9pbnQpID09PSBuLnN1ZmZpeC5sZW5ndGggJiYgKG8gJiYgby5idWZmZXIgPyBvLmJ1ZmZlci5zcGxpY2UoMCwgMSArIG4uc3VmZml4Lmxlbmd0aCkgOiAodC5zcGxpY2UoMCwgMSArIG4uc3VmZml4Lmxlbmd0aCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiByKHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4uZW5mb3JjZURpZ2l0c09uQmx1cikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSAobyA9IG8gfHwge30pICYmIG8uYnVmZmVyIHx8IHQuc2xpY2UoKS5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnJlZnJlc2hGcm9tQnVmZmVyID0gITAsIG8uYnVmZmVyID0gdSh2LCBuLmRpZ2l0cywgbiwgITApLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbktleURvd246IGZ1bmN0aW9uKGUsIHQsIGksIG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSwgciA9IGwodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDMgIT0gZS5sb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcywgYyA9IGUua2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHMgPSBuLnNob3J0Y3V0cyAmJiBuLnNob3J0Y3V0c1tjXSkgJiYgcy5sZW5ndGggPiAxKSByZXR1cm4gdGhpcy5pbnB1dG1hc2suX192YWx1ZVNldC5jYWxsKHRoaXMsIHBhcnNlRmxvYXQodGhpcy5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpKSAqIHBhcnNlSW50KHMpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIudHJpZ2dlcihcInNldHZhbHVlXCIpLCAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSkgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBvLmtleXMuQXJyb3dVcDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXRtYXNrLl9fdmFsdWVTZXQuY2FsbCh0aGlzLCBwYXJzZUZsb2F0KHRoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSkgKyBwYXJzZUludChuLnN0ZXApKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIudHJpZ2dlcihcInNldHZhbHVlXCIpLCAhMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBvLmtleXMuQXJyb3dEb3duOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dG1hc2suX192YWx1ZVNldC5jYWxsKHRoaXMsIHBhcnNlRmxvYXQodGhpcy5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpKSAtIHBhcnNlSW50KG4uc3RlcCkpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci50cmlnZ2VyKFwic2V0dmFsdWVcIiksICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWUuc2hpZnRLZXkgJiYgKGUua2V5ID09PSBvLmtleXMuRGVsZXRlIHx8IGUua2V5ID09PSBvLmtleXMuQmFja3NwYWNlIHx8IGUua2V5ID09PSBvLmtleXMuQkFDS1NQQUNFX1NBRkFSSSkgJiYgaS5iZWdpbiAhPT0gdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRbZS5rZXkgPT09IG8ua2V5cy5EZWxldGUgPyBpLmJlZ2luIC0gMSA6IGkuZW5kXSA9PT0gbi5uZWdhdGlvblN5bWJvbC5mcm9udCkgcmV0dXJuIGEgPSB0LnNsaWNlKCkucmV2ZXJzZSgpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIiAhPT0gbi5uZWdhdGlvblN5bWJvbC5mcm9udCAmJiBhLnNoaWZ0KCksIFwiXCIgIT09IG4ubmVnYXRpb25TeW1ib2wuYmFjayAmJiBhLnBvcCgpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci50cmlnZ2VyKFwic2V0dmFsdWVcIiwgWyBhLmpvaW4oXCJcIiksIGkuYmVnaW4gXSksICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITAgPT09IG4uX3JhZGl4RGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmID0gdC5pbmRleE9mKG4ucmFkaXhQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobi5kaWdpdHNPcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgwID09PSBmKSByZXR1cm4gKGEgPSB0LnNsaWNlKCkucmV2ZXJzZSgpKS5wb3AoKSwgci50cmlnZ2VyKFwic2V0dmFsdWVcIiwgWyBhLmpvaW4oXCJcIiksIGkuYmVnaW4gPj0gYS5sZW5ndGggPyBhLmxlbmd0aCA6IGkuYmVnaW4gXSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgtMSAhPT0gZiAmJiAoaS5iZWdpbiA8IGYgfHwgaS5lbmQgPCBmIHx8IGUua2V5ID09PSBvLmtleXMuRGVsZXRlICYmIChpLmJlZ2luID09PSBmIHx8IGkuYmVnaW4gLSAxID09PSBmKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5iZWdpbiA9PT0gaS5lbmQgJiYgKGUua2V5ID09PSBvLmtleXMuQmFja3NwYWNlIHx8IGUua2V5ID09PSBvLmtleXMuQkFDS1NQQUNFX1NBRkFSSSA/IGkuYmVnaW4rKyA6IGUua2V5ID09PSBvLmtleXMuRGVsZXRlICYmIGkuYmVnaW4gLSAxID09PSBmICYmIChkID0gbC5leHRlbmQoe30sIGkpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmJlZ2luLS0sIGkuZW5kLS0pKSwgKGEgPSB0LnNsaWNlKCkucmV2ZXJzZSgpKS5zcGxpY2UoYS5sZW5ndGggLSBpLmJlZ2luLCBpLmJlZ2luIC0gaS5lbmQgKyAxKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IHUoYSwgbi5kaWdpdHMsIG4pLmpvaW4oXCJcIiksIGQgJiYgKGkgPSBkKSwgci50cmlnZ2VyKFwic2V0dmFsdWVcIiwgWyBhLCBpLmJlZ2luID49IGEubGVuZ3RoID8gZiArIDEgOiBpLmJlZ2luIF0pLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwU2VwYXJhdG9yOiBcIixcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWFzOiBcIm51bWVyaWNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZ2l0czogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZ2l0c09wdGlvbmFsOiAhMVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkZWNpbWFsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlhczogXCJudW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZWdlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxpYXM6IFwibnVtZXJpY1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRtb2RlOiBcIm51bWVyaWNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZ2l0czogMFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlhczogXCJudW1lcmljXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeDogXCIgJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlnaXRzOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dNaW51czogITFcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaW5kaWFubnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWFzOiBcIm51bWVyaWNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tYXNrOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiKFwiICsgZS5ncm91cFNlcGFyYXRvciArIFwiOTkpeyp8MX0oXCIgKyBlLmdyb3VwU2VwYXJhdG9yICsgXCI5OTkpezF8MX1cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cFNlcGFyYXRvcjogXCIsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByYWRpeFBvaW50OiBcIi5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZ2l0czogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZ2l0c09wdGlvbmFsOiAhMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgOTM4MDogZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgICAgICAgICB9KSwgdC5kZWZhdWx0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHZhciBhID0gKChuID0gaSg4NzQxKSkgJiYgbi5fX2VzTW9kdWxlID8gbiA6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogblxuICAgICAgICAgICAgICAgIH0pLmRlZmF1bHQgPyB3aW5kb3cgOiB7fTtcbiAgICAgICAgICAgICAgICB0LmRlZmF1bHQgPSBhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDc3NjA6IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICEwXG4gICAgICAgICAgICAgICAgfSksIHQuSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIgPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gZSA/IGUuaW5wdXRtYXNrIDogdGhpcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuaWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmlucHV0bWFzay5fdmFsdWVHZXQoKSAhPT0gdCAmJiAoZS5wbGFjZWhvbGRlciAhPT0gdCB8fCBcIlwiID09PSBlLnBsYWNlaG9sZGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gci5nZXRCdWZmZXIuY2FsbChpKS5zbGljZSgpLCBhID0gZS5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgIT09IHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSByLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xID09PSBvICYmIGEgPT09IHIuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbChpKS5qb2luKFwiXCIpID8gbiA9IFtdIDogLTEgIT09IG8gJiYgdS5jYWxsKGksIG4pLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZChlLCBuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBlLnBsYWNlaG9sZGVyICE9PSB0ICYmIChlLnBsYWNlaG9sZGVyID0gdCwgXCJcIiA9PT0gZS5wbGFjZWhvbGRlciAmJiBlLnJlbW92ZUF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIpKTtcbiAgICAgICAgICAgICAgICB9LCB0LmFwcGx5SW5wdXRWYWx1ZSA9IGMsIHQuY2hlY2tWYWwgPSBmLCB0LmNsZWFyT3B0aW9uYWxUYWlsID0gdSwgdC51bm1hc2tlZHZhbHVlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGUgPyBlLmlucHV0bWFzayA6IHRoaXMsIGkgPSB0Lm9wdHMsIG4gPSB0Lm1hc2tzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBlLmlucHV0bWFzaykgcmV0dXJuIGUudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmlucHV0bWFzayAmJiBlLmlucHV0bWFzay5yZWZyZXNoVmFsdWUgJiYgYyhlLCBlLmlucHV0bWFzay5fdmFsdWVHZXQoITApKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhID0gW10sIG8gPSBuLnZhbGlkUG9zaXRpb25zLCBzID0gMCwgbCA9IG8ubGVuZ3RoOyBzIDwgbDsgcysrKSBvW3NdICYmIG9bc10ubWF0Y2ggJiYgKDEgIT0gb1tzXS5tYXRjaC5zdGF0aWMgfHwgQXJyYXkuaXNBcnJheShuLm1ldGFkYXRhKSAmJiAhMCAhPT0gb1tzXS5nZW5lcmF0ZWRJbnB1dCkgJiYgYS5wdXNoKG9bc10uaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IDAgPT09IGEubGVuZ3RoID8gXCJcIiA6ICh0LmlzUlRMID8gYS5yZXZlcnNlKCkgOiBhKS5qb2luKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBpLm9uVW5NYXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZiA9ICh0LmlzUlRMID8gci5nZXRCdWZmZXIuY2FsbCh0KS5zbGljZSgpLnJldmVyc2UoKSA6IHIuZ2V0QnVmZmVyLmNhbGwodCkpLmpvaW4oXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB1ID0gaS5vblVuTWFzay5jYWxsKHQsIGYsIHUsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1O1xuICAgICAgICAgICAgICAgIH0sIHQud3JpdGVCdWZmZXIgPSBkO1xuICAgICAgICAgICAgICAgIHZhciBuID0gaSgyODM5KSwgYSA9IGkoNDcxMyksIHIgPSBpKDg3MTEpLCBvID0gaSg3MjE1KSwgcyA9IGkoOTg0NSksIGwgPSBpKDYwMzApO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGMoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGUgPyBlLmlucHV0bWFzayA6IHRoaXMsIG4gPSBpLm9wdHM7XG4gICAgICAgICAgICAgICAgICAgIGUuaW5wdXRtYXNrLnJlZnJlc2hWYWx1ZSA9ICExLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4ub25CZWZvcmVNYXNrICYmICh0ID0gbi5vbkJlZm9yZU1hc2suY2FsbChpLCB0LCBuKSB8fCB0KSwgXG4gICAgICAgICAgICAgICAgICAgIGYoZSwgITAsICExLCB0ID0gKHQgfHwgXCJcIikudG9TdHJpbmcoKS5zcGxpdChcIlwiKSksIGkudW5kb1ZhbHVlID0gaS5fdmFsdWVHZXQoITApLCBcbiAgICAgICAgICAgICAgICAgICAgKG4uY2xlYXJNYXNrT25Mb3N0Rm9jdXMgfHwgbi5jbGVhckluY29tcGxldGUpICYmIGUuaW5wdXRtYXNrLl92YWx1ZUdldCgpID09PSByLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoaSkuam9pbihcIlwiKSAmJiAtMSA9PT0gci5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGkpICYmIGUuaW5wdXRtYXNrLl92YWx1ZVNldChcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdShlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdCwgaSA9IGEuZ2V0TWFza1RlbXBsYXRlLmNhbGwodGhpcywgITAsIDAsICEwLCB2b2lkIDAsICEwKTsgdm9pZCAwICE9PSAodCA9IGkuc2hpZnQoKSk7ICkgZS5wdXNoKHQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZihlLCB0LCBpLCBuLCBzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gZSA/IGUuaW5wdXRtYXNrIDogdGhpcywgdSA9IGMubWFza3NldCwgZiA9IGMub3B0cywgcCA9IGMuZGVwZW5kZW5jeUxpYiwgaCA9IG4uc2xpY2UoKSwgdiA9IFwiXCIsIG0gPSAtMSwgZyA9IHZvaWQgMCwgeSA9IGYuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcjtcbiAgICAgICAgICAgICAgICAgICAgZi5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyID0gXCJcIiwgci5yZXNldE1hc2tTZXQuY2FsbChjKSwgdS50ZXN0cyA9IHt9LCBtID0gZi5yYWRpeFBvaW50ID8gci5kZXRlcm1pbmVOZXdDYXJldFBvc2l0aW9uLmNhbGwoYywge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IDBcbiAgICAgICAgICAgICAgICAgICAgfSwgITEsICExID09PSBmLl9fZmluYW5jZUlucHV0ID8gXCJyYWRpeEZvY3VzXCIgOiB2b2lkIDApLmJlZ2luIDogMCwgdS5wID0gbSwgYy5jYXJldFBvcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luOiBtXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBrID0gW10sIGIgPSBjLmNhcmV0UG9zO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaC5mb3JFYWNoKChmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBuZXcgcC5FdmVudChcIl9jaGVja3ZhbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLmtleSA9IGUsIHYgKz0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IHIuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChjLCB2b2lkIDAsICEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gYS5nZXRNYXNrVGVtcGxhdGUuY2FsbChjLCAhMCwgMCkuc2xpY2UoZSwgci5zZWVrTmV4dC5jYWxsKGMsIGUsICExLCAhMSkpLmpvaW4oXCJcIikucmVwbGFjZSgvJy9nLCBcIlwiKSwgbiA9IGkuaW5kZXhPZih0KTsgbiA+IDAgJiYgXCIgXCIgPT09IGlbbiAtIDFdOyApIG4tLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSAwID09PSBuICYmICFyLmlzTWFzay5jYWxsKGMsIGUpICYmIChhLmdldFRlc3QuY2FsbChjLCBlKS5tYXRjaC5uYXRpdmVEZWYgPT09IHQuY2hhckF0KDApIHx8ICEwID09PSBhLmdldFRlc3QuY2FsbChjLCBlKS5tYXRjaC5zdGF0aWMgJiYgYS5nZXRUZXN0LmNhbGwoYywgZSkubWF0Y2gubmF0aXZlRGVmID09PSBcIidcIiArIHQuY2hhckF0KDApIHx8IFwiIFwiID09PSBhLmdldFRlc3QuY2FsbChjLCBlKS5tYXRjaC5uYXRpdmVEZWYgJiYgKGEuZ2V0VGVzdC5jYWxsKGMsIGUgKyAxKS5tYXRjaC5uYXRpdmVEZWYgPT09IHQuY2hhckF0KDApIHx8ICEwID09PSBhLmdldFRlc3QuY2FsbChjLCBlICsgMSkubWF0Y2guc3RhdGljICYmIGEuZ2V0VGVzdC5jYWxsKGMsIGUgKyAxKS5tYXRjaC5uYXRpdmVEZWYgPT09IFwiJ1wiICsgdC5jaGFyQXQoMCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvICYmIG4gPiAwICYmICFyLmlzTWFzay5jYWxsKGMsIGUsICExLCAhMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gci5zZWVrTmV4dC5jYWxsKGMsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5jYXJldFBvcy5iZWdpbiA8IHMgJiYgKGMuY2FyZXRQb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW46IHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0obSwgdikgPyAoZyA9IGwuRXZlbnRIYW5kbGVycy5rZXlwcmVzc0V2ZW50LmNhbGwoYywgbiwgITAsICExLCBpLCBjLmNhcmV0UG9zLmJlZ2luKSkgJiYgKG0gPSBjLmNhcmV0UG9zLmJlZ2luICsgMSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9IFwiXCIpIDogZyA9IGwuRXZlbnRIYW5kbGVycy5rZXlwcmVzc0V2ZW50LmNhbGwoYywgbiwgITAsICExLCBpLCBvICsgMSksIGcgPyAodm9pZCAwICE9PSBnLnBvcyAmJiB1LnZhbGlkUG9zaXRpb25zW2cucG9zXSAmJiAhMCA9PT0gdS52YWxpZFBvc2l0aW9uc1tnLnBvc10ubWF0Y2guc3RhdGljICYmIHZvaWQgMCA9PT0gdS52YWxpZFBvc2l0aW9uc1tnLnBvc10uYWx0ZXJuYXRpb24gJiYgKGsucHVzaChnLnBvcyksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuaXNSVEwgfHwgKGcuZm9yd2FyZFBvc2l0aW9uID0gZy5wb3MgKyAxKSksIGQuY2FsbChjLCB2b2lkIDAsIHIuZ2V0QnVmZmVyLmNhbGwoYyksIGcuZm9yd2FyZFBvc2l0aW9uLCBuLCAhMSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuY2FyZXRQb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luOiBnLmZvcndhcmRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBnLmZvcndhcmRQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGIgPSBjLmNhcmV0UG9zKSA6IHZvaWQgMCA9PT0gdS52YWxpZFBvc2l0aW9uc1t0XSAmJiBoW3RdID09PSBhLmdldFBsYWNlaG9sZGVyLmNhbGwoYywgdCkgJiYgci5pc01hc2suY2FsbChjLCB0LCAhMCkgPyBjLmNhcmV0UG9zLmJlZ2luKysgOiBjLmNhcmV0UG9zID0gYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkpLCBrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4LCBQLCB3ID0gci5zZWVrTmV4dC5jYWxsKGMsIC0xLCB2b2lkIDAsICExKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghby5pc0NvbXBsZXRlLmNhbGwoYywgci5nZXRCdWZmZXIuY2FsbChjKSkgJiYgay5sZW5ndGggPD0gdyB8fCBvLmlzQ29tcGxldGUuY2FsbChjLCByLmdldEJ1ZmZlci5jYWxsKGMpKSAmJiBrLmxlbmd0aCA+IDAgJiYgay5sZW5ndGggIT09IHcgJiYgMCA9PT0ga1swXSkgZm9yICh2YXIgUyA9IHc7IHZvaWQgMCAhPT0gKHggPSBrLnNoaWZ0KCkpOyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgTSA9IG5ldyBwLkV2ZW50KFwiX2NoZWNrdmFsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoUCA9IHUudmFsaWRQb3NpdGlvbnNbeF0pLmdlbmVyYXRlZElucHV0ID0gITAsIE0ua2V5ID0gUC5pbnB1dCwgKGcgPSBsLkV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudC5jYWxsKGMsIE0sICEwLCAhMSwgaSwgUykpICYmIHZvaWQgMCAhPT0gZy5wb3MgJiYgZy5wb3MgIT09IHggJiYgdS52YWxpZFBvc2l0aW9uc1tnLnBvc10gJiYgITAgPT09IHUudmFsaWRQb3NpdGlvbnNbZy5wb3NdLm1hdGNoLnN0YXRpYykgay5wdXNoKGcucG9zKTsgZWxzZSBpZiAoIWcpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ICYmIGQuY2FsbChjLCBlLCByLmdldEJ1ZmZlci5jYWxsKGMpLCBnID8gZy5mb3J3YXJkUG9zaXRpb24gOiBjLmNhcmV0UG9zLmJlZ2luLCBzIHx8IG5ldyBwLkV2ZW50KFwiY2hlY2t2YWxcIiksIHMgJiYgKFwiaW5wdXRcIiA9PT0gcy50eXBlICYmIGMudW5kb1ZhbHVlICE9PSByLmdldEJ1ZmZlci5jYWxsKGMpLmpvaW4oXCJcIikgfHwgXCJwYXN0ZVwiID09PSBzLnR5cGUpKSwgXG4gICAgICAgICAgICAgICAgICAgIGYuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciA9IHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGQoZSwgdCwgaSwgYSwgcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IGUgPyBlLmlucHV0bWFzayA6IHRoaXMsIGMgPSBsLm9wdHMsIHUgPSBsLmRlcGVuZGVuY3lMaWI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYy5vbkJlZm9yZVdyaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IGMub25CZWZvcmVXcml0ZS5jYWxsKGwsIGEsIHQsIGksIGMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZi5yZWZyZXNoRnJvbUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGYucmVmcmVzaEZyb21CdWZmZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8ucmVmcmVzaEZyb21CdWZmZXIuY2FsbChsLCAhMCA9PT0gZCA/IGQgOiBkLnN0YXJ0LCBkLmVuZCwgZi5idWZmZXIgfHwgdCksIHQgPSByLmdldEJ1ZmZlci5jYWxsKGwsICEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBpICYmIChpID0gdm9pZCAwICE9PSBmLmNhcmV0ID8gZi5jYXJldCA6IGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGUgJiYgKGUuaW5wdXRtYXNrLl92YWx1ZVNldCh0LmpvaW4oXCJcIikpLCB2b2lkIDAgPT09IGkgfHwgdm9pZCAwICE9PSBhICYmIFwiYmx1clwiID09PSBhLnR5cGUgfHwgci5jYXJldC5jYWxsKGwsIGUsIGksIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAgIT09IGEgJiYgXCJrZXlkb3duXCIgPT09IGEudHlwZSAmJiAoYS5rZXkgPT09IG4ua2V5cy5EZWxldGUgfHwgYS5rZXkgPT09IG4ua2V5cy5CYWNrc3BhY2UpKSwgXG4gICAgICAgICAgICAgICAgICAgICEwID09PSBzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSB1KGUpLCBoID0gZS5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmlucHV0bWFzay5za2lwSW5wdXRFdmVudCA9ICEwLCBwLnRyaWdnZXIoXCJpbnB1dFwiKSwgc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaCA9PT0gci5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKGwpLmpvaW4oXCJcIikgPyBwLnRyaWdnZXIoXCJjbGVhcmVkXCIpIDogITAgPT09IG8uaXNDb21wbGV0ZS5jYWxsKGwsIHQpICYmIHAudHJpZ2dlcihcImNvbXBsZXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDIzOTQ6IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICEwXG4gICAgICAgICAgICAgICAgfSksIHQuZGVmYXVsdCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB2YXIgbiA9IGkoMTU3KSwgYSA9IG0oaSg0OTYzKSksIHIgPSBtKGkoOTM4MCkpLCBvID0gaSgyMzkxKSwgcyA9IGkoNDcxMyksIGwgPSBpKDg3MTEpLCBjID0gaSg3MjE1KSwgdSA9IGkoNzc2MCksIGYgPSBpKDk3MTYpLCBkID0gbShpKDczOTIpKSwgcCA9IG0oaSgzOTc2KSksIGggPSBtKGkoODc0MSkpO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHYoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZTtcbiAgICAgICAgICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIGUuY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBlICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBlO1xuICAgICAgICAgICAgICAgICAgICB9LCB2KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBtKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGcgPSByLmRlZmF1bHQuZG9jdW1lbnQsIHkgPSBcIl9pbnB1dG1hc2tfb3B0c1wiO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGsoZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaC5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgaykpIHJldHVybiBuZXcgayhlLCB0LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwZW5kZW5jeUxpYiA9IGEuZGVmYXVsdCwgdGhpcy5lbCA9IHZvaWQgMCwgdGhpcy5ldmVudHMgPSB7fSwgdGhpcy5tYXNrc2V0ID0gdm9pZCAwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICEwICE9PSBpICYmIChcIltvYmplY3QgT2JqZWN0XVwiID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkgPyB0ID0gZSA6ICh0ID0gdCB8fCB7fSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBlICYmICh0LmFsaWFzID0gZSkpLCB0aGlzLm9wdHMgPSBhLmRlZmF1bHQuZXh0ZW5kKCEwLCB7fSwgdGhpcy5kZWZhdWx0cywgdCksIHRoaXMubm9NYXNrc0NhY2hlID0gdCAmJiB2b2lkIDAgIT09IHQuZGVmaW5pdGlvbnMsIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyT3B0aW9ucyA9IHQgfHwge30sIGIodGhpcy5vcHRzLmFsaWFzLCB0LCB0aGlzLm9wdHMpKSwgdGhpcy5yZWZyZXNoVmFsdWUgPSAhMSwgXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZG9WYWx1ZSA9IHZvaWQgMCwgdGhpcy4kZWwgPSB2b2lkIDAsIHRoaXMuc2tpcElucHV0RXZlbnQgPSAhMSwgdGhpcy52YWxpZGF0aW9uRXZlbnQgPSAhMSwgXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlnbm9yYWJsZSA9ICExLCB0aGlzLm1heExlbmd0aCwgdGhpcy5tb3VzZUVudGVyID0gITEsIHRoaXMuY2xpY2tlZCA9IDAsIHRoaXMub3JpZ2luYWxQbGFjZWhvbGRlciA9IHZvaWQgMCwgXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ29tcG9zaW5nID0gITEsIHRoaXMuaGFzQWx0ZXJuYXRvciA9ICExO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGIoZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGsucHJvdG90eXBlLmFsaWFzZXNbZV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuID8gKG4uYWxpYXMgJiYgYihuLmFsaWFzLCB2b2lkIDAsIGkpLCBhLmRlZmF1bHQuZXh0ZW5kKCEwLCBpLCBuKSwgYS5kZWZhdWx0LmV4dGVuZCghMCwgaSwgdCksIFxuICAgICAgICAgICAgICAgICAgICAhMCkgOiAobnVsbCA9PT0gaS5tYXNrICYmIChpLm1hc2sgPSBlKSwgITEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBrLnByb3RvdHlwZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YUF0dHJpYnV0ZTogXCJkYXRhLWlucHV0bWFza1wiLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0czogcC5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uczogZC5kZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICBhbGlhc2VzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgbWFza3NDYWNoZToge30sXG4gICAgICAgICAgICAgICAgICAgIGdldCBpc1JUTCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdHMuaXNSVEwgfHwgdGhpcy5vcHRzLm51bWVyaWNJbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWFzazogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgJiYgKGUgPSBnLmdldEVsZW1lbnRCeUlkKGUpIHx8IGcucXVlcnlTZWxlY3RvckFsbChlKSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgKGUgPSBlLm5vZGVOYW1lID8gWyBlIF0gOiBBcnJheS5pc0FycmF5KGUpID8gZSA6IFtdLnNsaWNlLmNhbGwoZSkpLmZvckVhY2goKGZ1bmN0aW9uKGUsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGEuZGVmYXVsdC5leHRlbmQoITAsIHt9LCB0Lm9wdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmdW5jdGlvbihlLCB0LCBpLCBuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG8odCwgYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBcIlwiID09PSBuID8gdCA6IG4gKyBcIi1cIiArIHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSAoYSA9IHZvaWQgMCAhPT0gYSA/IGEgOiBlLmdldEF0dHJpYnV0ZShvKSkgJiYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGEgJiYgKDAgPT09IHQuaW5kZXhPZihcIm9uXCIpID8gYSA9IHIuZGVmYXVsdFthXSA6IFwiZmFsc2VcIiA9PT0gYSA/IGEgPSAhMSA6IFwidHJ1ZVwiID09PSBhICYmIChhID0gITApKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpW3RdID0gYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEwID09PSB0LmltcG9ydERhdGFBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcywgbCwgYywgdSwgZiA9IGUuZ2V0QXR0cmlidXRlKG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGYgJiYgXCJcIiAhPT0gZiAmJiAoZiA9IGYucmVwbGFjZSgvJy9nLCAnXCInKSwgbCA9IEpTT04ucGFyc2UoXCJ7XCIgKyBmICsgXCJ9XCIpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsKSBmb3IgKHUgaW4gYyA9IHZvaWQgMCwgbCkgaWYgKFwiYWxpYXNcIiA9PT0gdS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGxbdV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHMgaW4gbyhcImFsaWFzXCIsIGMpLCBpLmFsaWFzICYmIGIoaS5hbGlhcywgaSwgdCksIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobCkgZm9yICh1IGluIGMgPSB2b2lkIDAsIGwpIGlmICh1LnRvTG93ZXJDYXNlKCkgPT09IHMudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gbFt1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8ocywgYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5kZWZhdWx0LmV4dGVuZCghMCwgdCwgaSksIChcInJ0bFwiID09PSBlLmRpciB8fCB0LnJpZ2h0QWxpZ24pICYmIChlLnN0eWxlLnRleHRBbGlnbiA9IFwicmlnaHRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcInJ0bFwiID09PSBlLmRpciB8fCB0Lm51bWVyaWNJbnB1dCkgJiYgKGUuZGlyID0gXCJsdHJcIiwgZS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIiksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmlzUlRMID0gITApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoaSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oZSwgcywgYS5kZWZhdWx0LmV4dGVuZCghMCwge30sIHQudXNlck9wdGlvbnMpLCB0LmRhdGFBdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsID0gKDAsIG8uZ2VuZXJhdGVNYXNrU2V0KShzLCB0Lm5vTWFza3NDYWNoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gbCAmJiAodm9pZCAwICE9PSBlLmlucHV0bWFzayAmJiAoZS5pbnB1dG1hc2sub3B0cy5hdXRvVW5tYXNrID0gITAsIGUuaW5wdXRtYXNrLnJlbW92ZSgpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuaW5wdXRtYXNrID0gbmV3IGsodm9pZCAwLCB2b2lkIDAsICEwKSwgZS5pbnB1dG1hc2sub3B0cyA9IHMsIGUuaW5wdXRtYXNrLm5vTWFza3NDYWNoZSA9IHQubm9NYXNrc0NhY2hlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5pbnB1dG1hc2sudXNlck9wdGlvbnMgPSBhLmRlZmF1bHQuZXh0ZW5kKCEwLCB7fSwgdC51c2VyT3B0aW9ucyksIGUuaW5wdXRtYXNrLmVsID0gZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuaW5wdXRtYXNrLiRlbCA9ICgwLCBhLmRlZmF1bHQpKGUpLCBlLmlucHV0bWFzay5tYXNrc2V0ID0gbCwgYS5kZWZhdWx0LmRhdGEoZSwgeSwgdC51c2VyT3B0aW9ucyksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLm1hc2suY2FsbChlLmlucHV0bWFzaykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSwgZSAmJiBlWzBdICYmIGVbMF0uaW5wdXRtYXNrIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbjogZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgPyB0aGlzLm9wdHNbZV0gOiBcIm9iamVjdFwiID09PSB2KGUpID8gKGEuZGVmYXVsdC5leHRlbmQodGhpcy51c2VyT3B0aW9ucywgZSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbCAmJiAhMCAhPT0gdCAmJiB0aGlzLm1hc2sodGhpcy5lbCksIHRoaXMpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1bm1hc2tlZHZhbHVlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXNrc2V0ID0gdGhpcy5tYXNrc2V0IHx8ICgwLCBvLmdlbmVyYXRlTWFza1NldCkodGhpcy5vcHRzLCB0aGlzLm5vTWFza3NDYWNoZSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwID09PSB0aGlzLmVsIHx8IHZvaWQgMCAhPT0gZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdGhpcy5vcHRzLm9uQmVmb3JlTWFzayAmJiB0aGlzLm9wdHMub25CZWZvcmVNYXNrLmNhbGwodGhpcywgZSwgdGhpcy5vcHRzKSB8fCBlKS5zcGxpdChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1LmNoZWNrVmFsLmNhbGwodGhpcywgdm9pZCAwLCAhMSwgITEsIHQpLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHRoaXMub3B0cy5vbkJlZm9yZVdyaXRlICYmIHRoaXMub3B0cy5vbkJlZm9yZVdyaXRlLmNhbGwodGhpcywgdm9pZCAwLCBsLmdldEJ1ZmZlci5jYWxsKHRoaXMpLCAwLCB0aGlzLm9wdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHUudW5tYXNrZWR2YWx1ZS5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmRlZmF1bHQuZGF0YSh0aGlzLmVsLCB5LCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMub3B0cy5hdXRvVW5tYXNrID8gKDAsIHUudW5tYXNrZWR2YWx1ZSkodGhpcy5lbCkgOiB0aGlzLl92YWx1ZUdldCh0aGlzLm9wdHMuYXV0b1VubWFzayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZSAhPT0gbC5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKHRoaXMpLmpvaW4oXCJcIikgPyB0aGlzLl92YWx1ZVNldChlLCB0aGlzLm9wdHMuYXV0b1VubWFzaykgOiB0aGlzLl92YWx1ZVNldChcIlwiKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZi5FdmVudFJ1bGVyLm9mZih0aGlzLmVsKSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzLmVsKSwgXCJ2YWx1ZVwiKSAmJiB0aGlzLl9fdmFsdWVHZXQgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuZWwsIFwidmFsdWVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IHRoaXMuX192YWx1ZUdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiB0aGlzLl9fdmFsdWVTZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6IGcuX19sb29rdXBHZXR0ZXJfXyAmJiB0aGlzLmVsLl9fbG9va3VwR2V0dGVyX18oXCJ2YWx1ZVwiKSAmJiB0aGlzLl9fdmFsdWVHZXQgJiYgKHRoaXMuZWwuX19kZWZpbmVHZXR0ZXJfXyhcInZhbHVlXCIsIHRoaXMuX192YWx1ZUdldCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWwuX19kZWZpbmVTZXR0ZXJfXyhcInZhbHVlXCIsIHRoaXMuX192YWx1ZVNldCkpLCB0aGlzLmVsLmlucHV0bWFzayA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRlbXB0eW1hc2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFza3NldCA9IHRoaXMubWFza3NldCB8fCAoMCwgby5nZW5lcmF0ZU1hc2tTZXQpKHRoaXMub3B0cywgdGhpcy5ub01hc2tzQ2FjaGUpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmlzUlRMID8gbC5nZXRCdWZmZXJUZW1wbGF0ZS5jYWxsKHRoaXMpLnJldmVyc2UoKSA6IGwuZ2V0QnVmZmVyVGVtcGxhdGUuY2FsbCh0aGlzKSkuam9pbihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaGFzTWFza2VkVmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLm9wdHMuYXV0b1VubWFzaztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXNrc2V0ID0gdGhpcy5tYXNrc2V0IHx8ICgwLCBvLmdlbmVyYXRlTWFza1NldCkodGhpcy5vcHRzLCB0aGlzLm5vTWFza3NDYWNoZSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgYy5pc0NvbXBsZXRlLmNhbGwodGhpcywgbC5nZXRCdWZmZXIuY2FsbCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldG1ldGFkYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hc2tzZXQgPSB0aGlzLm1hc2tzZXQgfHwgKDAsIG8uZ2VuZXJhdGVNYXNrU2V0KSh0aGlzLm9wdHMsIHRoaXMubm9NYXNrc0NhY2hlKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMubWFza3NldC5tZXRhZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHMuZ2V0TWFza1RlbXBsYXRlLmNhbGwodGhpcywgITAsIDAsICExKS5qb2luKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hc2tzZXQubWV0YWRhdGEuZm9yRWFjaCgoZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5tYXNrICE9PSBlIHx8IChlID0gdCwgITEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSwgZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hc2tzZXQubWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hc2tzZXQgPSB0aGlzLm1hc2tzZXQgfHwgKDAsIG8uZ2VuZXJhdGVNYXNrU2V0KSh0aGlzLm9wdHMsIHRoaXMubm9NYXNrc0NhY2hlKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSAoXCJmdW5jdGlvblwiID09IHR5cGVvZiB0aGlzLm9wdHMub25CZWZvcmVNYXNrICYmIHRoaXMub3B0cy5vbkJlZm9yZU1hc2suY2FsbCh0aGlzLCBlLCB0aGlzLm9wdHMpIHx8IGUpLnNwbGl0KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUuY2hlY2tWYWwuY2FsbCh0aGlzLCB2b2lkIDAsICEwLCAhMSwgdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgZSA9IHRoaXMuaXNSVEwgPyBsLmdldEJ1ZmZlci5jYWxsKHRoaXMpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBsLmdldEJ1ZmZlci5jYWxsKHRoaXMpLmpvaW4oXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gbC5nZXRCdWZmZXIuY2FsbCh0aGlzKSwgbiA9IGwuZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24uY2FsbCh0aGlzKSwgYSA9IGkubGVuZ3RoIC0gMTsgYSA+IG4gJiYgIWwuaXNNYXNrLmNhbGwodGhpcywgYSk7IGEtLSkgO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuc3BsaWNlKG4sIGEgKyAxIC0gbiksIGMuaXNDb21wbGV0ZS5jYWxsKHRoaXMsIGkpICYmIGUgPT09ICh0aGlzLmlzUlRMID8gbC5nZXRCdWZmZXIuY2FsbCh0aGlzKS5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpIDogbC5nZXRCdWZmZXIuY2FsbCh0aGlzKS5qb2luKFwiXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hc2tzZXQgPSB0aGlzLm1hc2tzZXQgfHwgKDAsIG8uZ2VuZXJhdGVNYXNrU2V0KSh0aGlzLm9wdHMsIHRoaXMubm9NYXNrc0NhY2hlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdGhpcy5vcHRzLm9uQmVmb3JlTWFzayAmJiB0aGlzLm9wdHMub25CZWZvcmVNYXNrLmNhbGwodGhpcywgZSwgdGhpcy5vcHRzKSB8fCBlKS5zcGxpdChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHUuY2hlY2tWYWwuY2FsbCh0aGlzLCB2b2lkIDAsICEwLCAhMSwgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHRoaXMuaXNSVEwgPyBsLmdldEJ1ZmZlci5jYWxsKHRoaXMpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBsLmdldEJ1ZmZlci5jYWxsKHRoaXMpLmpvaW4oXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdCA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogdGhpcy5nZXRtZXRhZGF0YSgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IDogbjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWwgJiYgKDAsIGEuZGVmYXVsdCkodGhpcy5lbCkudHJpZ2dlcihcInNldHZhbHVlXCIsIFsgZSBdKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYW5hbHlzZU1hc2s6IG8uYW5hbHlzZU1hc2tcbiAgICAgICAgICAgICAgICB9LCBrLmV4dGVuZERlZmF1bHRzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBhLmRlZmF1bHQuZXh0ZW5kKCEwLCBrLnByb3RvdHlwZS5kZWZhdWx0cywgZSk7XG4gICAgICAgICAgICAgICAgfSwgay5leHRlbmREZWZpbml0aW9ucyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYS5kZWZhdWx0LmV4dGVuZCghMCwgay5wcm90b3R5cGUuZGVmaW5pdGlvbnMsIGUpO1xuICAgICAgICAgICAgICAgIH0sIGsuZXh0ZW5kQWxpYXNlcyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYS5kZWZhdWx0LmV4dGVuZCghMCwgay5wcm90b3R5cGUuYWxpYXNlcywgZSk7XG4gICAgICAgICAgICAgICAgfSwgay5mb3JtYXQgPSBmdW5jdGlvbihlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrKHQpLmZvcm1hdChlLCBpKTtcbiAgICAgICAgICAgICAgICB9LCBrLnVubWFzayA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsodCkudW5tYXNrZWR2YWx1ZShlKTtcbiAgICAgICAgICAgICAgICB9LCBrLmlzVmFsaWQgPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrKHQpLmlzVmFsaWQoZSk7XG4gICAgICAgICAgICAgICAgfSwgay5yZW1vdmUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgJiYgKGUgPSBnLmdldEVsZW1lbnRCeUlkKGUpIHx8IGcucXVlcnlTZWxlY3RvckFsbChlKSksIChlID0gZS5ub2RlTmFtZSA/IFsgZSBdIDogZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5pbnB1dG1hc2sgJiYgZS5pbnB1dG1hc2sucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9LCBrLnNldFZhbHVlID0gZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09IHR5cGVvZiBlICYmIChlID0gZy5nZXRFbGVtZW50QnlJZChlKSB8fCBnLnF1ZXJ5U2VsZWN0b3JBbGwoZSkpLCAoZSA9IGUubm9kZU5hbWUgPyBbIGUgXSA6IGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuaW5wdXRtYXNrID8gZS5pbnB1dG1hc2suc2V0VmFsdWUodCkgOiAoMCwgYS5kZWZhdWx0KShlKS50cmlnZ2VyKFwic2V0dmFsdWVcIiwgWyB0IF0pO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSwgay5kZXBlbmRlbmN5TGliID0gYS5kZWZhdWx0LCByLmRlZmF1bHQuSW5wdXRtYXNrID0gaztcbiAgICAgICAgICAgICAgICB2YXIgeCA9IGs7XG4gICAgICAgICAgICAgICAgdC5kZWZhdWx0ID0geDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA1Mjk2OiBmdW5jdGlvbihlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBlO1xuICAgICAgICAgICAgICAgICAgICB9IDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgZS5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIGUgIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIGU7XG4gICAgICAgICAgICAgICAgICAgIH0sIG4oZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBhID0gaChpKDkzODApKSwgciA9IGgoaSgyMzk0KSksIG8gPSBoKGkoODc0MSkpO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHMoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gdFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuZW51bWVyYWJsZSA9IGEuZW51bWVyYWJsZSB8fCAhMSwgYS5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIGEgJiYgKGEud3JpdGFibGUgPSAhMCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIChyID0gYS5rZXksIG8gPSB2b2lkIDAsIG8gPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IG4oZSkgfHwgbnVsbCA9PT0gZSkgcmV0dXJuIGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBlW1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGkuY2FsbChlLCB0IHx8IFwiZGVmYXVsdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IG4oYSkpIHJldHVybiBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXCJzdHJpbmdcIiA9PT0gdCA/IFN0cmluZyA6IE51bWJlcikoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KHIsIFwic3RyaW5nXCIpLCBcInN5bWJvbFwiID09PSBuKG8pID8gbyA6IFN0cmluZyhvKSksIGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciByLCBvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBsKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBmKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpLCBhID0gcChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBwKHRoaXMpLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBSZWZsZWN0LmNvbnN0cnVjdChhLCBhcmd1bWVudHMsIHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGkgPSBhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIChcIm9iamVjdFwiID09PSBuKHQpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdCkpIHJldHVybiB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IHQpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBlKSB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KHRoaXMsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIE1hcCA/IG5ldyBNYXAgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGUgfHwgKGkgPSBlLCAtMSA9PT0gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChpKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSkpIHJldHVybiBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQuaGFzKGUpKSByZXR1cm4gdC5nZXQoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5zZXQoZSwgbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBuKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1KGUsIGFyZ3VtZW50cywgcCh0aGlzKS5jb25zdHJ1Y3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGUucHJvdG90eXBlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgZChuLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgYyhlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdShlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1ID0gZigpID8gUmVmbGVjdC5jb25zdHJ1Y3QuYmluZCgpIDogZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBbIG51bGwgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG4ucHVzaC5hcHBseShuLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gbmV3IChGdW5jdGlvbi5iaW5kLmFwcGx5KGUsIG4pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpICYmIGQoYSwgaS5wcm90b3R5cGUpLCBhO1xuICAgICAgICAgICAgICAgICAgICB9LCB1LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGYoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiBSZWZsZWN0IHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuICExO1xuICAgICAgICAgICAgICAgICAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuICExO1xuICAgICAgICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBQcm94eSkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgKGZ1bmN0aW9uKCkge30pKSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgITA7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuX19wcm90b19fID0gdCwgZTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZChlLCB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHAoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGgoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdiA9IGEuZGVmYXVsdC5kb2N1bWVudDtcbiAgICAgICAgICAgICAgICBpZiAoby5kZWZhdWx0ICYmIHYgJiYgdi5oZWFkICYmIHYuaGVhZC5hdHRhY2hTaGFkb3cgJiYgYS5kZWZhdWx0LmN1c3RvbUVsZW1lbnRzICYmIHZvaWQgMCA9PT0gYS5kZWZhdWx0LmN1c3RvbUVsZW1lbnRzLmdldChcImlucHV0LW1hc2tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAhZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIHQgJiYgbnVsbCAhPT0gdCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh0ICYmIHQucHJvdG90eXBlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogITFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgdCAmJiBkKGUsIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfShvLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0LCBpLCBuLCBhID0gbChvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG8oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIHQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0odGhpcywgbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSAoZSA9IGEuY2FsbCh0aGlzKSkuZ2V0QXR0cmlidXRlTmFtZXMoKSwgaSA9IGUuYXR0YWNoU2hhZG93KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogXCJjbG9zZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBuID0gdi5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcyBpbiBuLnR5cGUgPSBcInRleHRcIiwgaS5hcHBlbmRDaGlsZChuKSwgdCkgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHMpICYmIG4uc2V0QXR0cmlidXRlKHRbc10sIGUuZ2V0QXR0cmlidXRlKHRbc10pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IG5ldyByLmRlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGwuZGF0YUF0dHJpYnV0ZSA9IFwiXCIsIGwubWFzayhuKSwgbi5pbnB1dG1hc2suc2hhZG93Um9vdCA9IGksIGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdCA9IG8sIGkgJiYgcyh0LnByb3RvdHlwZSwgaSksIG4gJiYgcyh0LCBuKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwicHJvdG90eXBlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogITFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB0O1xuICAgICAgICAgICAgICAgICAgICB9KGMoSFRNTEVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgYS5kZWZhdWx0LmN1c3RvbUVsZW1lbnRzLmRlZmluZShcImlucHV0LW1hc2tcIiwgbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDI4Mzk6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBpKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSByZXR1cm4gZTtcbiAgICAgICAgICAgICAgICAgICAgfShlKSB8fCBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IG51bGwgPT0gZSA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgZVtTeW1ib2wuaXRlcmF0b3JdIHx8IGVbXCJAQGl0ZXJhdG9yXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuLCBhLCByLCBvLCBzID0gW10sIGwgPSAhMCwgYyA9ICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyID0gKGkgPSBpLmNhbGwoZSkpLm5leHQsIDAgPT09IHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QoaSkgIT09IGkpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGZvciAoOyEobCA9IChuID0gci5jYWxsKGkpKS5kb25lKSAmJiAocy5wdXNoKG4udmFsdWUpLCBzLmxlbmd0aCAhPT0gdCk7IGwgPSAhMCkgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9ICEwLCBhID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsICYmIG51bGwgIT0gaS5yZXR1cm4gJiYgKG8gPSBpLnJldHVybigpLCBPYmplY3QobykgIT09IG8pKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYykgdGhyb3cgYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfShlLCB0KSB8fCBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWUpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBlKSByZXR1cm4gbihlLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiT2JqZWN0XCIgPT09IGkgJiYgZS5jb25zdHJ1Y3RvciAmJiAoaSA9IGUuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJNYXBcIiA9PT0gaSB8fCBcIlNldFwiID09PSBpKSByZXR1cm4gQXJyYXkuZnJvbShlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIkFyZ3VtZW50c1wiID09PSBpIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KGkpKSByZXR1cm4gbihlLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgfShlLCB0KSB8fCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG4gICAgICAgICAgICAgICAgICAgIH0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIChudWxsID09IHQgfHwgdCA+IGUubGVuZ3RoKSAmJiAodCA9IGUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSBuZXcgQXJyYXkodCk7IGkgPCB0OyBpKyspIG5baV0gPSBlW2ldO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAhMFxuICAgICAgICAgICAgICAgIH0pLCB0LmtleXMgPSB0LmtleUNvZGUgPSB2b2lkIDAsIHQudG9LZXkgPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByW2VdIHx8ICh0ID8gU3RyaW5nLmZyb21DaGFyQ29kZShlKSA6IFN0cmluZy5mcm9tQ2hhckNvZGUoZSkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgfSwgdC50b0tleUNvZGUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhW2VdO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIEFsdEdyYXBoOiAxOCxcbiAgICAgICAgICAgICAgICAgICAgQXJyb3dEb3duOiA0MCxcbiAgICAgICAgICAgICAgICAgICAgQXJyb3dMZWZ0OiAzNyxcbiAgICAgICAgICAgICAgICAgICAgQXJyb3dSaWdodDogMzksXG4gICAgICAgICAgICAgICAgICAgIEFycm93VXA6IDM4LFxuICAgICAgICAgICAgICAgICAgICBCYWNrc3BhY2U6IDgsXG4gICAgICAgICAgICAgICAgICAgIEJBQ0tTUEFDRV9TQUZBUkk6IDEyNyxcbiAgICAgICAgICAgICAgICAgICAgQ2Fwc0xvY2s6IDIwLFxuICAgICAgICAgICAgICAgICAgICBEZWxldGU6IDQ2LFxuICAgICAgICAgICAgICAgICAgICBFbmQ6IDM1LFxuICAgICAgICAgICAgICAgICAgICBFbnRlcjogMTMsXG4gICAgICAgICAgICAgICAgICAgIEVzY2FwZTogMjcsXG4gICAgICAgICAgICAgICAgICAgIEhvbWU6IDM2LFxuICAgICAgICAgICAgICAgICAgICBJbnNlcnQ6IDQ1LFxuICAgICAgICAgICAgICAgICAgICBQYWdlRG93bjogMzQsXG4gICAgICAgICAgICAgICAgICAgIFBhZ2VVcDogMzMsXG4gICAgICAgICAgICAgICAgICAgIFNwYWNlOiAzMixcbiAgICAgICAgICAgICAgICAgICAgVGFiOiA5LFxuICAgICAgICAgICAgICAgICAgICBjOiA2NyxcbiAgICAgICAgICAgICAgICAgICAgeDogODgsXG4gICAgICAgICAgICAgICAgICAgIHo6IDkwLFxuICAgICAgICAgICAgICAgICAgICBTaGlmdDogMTYsXG4gICAgICAgICAgICAgICAgICAgIENvbnRyb2w6IDE3LFxuICAgICAgICAgICAgICAgICAgICBBbHQ6IDE4LFxuICAgICAgICAgICAgICAgICAgICBQYXVzZTogMTksXG4gICAgICAgICAgICAgICAgICAgIE1ldGFfTEVGVDogOTEsXG4gICAgICAgICAgICAgICAgICAgIE1ldGFfUklHSFQ6IDkyLFxuICAgICAgICAgICAgICAgICAgICBDb250ZXh0TWVudTogOTMsXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3M6IDIyOSxcbiAgICAgICAgICAgICAgICAgICAgVW5pZGVudGlmaWVkOiAyMjksXG4gICAgICAgICAgICAgICAgICAgIEYxOiAxMTIsXG4gICAgICAgICAgICAgICAgICAgIEYyOiAxMTMsXG4gICAgICAgICAgICAgICAgICAgIEYzOiAxMTQsXG4gICAgICAgICAgICAgICAgICAgIEY0OiAxMTUsXG4gICAgICAgICAgICAgICAgICAgIEY1OiAxMTYsXG4gICAgICAgICAgICAgICAgICAgIEY2OiAxMTcsXG4gICAgICAgICAgICAgICAgICAgIEY3OiAxMTgsXG4gICAgICAgICAgICAgICAgICAgIEY4OiAxMTksXG4gICAgICAgICAgICAgICAgICAgIEY5OiAxMjAsXG4gICAgICAgICAgICAgICAgICAgIEYxMDogMTIxLFxuICAgICAgICAgICAgICAgICAgICBGMTE6IDEyMixcbiAgICAgICAgICAgICAgICAgICAgRjEyOiAxMjNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHQua2V5Q29kZSA9IGE7XG4gICAgICAgICAgICAgICAgdmFyIHIgPSBPYmplY3QuZW50cmllcyhhKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBpKHQsIDIpLCBhID0gblswXSwgciA9IG5bMV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlW3JdID0gdm9pZCAwID09PSBlW3JdID8gYSA6IGVbcl0sIGU7XG4gICAgICAgICAgICAgICAgfSksIHt9KSwgbyA9IE9iamVjdC5lbnRyaWVzKGEpLnJlZHVjZSgoZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGkodCwgMiksIGEgPSBuWzBdO1xuICAgICAgICAgICAgICAgICAgICBuWzFdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZVthXSA9IFwiU3BhY2VcIiA9PT0gYSA/IFwiIFwiIDogYSwgZTtcbiAgICAgICAgICAgICAgICB9KSwge30pO1xuICAgICAgICAgICAgICAgIHQua2V5cyA9IG87XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgMjM5MTogZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgICAgICAgICB9KSwgdC5hbmFseXNlTWFzayA9IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG4sIG8sIHMsIGwsIGMsIHUsIGYgPSAvKD86Wz8qK118XFx7WzAtOSsqXSsoPzosWzAtOSsqXSopPyg/OlxcfFswLTkrKl0qKT9cXH0pfFteLj8qK14ke1tdKCl8XFxcXF0rfC4vZywgZCA9IC9cXFtcXF4/XT8oPzpbXlxcXFxcXF1dK3xcXFxcW1xcU1xcc10/KSpdP3xcXFxcKD86MCg/OlswLTNdWzAtN117MCwyfXxbNC03XVswLTddPyk/fFsxLTldWzAtOV0qfHhbMC05QS1GYS1mXXsyfXx1WzAtOUEtRmEtZl17NH18Y1tBLVphLXpdfFtcXFNcXHNdPyl8XFwoKD86XFw/Wzo9IV0/KT98KD86Wz8qK118XFx7WzAtOV0rKD86LFswLTldKik/XFx9KVxcPz98W14uPyorXiR7WygpfFxcXFxdK3wuL2csIHAgPSAhMSwgaCA9IG5ldyBhLmRlZmF1bHQsIHYgPSBbXSwgbSA9IFtdLCBnID0gITE7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHkoZSwgbiwgYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYSA9IHZvaWQgMCAhPT0gYSA/IGEgOiBlLm1hdGNoZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBlLm1hdGNoZXNbYSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoMCA9PT0gbi5pbmRleE9mKFwiW1wiKSB8fCBwICYmIC9cXFxcZHxcXFxcc3xcXFxcd3xcXFxccC9pLnRlc3QobikgfHwgXCIuXCIgPT09IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBpLmNhc2luZyA/IFwiaVwiIDogXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL15cXFxccFxcey4qfSQvaS50ZXN0KG4pICYmIChzICs9IFwidVwiKSwgZS5tYXRjaGVzLnNwbGljZShhKyssIDAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuOiBuZXcgUmVnRXhwKG4sIHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrTWFya2VyOiB2b2lkIDAgPT09IG8gPyBcIm1hc3RlclwiIDogby5kZWYgIT09IG4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWY6IG4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogdm9pZCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRGVmOiBuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBwICYmIChuID0gbltuLmxlbmd0aCAtIDFdKSwgbi5zcGxpdChcIlwiKS5mb3JFYWNoKChmdW5jdGlvbih0LCBuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBlLm1hdGNoZXNbYSAtIDFdLCBlLm1hdGNoZXMuc3BsaWNlKGErKywgMCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm46IC9bYS16XS9pLnRlc3QoaS5zdGF0aWNEZWZpbml0aW9uU3ltYm9sIHx8IHQpID8gbmV3IFJlZ0V4cChcIltcIiArIChpLnN0YXRpY0RlZmluaXRpb25TeW1ib2wgfHwgdCkgKyBcIl1cIiwgaS5jYXNpbmcgPyBcImlcIiA6IFwiXCIpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpYzogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbGl0eTogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdCbG9ja01hcmtlcjogdm9pZCAwID09PSBvID8gXCJtYXN0ZXJcIiA6IG8uZGVmICE9PSB0ICYmICEwICE9PSBvLnN0YXRpYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2luZzogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogaS5zdGF0aWNEZWZpbml0aW9uU3ltYm9sIHx8IHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogdm9pZCAwICE9PSBpLnN0YXRpY0RlZmluaXRpb25TeW1ib2wgPyB0IDogdm9pZCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRGVmOiAocCA/IFwiJ1wiIDogXCJcIikgKyB0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsID0gaS5kZWZpbml0aW9ucyAmJiBpLmRlZmluaXRpb25zW25dIHx8IGkudXNlUHJvdG90eXBlRGVmaW5pdGlvbnMgJiYgci5kZWZhdWx0LnByb3RvdHlwZS5kZWZpbml0aW9uc1tuXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsICYmICFwID8gZS5tYXRjaGVzLnNwbGljZShhKyssIDAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm46IGwudmFsaWRhdG9yID8gXCJzdHJpbmdcIiA9PSB0eXBlb2YgbC52YWxpZGF0b3IgPyBuZXcgUmVnRXhwKGwudmFsaWRhdG9yLCBpLmNhc2luZyA/IFwiaVwiIDogXCJcIikgOiBuZXcgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlc3QgPSBsLnZhbGlkYXRvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IG5ldyBSZWdFeHAoXCIuXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWM6IGwuc3RhdGljIHx8ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbGl0eTogbC5vcHRpb25hbCB8fCAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmT3B0aW9uYWxpdHk6IGwub3B0aW9uYWwgfHwgITEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrTWFya2VyOiB2b2lkIDAgPT09IG8gfHwgbC5vcHRpb25hbCA/IFwibWFzdGVyXCIgOiBvLmRlZiAhPT0gKGwuZGVmaW5pdGlvblN5bWJvbCB8fCBuKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBsLmNhc2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiBsLmRlZmluaXRpb25TeW1ib2wgfHwgbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGwucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZURlZjogbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVkOiBsLmdlbmVyYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDogKGUubWF0Y2hlcy5zcGxpY2UoYSsrLCAwLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuOiAvW2Etel0vaS50ZXN0KGkuc3RhdGljRGVmaW5pdGlvblN5bWJvbCB8fCBuKSA/IG5ldyBSZWdFeHAoXCJbXCIgKyAoaS5zdGF0aWNEZWZpbml0aW9uU3ltYm9sIHx8IG4pICsgXCJdXCIsIGkuY2FzaW5nID8gXCJpXCIgOiBcIlwiKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpYzogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2tNYXJrZXI6IHZvaWQgMCA9PT0gbyA/IFwibWFzdGVyXCIgOiBvLmRlZiAhPT0gbiAmJiAhMCAhPT0gby5zdGF0aWMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2luZzogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiBpLnN0YXRpY0RlZmluaXRpb25TeW1ib2wgfHwgbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHZvaWQgMCAhPT0gaS5zdGF0aWNEZWZpbml0aW9uU3ltYm9sID8gbiA6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRGVmOiAocCA/IFwiJ1wiIDogXCJcIikgKyBuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIHAgPSAhMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeShsID0gdlt2Lmxlbmd0aCAtIDFdLCBvKSwgbC5pc0FsdGVybmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IHYucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgYy5tYXRjaGVzLmxlbmd0aDsgZSsrKSBjLm1hdGNoZXNbZV0uaXNHcm91cCAmJiAoYy5tYXRjaGVzW2VdLmlzR3JvdXAgPSAhMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYubGVuZ3RoID4gMCA/IChsID0gdlt2Lmxlbmd0aCAtIDFdKS5tYXRjaGVzLnB1c2goYykgOiBoLm1hdGNoZXMucHVzaChjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeShoLCBvKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBiKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gbmV3IGEuZGVmYXVsdCghMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5vcGVuR3JvdXAgPSAhMSwgdC5tYXRjaGVzID0gZSwgdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB4KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzID0gdi5wb3AoKSkub3Blbkdyb3VwID0gITEsIHZvaWQgMCAhPT0gcykgaWYgKHYubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobCA9IHZbdi5sZW5ndGggLSAxXSkubWF0Y2hlcy5wdXNoKHMpLCBsLmlzQWx0ZXJuYXRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBlID0gKGMgPSB2LnBvcCgpKS5tYXRjaGVzWzBdLm1hdGNoZXMgPyBjLm1hdGNoZXNbMF0ubWF0Y2hlcy5sZW5ndGggOiAxLCB0ID0gMDsgdCA8IGMubWF0Y2hlcy5sZW5ndGg7IHQrKykgYy5tYXRjaGVzW3RdLmlzR3JvdXAgPSAhMSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMubWF0Y2hlc1t0XS5hbHRlcm5hdG9yR3JvdXAgPSAhMSwgbnVsbCA9PT0gaS5rZWVwU3RhdGljICYmIGUgPCAoYy5tYXRjaGVzW3RdLm1hdGNoZXMgPyBjLm1hdGNoZXNbdF0ubWF0Y2hlcy5sZW5ndGggOiAxKSAmJiAoaS5rZWVwU3RhdGljID0gITApLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IGMubWF0Y2hlc1t0XS5tYXRjaGVzID8gYy5tYXRjaGVzW3RdLm1hdGNoZXMubGVuZ3RoIDogMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5sZW5ndGggPiAwID8gKGwgPSB2W3YubGVuZ3RoIC0gMV0pLm1hdGNoZXMucHVzaChjKSA6IGgubWF0Y2hlcy5wdXNoKGMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBoLm1hdGNoZXMucHVzaChzKTsgZWxzZSBrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gUChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGUucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5pc1F1YW50aWZpZXIgJiYgKHQgPSBiKFsgZS5wb3AoKSwgdCBdKSksIHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdCAmJiAoaS5vcHRpb25hbG1hcmtlclswXSA9IHZvaWQgMCwgaS5vcHRpb25hbG1hcmtlclsxXSA9IHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoO24gPSB0ID8gZC5leGVjKGUpIDogZi5leGVjKGUpOyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvID0gblswXSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoby5jaGFyQXQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI/XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBcInswLDF9XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiK1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIipcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA9IFwie1wiICsgbyArIFwifVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDAgPT09IHYubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IGIoaC5tYXRjaGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcub3Blbkdyb3VwID0gITAsIHYucHVzaCh3KSwgaC5tYXRjaGVzID0gW10sIGcgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJcXFxcZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID0gXCJbMC05XVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlxcXFxwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gKz0gZC5leGVjKGUpWzBdLCBvICs9IGQuZXhlYyhlKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocCkgaygpOyBlbHNlIHN3aXRjaCAoby5jaGFyQXQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIl5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0IHx8IGsoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGkuZXNjYXBlQ2hhcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gITAsIHQgJiYgaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgaS5vcHRpb25hbG1hcmtlclsxXTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBpLmdyb3VwbWFya2VyWzFdOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGkub3B0aW9uYWxtYXJrZXJbMF06XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5wdXNoKG5ldyBhLmRlZmF1bHQoITEsICEwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBpLmdyb3VwbWFya2VyWzBdOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYucHVzaChuZXcgYS5kZWZhdWx0KCEwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBpLnF1YW50aWZpZXJtYXJrZXJbMF06XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFMgPSBuZXcgYS5kZWZhdWx0KCExLCAhMSwgITApLCBNID0gKG8gPSBvLnJlcGxhY2UoL1t7fT9dL2csIFwiXCIpKS5zcGxpdChcInxcIiksIF8gPSBNWzBdLnNwbGl0KFwiLFwiKSwgTyA9IGlzTmFOKF9bMF0pID8gX1swXSA6IHBhcnNlSW50KF9bMF0pLCBFID0gMSA9PT0gXy5sZW5ndGggPyBPIDogaXNOYU4oX1sxXSkgPyBfWzFdIDogcGFyc2VJbnQoX1sxXSksIFQgPSBpc05hTihNWzFdKSA/IE1bMV0gOiBwYXJzZUludChNWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIipcIiAhPT0gTyAmJiBcIitcIiAhPT0gTyB8fCAoTyA9IFwiKlwiID09PSBFID8gMCA6IDEpLCBTLnF1YW50aWZpZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogTyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqaXQ6IFRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqID0gdi5sZW5ndGggPiAwID8gdlt2Lmxlbmd0aCAtIDFdLm1hdGNoZXMgOiBoLm1hdGNoZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG4gPSBqLnBvcCgpKS5pc0dyb3VwIHx8IChuID0gYihbIG4gXSkpLCBqLnB1c2gobiksIGoucHVzaChTKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGkuYWx0ZXJuYXRvcm1hcmtlcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBBID0gKGwgPSB2W3YubGVuZ3RoIC0gMV0pLm1hdGNoZXNbbC5tYXRjaGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0gbC5vcGVuR3JvdXAgJiYgKHZvaWQgMCA9PT0gQS5tYXRjaGVzIHx8ICExID09PSBBLmlzR3JvdXAgJiYgITEgPT09IEEuaXNBbHRlcm5hdG9yKSA/IHYucG9wKCkgOiBQKGwubWF0Y2hlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHUgPSBQKGgubWF0Y2hlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHUuaXNBbHRlcm5hdG9yKSB2LnB1c2godSk7IGVsc2UgaWYgKHUuYWx0ZXJuYXRvckdyb3VwID8gKGMgPSB2LnBvcCgpLCB1LmFsdGVybmF0b3JHcm91cCA9ICExKSA6IGMgPSBuZXcgYS5kZWZhdWx0KCExLCAhMSwgITEsICEwKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5tYXRjaGVzLnB1c2godSksIHYucHVzaChjKSwgdS5vcGVuR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdS5vcGVuR3JvdXAgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEQgPSBuZXcgYS5kZWZhdWx0KCEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRC5hbHRlcm5hdG9yR3JvdXAgPSAhMCwgdi5wdXNoKEQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBnICYmIHgoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7di5sZW5ndGggPiAwOyApIHMgPSB2LnBvcCgpLCBoLm1hdGNoZXMucHVzaChzKTtcbiAgICAgICAgICAgICAgICAgICAgaC5tYXRjaGVzLmxlbmd0aCA+IDAgJiYgKCFmdW5jdGlvbiBlKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gJiYgbi5tYXRjaGVzICYmIG4ubWF0Y2hlcy5mb3JFYWNoKChmdW5jdGlvbihhLCByKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBuLm1hdGNoZXNbciArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh2b2lkIDAgPT09IG8gfHwgdm9pZCAwID09PSBvLm1hdGNoZXMgfHwgITEgPT09IG8uaXNRdWFudGlmaWVyKSAmJiBhICYmIGEuaXNHcm91cCAmJiAoYS5pc0dyb3VwID0gITEsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgfHwgKHkoYSwgaS5ncm91cG1hcmtlclswXSwgMCksICEwICE9PSBhLm9wZW5Hcm91cCAmJiB5KGEsIGkuZ3JvdXBtYXJrZXJbMV0pKSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0oaCksIG0ucHVzaChoKSk7XG4gICAgICAgICAgICAgICAgICAgIChpLm51bWVyaWNJbnB1dCB8fCBpLmlzUlRMKSAmJiBmdW5jdGlvbiBlKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gaW4gdC5tYXRjaGVzID0gdC5tYXRjaGVzLnJldmVyc2UoKSwgdC5tYXRjaGVzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQubWF0Y2hlcywgbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHBhcnNlSW50KG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Lm1hdGNoZXNbbl0uaXNRdWFudGlmaWVyICYmIHQubWF0Y2hlc1thICsgMV0gJiYgdC5tYXRjaGVzW2EgKyAxXS5pc0dyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByID0gdC5tYXRjaGVzW25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lm1hdGNoZXMuc3BsaWNlKG4sIDEpLCB0Lm1hdGNoZXMuc3BsaWNlKGEgKyAxLCAwLCByKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSB0Lm1hdGNoZXNbbl0ubWF0Y2hlcyA/IHQubWF0Y2hlc1tuXSA9IGUodC5tYXRjaGVzW25dKSA6IHQubWF0Y2hlc1tuXSA9ICgobyA9IHQubWF0Y2hlc1tuXSkgPT09IGkub3B0aW9uYWxtYXJrZXJbMF0gPyBvID0gaS5vcHRpb25hbG1hcmtlclsxXSA6IG8gPT09IGkub3B0aW9uYWxtYXJrZXJbMV0gPyBvID0gaS5vcHRpb25hbG1hcmtlclswXSA6IG8gPT09IGkuZ3JvdXBtYXJrZXJbMF0gPyBvID0gaS5ncm91cG1hcmtlclsxXSA6IG8gPT09IGkuZ3JvdXBtYXJrZXJbMV0gJiYgKG8gPSBpLmdyb3VwbWFya2VyWzBdKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgICAgICAgICB9KG1bMF0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgICAgICAgICB9LCB0LmdlbmVyYXRlTWFza1NldCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGEoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSB0LnJlcGVhdCwgbiA9IHQuZ3JvdXBtYXJrZXIsIGEgPSB0LnF1YW50aWZpZXJtYXJrZXIsIHIgPSB0LmtlZXBTdGF0aWM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDAgfHwgXCIqXCIgPT09IGkgfHwgXCIrXCIgPT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IFwiKlwiID09PSBpID8gMCA6IFwiK1wiID09PSBpID8gMSA6IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IG5bMF0gKyBlICsgblsxXSArIGFbMF0gKyBsICsgXCIsXCIgKyBpICsgYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghMCA9PT0gcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gZS5tYXRjaChuZXcgUmVnRXhwKFwiKC4pXFxcXFsoW15cXFxcXV0qKVxcXFxdXCIsIFwiZ1wiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYyAmJiBjLmZvckVhY2goKGZ1bmN0aW9uKHQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSByZXR1cm4gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oZSkgfHwgZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gbnVsbCA9PSBlID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBlW1N5bWJvbC5pdGVyYXRvcl0gfHwgZVtcIkBAaXRlcmF0b3JcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiwgYSwgciwgbywgcyA9IFtdLCBsID0gITAsIGMgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyID0gKGkgPSBpLmNhbGwoZSkpLm5leHQsIDAgPT09IHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0KGkpICE9PSBpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9ICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGZvciAoOyEobCA9IChuID0gci5jYWxsKGkpKS5kb25lKSAmJiAocy5wdXNoKG4udmFsdWUpLCBzLmxlbmd0aCAhPT0gdCk7IGwgPSAhMCkgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gITAsIGEgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWwgJiYgbnVsbCAhPSBpLnJldHVybiAmJiAobyA9IGkucmV0dXJuKCksIE9iamVjdChvKSAhPT0gbykpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMpIHRocm93IGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfShlLCB0KSB8fCBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHJldHVybiBzKGUsIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIk9iamVjdFwiID09PSBpICYmIGUuY29uc3RydWN0b3IgJiYgKGkgPSBlLmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIk1hcFwiID09PSBpIHx8IFwiU2V0XCIgPT09IGkpIHJldHVybiBBcnJheS5mcm9tKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIkFyZ3VtZW50c1wiID09PSBpIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KGkpKSByZXR1cm4gcyhlLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oZSwgdCkgfHwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSh0LnNwbGl0KFwiW1wiKSwgMiksIGEgPSBuWzBdLCByID0gblsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IHIucmVwbGFjZShcIl1cIiwgXCJcIiksIGUgPSBlLnJlcGxhY2UobmV3IFJlZ0V4cChcIlwiLmNvbmNhdCgoMCwgby5kZWZhdWx0KShhKSwgXCJcXFxcW1wiKS5jb25jYXQoKDAsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmRlZmF1bHQpKHIpLCBcIlxcXFxdXCIpKSwgYS5jaGFyQXQoMCkgPT09IHIuY2hhckF0KDApID8gXCIoXCIuY29uY2F0KGEsIFwifFwiKS5jb25jYXQoYSkuY29uY2F0KHIsIFwiKVwiKSA6IFwiXCIuY29uY2F0KGEsIFwiW1wiKS5jb25jYXQociwgXCJdXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBsKGUsIGksIG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzLCBsLCBjID0gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbCAhPT0gZSAmJiBcIlwiICE9PSBlIHx8ICgoYyA9IG51bGwgIT09IG8ucmVnZXgpID8gZSA9IChlID0gby5yZWdleCkucmVwbGFjZSgvXihcXF4pKC4qKShcXCQpJC8sIFwiJDJcIikgOiAoYyA9ICEwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcIi4qXCIpKSwgMSA9PT0gZS5sZW5ndGggJiYgITEgPT09IG8uZ3JlZWR5ICYmIDAgIT09IG8ucmVwZWF0ICYmIChvLnBsYWNlaG9sZGVyID0gXCJcIiksIFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IGEoZSwgbyksIGwgPSBjID8gXCJyZWdleF9cIiArIG8ucmVnZXggOiBvLm51bWVyaWNJbnB1dCA/IGUuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IG8ua2VlcFN0YXRpYyAmJiAobCA9IFwia3NfXCIgKyBvLmtlZXBTdGF0aWMgKyBsKSwgdm9pZCAwID09PSByLmRlZmF1bHQucHJvdG90eXBlLm1hc2tzQ2FjaGVbbF0gfHwgITAgPT09IHQgPyAocyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrOiBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tUb2tlbjogci5kZWZhdWx0LnByb3RvdHlwZS5hbmFseXNlTWFzayhlLCBjLCBvKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFBvc2l0aW9uczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2J1ZmZlcjogdm9pZCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogdm9pZCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNsdWRlczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IGksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza0xlbmd0aDogdm9pZCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGppdE9mZnNldDoge31cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICEwICE9PSB0ICYmIChyLmRlZmF1bHQucHJvdG90eXBlLm1hc2tzQ2FjaGVbbF0gPSBzLCBzID0gbi5kZWZhdWx0LmV4dGVuZCghMCwge30sIHIuZGVmYXVsdC5wcm90b3R5cGUubWFza3NDYWNoZVtsXSkpKSA6IHMgPSBuLmRlZmF1bHQuZXh0ZW5kKCEwLCB7fSwgci5kZWZhdWx0LnByb3RvdHlwZS5tYXNrc0NhY2hlW2xdKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5tYXNrICYmIChlLm1hc2sgPSBlLm1hc2soZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlLm1hc2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5tYXNrLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsID09PSBlLmtlZXBTdGF0aWMgJiYgKGUua2VlcFN0YXRpYyA9ICEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGUuZ3JvdXBtYXJrZXJbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChlLmlzUlRMID8gZS5tYXNrLnJldmVyc2UoKSA6IGUubWFzaykuZm9yRWFjaCgoZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmxlbmd0aCA+IDEgJiYgKGMgKz0gZS5hbHRlcm5hdG9ybWFya2VyKSwgdm9pZCAwICE9PSB0Lm1hc2sgJiYgXCJmdW5jdGlvblwiICE9IHR5cGVvZiB0Lm1hc2sgPyBjICs9IHQubWFzayA6IGMgKz0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSksIGwoYyArPSBlLmdyb3VwbWFya2VyWzFdLCBlLm1hc2ssIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZS5tYXNrID0gZS5tYXNrLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkgPSBlLm1hc2sgJiYgdm9pZCAwICE9PSBlLm1hc2subWFzayAmJiBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUubWFzay5tYXNrID8gbChlLm1hc2subWFzaywgZS5tYXNrLCBlKSA6IGwoZS5tYXNrLCBlLm1hc2ssIGUpO1xuICAgICAgICAgICAgICAgICAgICBudWxsID09PSBlLmtlZXBTdGF0aWMgJiYgKGUua2VlcFN0YXRpYyA9ICExKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgbiA9IGwoaSg0OTYzKSksIGEgPSBsKGkoOTY5NSkpLCByID0gbChpKDIzOTQpKSwgbyA9IGwoaSg3MTg0KSk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcyhlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIChudWxsID09IHQgfHwgdCA+IGUubGVuZ3RoKSAmJiAodCA9IGUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSBuZXcgQXJyYXkodCk7IGkgPCB0OyBpKyspIG5baV0gPSBlW2ldO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDE1NzogZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgICAgICAgICB9KSwgdC5tYXNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcywgdCA9IHRoaXMub3B0cywgaSA9IHRoaXMuZWwsIHUgPSB0aGlzLmRlcGVuZGVuY3lMaWI7XG4gICAgICAgICAgICAgICAgICAgIG8uRXZlbnRSdWxlci5vZmYoaSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmID0gZnVuY3Rpb24odCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0YXJlYVwiICE9PSB0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAmJiBpLmlnbm9yYWJsZXMucHVzaChuLmtleXMuRW50ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSB0LmdldEF0dHJpYnV0ZShcInR5cGVcIiksIGwgPSBcImlucHV0XCIgPT09IHQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICYmIGkuc3VwcG9ydHNJbnB1dFR5cGUuaW5jbHVkZXMocykgfHwgdC5pc0NvbnRlbnRFZGl0YWJsZSB8fCBcInRleHRhcmVhXCIgPT09IHQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsKSBpZiAoXCJpbnB1dFwiID09PSB0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBzKSwgbCA9IFwidGV4dFwiID09PSBjLnR5cGUsIGMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGwgPSBcInBhcnRpYWxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMSAhPT0gbCA/IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiwgcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBsKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dG1hc2sgPyB0aGlzLmlucHV0bWFzay5vcHRzLmF1dG9Vbm1hc2sgPyB0aGlzLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCkgOiAtMSAhPT0gYS5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGUpIHx8ICEwICE9PSBpLm51bGxhYmxlID8gKHRoaXMuaW5wdXRtYXNrLnNoYWRvd1Jvb3QgfHwgdGhpcy5vd25lckRvY3VtZW50KS5hY3RpdmVFbGVtZW50ID09PSB0aGlzICYmIGkuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgPyAoZS5pc1JUTCA/IHIuY2xlYXJPcHRpb25hbFRhaWwuY2FsbChlLCBhLmdldEJ1ZmZlci5jYWxsKGUpLnNsaWNlKCkpLnJldmVyc2UoKSA6IHIuY2xlYXJPcHRpb25hbFRhaWwuY2FsbChlLCBhLmdldEJ1ZmZlci5jYWxsKGUpLnNsaWNlKCkpKS5qb2luKFwiXCIpIDogbi5jYWxsKHRoaXMpIDogXCJcIiA6IG4uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYyhlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuY2FsbCh0aGlzLCBlKSwgdGhpcy5pbnB1dG1hc2sgJiYgKDAsIHIuYXBwbHlJbnB1dFZhbHVlKSh0aGlzLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0LmlucHV0bWFzay5fX3ZhbHVlR2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghMCAhPT0gaS5ub1ZhbHVlUGF0Y2hpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSwgXCJ2YWx1ZVwiKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmICYmIGYuZ2V0ICYmIGYuc2V0ID8gKG4gPSBmLmdldCwgcyA9IGYuc2V0LCBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBjLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpIDogXCJpbnB1dFwiICE9PSB0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAmJiAobiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBjLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGRvY3VtZW50Ll9fbG9va3VwR2V0dGVyX18gJiYgdC5fX2xvb2t1cEdldHRlcl9fKFwidmFsdWVcIikgJiYgKG4gPSB0Ll9fbG9va3VwR2V0dGVyX18oXCJ2YWx1ZVwiKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzID0gdC5fX2xvb2t1cFNldHRlcl9fKFwidmFsdWVcIiksIHQuX19kZWZpbmVHZXR0ZXJfXyhcInZhbHVlXCIsIGwpLCB0Ll9fZGVmaW5lU2V0dGVyX18oXCJ2YWx1ZVwiLCBjKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmlucHV0bWFzay5fX3ZhbHVlR2V0ID0gbiwgdC5pbnB1dG1hc2suX192YWx1ZVNldCA9IHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5pbnB1dG1hc2suX3ZhbHVlR2V0ID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuaXNSVEwgJiYgITAgIT09IHQgPyBuLmNhbGwodGhpcy5lbCkuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBuLmNhbGwodGhpcy5lbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHQuaW5wdXRtYXNrLl92YWx1ZVNldCA9IGZ1bmN0aW9uKHQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuY2FsbCh0aGlzLmVsLCBudWxsID09IHQgPyBcIlwiIDogITAgIT09IGkgJiYgZS5pc1JUTCA/IHQuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdm9pZCAwID09PSBuICYmIChuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodS52YWxIb29rcyAmJiAodm9pZCAwID09PSB1LnZhbEhvb2tzW3RdIHx8ICEwICE9PSB1LnZhbEhvb2tzW3RdLmlucHV0bWFza3BhdGNoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdS52YWxIb29rc1t0XSAmJiB1LnZhbEhvb2tzW3RdLmdldCA/IHUudmFsSG9va3NbdF0uZ2V0IDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvID0gdS52YWxIb29rc1t0XSAmJiB1LnZhbEhvb2tzW3RdLnNldCA/IHUudmFsSG9va3NbdF0uc2V0IDogZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS52YWx1ZSA9IHQsIGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1LnZhbEhvb2tzW3RdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0LmlucHV0bWFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0LmlucHV0bWFzay5vcHRzLmF1dG9Vbm1hc2spIHJldHVybiB0LmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBuKHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMSAhPT0gYS5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKGUsIHZvaWQgMCwgdm9pZCAwLCB0LmlucHV0bWFzay5tYXNrc2V0LnZhbGlkUG9zaXRpb25zKSB8fCAhMCAhPT0gaS5udWxsYWJsZSA/IHIgOiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4odCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBvKGUsIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuaW5wdXRtYXNrICYmICgwLCByLmFwcGx5SW5wdXRWYWx1ZSkoZSwgdCksIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0bWFza3BhdGNoOiAhMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0odC50eXBlKSwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5FdmVudFJ1bGVyLm9uKGUsIFwibW91c2VlbnRlclwiLCAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLCB0ID0gZS5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICE9IChlLmlucHV0bWFzay5pc1JUTCA/IGEuZ2V0QnVmZmVyLmNhbGwoZS5pbnB1dG1hc2spLnNsaWNlKCkucmV2ZXJzZSgpIDogYS5nZXRCdWZmZXIuY2FsbChlLmlucHV0bWFzaykpLmpvaW4oXCJcIikgJiYgKDAsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIuYXBwbHlJbnB1dFZhbHVlKShlLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSh0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSh0KSA6IHQuaW5wdXRtYXNrID0gdm9pZCAwLCBsO1xuICAgICAgICAgICAgICAgICAgICB9KGksIHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoITEgIT09IGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUub3JpZ2luYWxQbGFjZWhvbGRlciA9IGkucGxhY2Vob2xkZXIsIGUubWF4TGVuZ3RoID0gdm9pZCAwICE9PSBpID8gaS5tYXhMZW5ndGggOiB2b2lkIDAsIFxuICAgICAgICAgICAgICAgICAgICAgICAgLTEgPT09IGUubWF4TGVuZ3RoICYmIChlLm1heExlbmd0aCA9IHZvaWQgMCksIFwiaW5wdXRNb2RlXCIgaW4gaSAmJiBudWxsID09PSBpLmdldEF0dHJpYnV0ZShcImlucHV0bW9kZVwiKSAmJiAoaS5pbnB1dE1vZGUgPSB0LmlucHV0bW9kZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBpLnNldEF0dHJpYnV0ZShcImlucHV0bW9kZVwiLCB0LmlucHV0bW9kZSkpLCAhMCA9PT0gZiAmJiAodC5zaG93TWFza09uRm9jdXMgPSB0LnNob3dNYXNrT25Gb2N1cyAmJiAtMSA9PT0gWyBcImNjLW51bWJlclwiLCBcImNjLWV4cFwiIF0uaW5kZXhPZihpLmF1dG9jb21wbGV0ZSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgcy5pcGhvbmUgJiYgKHQuaW5zZXJ0TW9kZVZpc3VhbCA9ICExLCBpLnNldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIsIFwib2ZmXCIpKSwgby5FdmVudFJ1bGVyLm9uKGksIFwic3VibWl0XCIsIGMuRXZlbnRIYW5kbGVycy5zdWJtaXRFdmVudCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgby5FdmVudFJ1bGVyLm9uKGksIFwicmVzZXRcIiwgYy5FdmVudEhhbmRsZXJzLnJlc2V0RXZlbnQpLCBvLkV2ZW50UnVsZXIub24oaSwgXCJibHVyXCIsIGMuRXZlbnRIYW5kbGVycy5ibHVyRXZlbnQpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uRXZlbnRSdWxlci5vbihpLCBcImZvY3VzXCIsIGMuRXZlbnRIYW5kbGVycy5mb2N1c0V2ZW50KSwgby5FdmVudFJ1bGVyLm9uKGksIFwiaW52YWxpZFwiLCBjLkV2ZW50SGFuZGxlcnMuaW52YWxpZEV2ZW50KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBvLkV2ZW50UnVsZXIub24oaSwgXCJjbGlja1wiLCBjLkV2ZW50SGFuZGxlcnMuY2xpY2tFdmVudCksIG8uRXZlbnRSdWxlci5vbihpLCBcIm1vdXNlbGVhdmVcIiwgYy5FdmVudEhhbmRsZXJzLm1vdXNlbGVhdmVFdmVudCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgby5FdmVudFJ1bGVyLm9uKGksIFwibW91c2VlbnRlclwiLCBjLkV2ZW50SGFuZGxlcnMubW91c2VlbnRlckV2ZW50KSwgby5FdmVudFJ1bGVyLm9uKGksIFwicGFzdGVcIiwgYy5FdmVudEhhbmRsZXJzLnBhc3RlRXZlbnQpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uRXZlbnRSdWxlci5vbihpLCBcImN1dFwiLCBjLkV2ZW50SGFuZGxlcnMuY3V0RXZlbnQpLCBvLkV2ZW50UnVsZXIub24oaSwgXCJjb21wbGV0ZVwiLCB0Lm9uY29tcGxldGUpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uRXZlbnRSdWxlci5vbihpLCBcImluY29tcGxldGVcIiwgdC5vbmluY29tcGxldGUpLCBvLkV2ZW50UnVsZXIub24oaSwgXCJjbGVhcmVkXCIsIHQub25jbGVhcmVkKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAhMCAhPT0gdC5pbnB1dEV2ZW50T25seSAmJiBvLkV2ZW50UnVsZXIub24oaSwgXCJrZXlkb3duXCIsIGMuRXZlbnRIYW5kbGVycy5rZXlFdmVudCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgKHMubW9iaWxlIHx8IHQuaW5wdXRFdmVudE9ubHkpICYmIGkucmVtb3ZlQXR0cmlidXRlKFwibWF4TGVuZ3RoXCIpLCBvLkV2ZW50UnVsZXIub24oaSwgXCJpbnB1dFwiLCBjLkV2ZW50SGFuZGxlcnMuaW5wdXRGYWxsQmFja0V2ZW50KSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgby5FdmVudFJ1bGVyLm9uKGksIFwic2V0dmFsdWVcIiwgYy5FdmVudEhhbmRsZXJzLnNldFZhbHVlRXZlbnQpLCBhLmdldEJ1ZmZlclRlbXBsYXRlLmNhbGwoZSkuam9pbihcIlwiKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnVuZG9WYWx1ZSA9IGUuX3ZhbHVlR2V0KCEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gKGkuaW5wdXRtYXNrLnNoYWRvd1Jvb3QgfHwgaS5vd25lckRvY3VtZW50KS5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiXCIgIT09IGkuaW5wdXRtYXNrLl92YWx1ZUdldCghMCkgfHwgITEgPT09IHQuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgfHwgZCA9PT0gaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCByLmFwcGx5SW5wdXRWYWx1ZSkoaSwgaS5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSwgdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBhLmdldEJ1ZmZlci5jYWxsKGUpLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgITEgPT09IGwuaXNDb21wbGV0ZS5jYWxsKGUsIHApICYmIHQuY2xlYXJJbmNvbXBsZXRlICYmIGEucmVzZXRNYXNrU2V0LmNhbGwoZSksIHQuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgJiYgZCAhPT0gaSAmJiAoLTEgPT09IGEuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChlKSA/IHAgPSBbXSA6IHIuY2xlYXJPcHRpb25hbFRhaWwuY2FsbChlLCBwKSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghMSA9PT0gdC5jbGVhck1hc2tPbkxvc3RGb2N1cyB8fCB0LnNob3dNYXNrT25Gb2N1cyAmJiBkID09PSBpIHx8IFwiXCIgIT09IGkuaW5wdXRtYXNrLl92YWx1ZUdldCghMCkpICYmICgwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByLndyaXRlQnVmZmVyKShpLCBwKSwgZCA9PT0gaSAmJiBhLmNhcmV0LmNhbGwoZSwgaSwgYS5zZWVrTmV4dC5jYWxsKGUsIGEuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChlKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgbiA9IGkoMjgzOSksIGEgPSBpKDg3MTEpLCByID0gaSg3NzYwKSwgbyA9IGkoOTcxNiksIHMgPSBpKDk4NDUpLCBsID0gaSg3MjE1KSwgYyA9IGkoNjAzMCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgOTY5NTogZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgICAgICAgICB9KSwgdC5kZWZhdWx0ID0gZnVuY3Rpb24oZSwgdCwgaSwgbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoZXMgPSBbXSwgdGhpcy5vcGVuR3JvdXAgPSBlIHx8ICExLCB0aGlzLmFsdGVybmF0b3JHcm91cCA9ICExLCB0aGlzLmlzR3JvdXAgPSBlIHx8ICExLCBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc09wdGlvbmFsID0gdCB8fCAhMSwgdGhpcy5pc1F1YW50aWZpZXIgPSBpIHx8ICExLCB0aGlzLmlzQWx0ZXJuYXRvciA9IG4gfHwgITEsIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1YW50aWZpZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDMxOTQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5pbmNsdWRlcyB8fCBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCBcImluY2x1ZGVzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsID09IHRoaXMpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gT2JqZWN0KHRoaXMpLCBuID0gaS5sZW5ndGggPj4+IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoMCA9PT0gbikgcmV0dXJuICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYSA9IDAgfCB0LCByID0gTWF0aC5tYXgoYSA+PSAwID8gYSA6IG4gLSBNYXRoLmFicyhhKSwgMCk7IHIgPCBuOyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaVtyXSA9PT0gZSkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDkzMDI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBlID0gRnVuY3Rpb24uYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpLCB0ID0gRnVuY3Rpb24uYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUpLCBpID0gRnVuY3Rpb24uYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIEFycmF5LnByb3RvdHlwZS5jb25jYXQpLCBuID0gT2JqZWN0LmtleXM7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMgfHwgKE9iamVjdC5lbnRyaWVzID0gZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZShuKGEpLCAoZnVuY3Rpb24oZSwgbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkoZSwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgbiAmJiB0KGEsIG4pID8gWyBbIG4sIGFbbl0gXSBdIDogW10pO1xuICAgICAgICAgICAgICAgICAgICB9KSwgW10pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDcxNDk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGUodCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZTtcbiAgICAgICAgICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIGUuY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBlICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBlO1xuICAgICAgICAgICAgICAgICAgICB9LCBlKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiAoT2JqZWN0LmdldFByb3RvdHlwZU9mID0gXCJvYmplY3RcIiA9PT0gZShcInRlc3RcIi5fX3Byb3RvX18pID8gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5fX3Byb3RvX187XG4gICAgICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuY29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDQwMTM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgfHwgKFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bWJlclwiICE9IHR5cGVvZiB0ICYmICh0ID0gMCksICEodCArIGUubGVuZ3RoID4gdGhpcy5sZW5ndGgpICYmIC0xICE9PSB0aGlzLmluZGV4T2YoZSwgdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgODcxMTogZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgICAgICAgICB9KSwgdC5jYXJldCA9IGZ1bmN0aW9uKGUsIHQsIGksIG4sIGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIsIG8gPSB0aGlzLCBzID0gdGhpcy5vcHRzO1xuICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSB0KSByZXR1cm4gXCJzZWxlY3Rpb25TdGFydFwiIGluIGUgJiYgXCJzZWxlY3Rpb25FbmRcIiBpbiBlID8gKHQgPSBlLnNlbGVjdGlvblN0YXJ0LCBcbiAgICAgICAgICAgICAgICAgICAgaSA9IGUuc2VsZWN0aW9uRW5kKSA6IHdpbmRvdy5nZXRTZWxlY3Rpb24gPyAociA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApKS5jb21tb25BbmNlc3RvckNvbnRhaW5lci5wYXJlbnROb2RlICE9PSBlICYmIHIuY29tbW9uQW5jZXN0b3JDb250YWluZXIgIT09IGUgfHwgKHQgPSByLnN0YXJ0T2Zmc2V0LCBcbiAgICAgICAgICAgICAgICAgICAgaSA9IHIuZW5kT2Zmc2V0KSA6IGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UgJiYgKGkgPSAodCA9IDAgLSAociA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpKS5kdXBsaWNhdGUoKS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgLWUuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCkpICsgci50ZXh0Lmxlbmd0aCksIFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiZWdpbjogbiA/IHQgOiBjLmNhbGwobywgdCksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IG4gPyBpIDogYy5jYWxsKG8sIGkpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHQpICYmIChpID0gby5pc1JUTCA/IHRbMF0gOiB0WzFdLCB0ID0gby5pc1JUTCA/IHRbMV0gOiB0WzBdKSwgXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gdC5iZWdpbiAmJiAoaSA9IG8uaXNSVEwgPyB0LmJlZ2luIDogdC5lbmQsIHQgPSBvLmlzUlRMID8gdC5lbmQgOiB0LmJlZ2luKSwgXG4gICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgPT0gdHlwZW9mIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBuID8gdCA6IGMuY2FsbChvLCB0KSwgaSA9IFwibnVtYmVyXCIgPT0gdHlwZW9mIChpID0gbiA/IGkgOiBjLmNhbGwobywgaSkpID8gaSA6IHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IHBhcnNlSW50KCgoZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZSA/IChlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93KS5nZXRDb21wdXRlZFN0eWxlKGUsIG51bGwpIDogZS5jdXJyZW50U3R5bGUpLmZvbnRTaXplKSAqIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5zY3JvbGxMZWZ0ID0gbCA+IGUuc2Nyb2xsV2lkdGggPyBsIDogMCwgZS5pbnB1dG1hc2suY2FyZXRQb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW46IHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBzLmluc2VydE1vZGVWaXN1YWwgJiYgITEgPT09IHMuaW5zZXJ0TW9kZSAmJiB0ID09PSBpICYmIChhIHx8IGkrKyksIGUgPT09IChlLmlucHV0bWFzay5zaGFkb3dSb290IHx8IGUub3duZXJEb2N1bWVudCkuYWN0aXZlRWxlbWVudCkgaWYgKFwic2V0U2VsZWN0aW9uUmFuZ2VcIiBpbiBlKSBlLnNldFNlbGVjdGlvblJhbmdlKHQsIGkpOyBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLCB2b2lkIDAgPT09IGUuZmlyc3RDaGlsZCB8fCBudWxsID09PSBlLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5hcHBlbmRDaGlsZCh1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgci5zZXRTdGFydChlLmZpcnN0Q2hpbGQsIHQgPCBlLmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGggPyB0IDogZS5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgci5zZXRFbmQoZS5maXJzdENoaWxkLCBpIDwgZS5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoID8gaSA6IGUuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIuY29sbGFwc2UoITApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYucmVtb3ZlQWxsUmFuZ2VzKCksIGYuYWRkUmFuZ2Uocik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgZS5jcmVhdGVUZXh0UmFuZ2UgJiYgKChyID0gZS5jcmVhdGVUZXh0UmFuZ2UoKSkuY29sbGFwc2UoITApLCByLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwgaSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgci5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgdCksIHIuc2VsZWN0KCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgdC5kZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQsIGksIHIgPSB0aGlzLCBzID0gci5tYXNrc2V0LCBsID0gci5kZXBlbmRlbmN5TGliLCBjID0gbi5nZXRNYXNrVGVtcGxhdGUuY2FsbChyLCAhMCwgby5jYWxsKHIpLCAhMCwgITApLCB1ID0gYy5sZW5ndGgsIGYgPSBvLmNhbGwociksIGQgPSB7fSwgcCA9IHMudmFsaWRQb3NpdGlvbnNbZl0sIGggPSB2b2lkIDAgIT09IHAgPyBwLmxvY2F0b3Iuc2xpY2UoKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh0ID0gZiArIDE7IHQgPCBjLmxlbmd0aDsgdCsrKSBoID0gKGkgPSBuLmdldFRlc3RUZW1wbGF0ZS5jYWxsKHIsIHQsIGgsIHQgLSAxKSkubG9jYXRvci5zbGljZSgpLCBcbiAgICAgICAgICAgICAgICAgICAgZFt0XSA9IGwuZXh0ZW5kKCEwLCB7fSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2ID0gcCAmJiB2b2lkIDAgIT09IHAuYWx0ZXJuYXRpb24gPyBwLmxvY2F0b3JbcC5hbHRlcm5hdGlvbl0gOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodCA9IHUgLSAxOyB0ID4gZiAmJiAoKChpID0gZFt0XSkubWF0Y2gub3B0aW9uYWxpdHkgfHwgaS5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgJiYgaS5tYXRjaC5uZXdCbG9ja01hcmtlciB8fCB2ICYmICh2ICE9PSBkW3RdLmxvY2F0b3JbcC5hbHRlcm5hdGlvbl0gJiYgMSAhPSBpLm1hdGNoLnN0YXRpYyB8fCAhMCA9PT0gaS5tYXRjaC5zdGF0aWMgJiYgaS5sb2NhdG9yW3AuYWx0ZXJuYXRpb25dICYmIGEuY2hlY2tBbHRlcm5hdGlvbk1hdGNoLmNhbGwociwgaS5sb2NhdG9yW3AuYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpLCB2LnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpKSAmJiBcIlwiICE9PSBuLmdldFRlc3RzLmNhbGwociwgdClbMF0uZGVmKSkgJiYgY1t0XSA9PT0gbi5nZXRQbGFjZWhvbGRlci5jYWxsKHIsIHQsIGkubWF0Y2gpKTsgdC0tKSB1LS07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbDogdSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogZFt1XSA/IGRbdV0ubWF0Y2ggOiB2b2lkIDBcbiAgICAgICAgICAgICAgICAgICAgfSA6IHU7XG4gICAgICAgICAgICAgICAgfSwgdC5kZXRlcm1pbmVOZXdDYXJldFBvc2l0aW9uID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHRoaXMsIGMgPSBhLm1hc2tzZXQsIHUgPSBhLm9wdHM7XG4gICAgICAgICAgICAgICAgICAgIHQgJiYgKGEuaXNSVEwgPyBlLmVuZCA9IGUuYmVnaW4gOiBlLmJlZ2luID0gZS5lbmQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5iZWdpbiA9PT0gZS5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaSA9IGkgfHwgdS5wb3NpdGlvbkNhcmV0T25DbGljaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWdpbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiByLmNhbGwoYSkubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaWdub3JlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5lbmQgPSBlLmJlZ2luID0gbC5jYWxsKGEsIG8uY2FsbChhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJhZGl4Rm9jdXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5jbGlja2VkID4gMSAmJiAwID09IGMudmFsaWRQb3NpdGlvbnMubGVuZ3RoKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJcIiAhPT0gdS5yYWRpeFBvaW50ICYmIDAgIT09IHUuZGlnaXRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGMudmFsaWRQb3NpdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSB0W2VdIHx8IHRbZV0uaW5wdXQgPT09IG4uZ2V0UGxhY2Vob2xkZXIuY2FsbChhLCBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlIDwgbC5jYWxsKGEsIC0xKSkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gci5jYWxsKGEpLmluZGV4T2YodS5yYWRpeFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLTEgIT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbyA9IDAsIHMgPSB0Lmxlbmd0aDsgbyA8IHM7IG8rKykgaWYgKHRbb10gJiYgaSA8IG8gJiYgdFtvXS5pbnB1dCAhPT0gbi5nZXRQbGFjZWhvbGRlci5jYWxsKGEsIG8pKSByZXR1cm4gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oZS5iZWdpbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSByLmNhbGwoYSkuam9pbihcIlwiKS5pbmRleE9mKHUucmFkaXhQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuZW5kID0gZS5iZWdpbiA9IHUubnVtZXJpY0lucHV0ID8gbC5jYWxsKGEsIGYpIDogZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBlLmJlZ2luLCBwID0gby5jYWxsKGEsIGQsICEwKSwgaCA9IGwuY2FsbChhLCAtMSAhPT0gcCB8fCBzLmNhbGwoYSwgMCkgPyBwIDogLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkIDw9IGgpIGUuZW5kID0gZS5iZWdpbiA9IHMuY2FsbChhLCBkLCAhMSwgITApID8gZCA6IGwuY2FsbChhLCBkKTsgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ID0gYy52YWxpZFBvc2l0aW9uc1twXSwgbSA9IG4uZ2V0VGVzdFRlbXBsYXRlLmNhbGwoYSwgaCwgdiA/IHYubWF0Y2gubG9jYXRvciA6IHZvaWQgMCwgdiksIGcgPSBuLmdldFBsYWNlaG9sZGVyLmNhbGwoYSwgaCwgbS5tYXRjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIlwiICE9PSBnICYmIHIuY2FsbChhKVtoXSAhPT0gZyAmJiAhMCAhPT0gbS5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgJiYgITAgIT09IG0ubWF0Y2gubmV3QmxvY2tNYXJrZXIgfHwgIXMuY2FsbChhLCBoLCB1LmtlZXBTdGF0aWMsICEwKSAmJiBtLm1hdGNoLmRlZiA9PT0gZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBsLmNhbGwoYSwgaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZCA+PSB5IHx8IGQgPT09IGgpICYmIChoID0geSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5lbmQgPSBlLmJlZ2luID0gaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHQuZ2V0QnVmZmVyID0gciwgdC5nZXRCdWZmZXJUZW1wbGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMubWFza3NldDtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCAwID09PSBlLl9idWZmZXIgJiYgKGUuX2J1ZmZlciA9IG4uZ2V0TWFza1RlbXBsYXRlLmNhbGwodGhpcywgITEsIDEpLCB2b2lkIDAgPT09IGUuYnVmZmVyICYmIChlLmJ1ZmZlciA9IGUuX2J1ZmZlci5zbGljZSgpKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLl9idWZmZXI7XG4gICAgICAgICAgICAgICAgfSwgdC5nZXRMYXN0VmFsaWRQb3NpdGlvbiA9IG8sIHQuaXNNYXNrID0gcywgdC5yZXNldE1hc2tTZXQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5tYXNrc2V0O1xuICAgICAgICAgICAgICAgICAgICB0LmJ1ZmZlciA9IHZvaWQgMCwgITAgIT09IGUgJiYgKHQudmFsaWRQb3NpdGlvbnMgPSBbXSwgdC5wID0gMCk7XG4gICAgICAgICAgICAgICAgfSwgdC5zZWVrTmV4dCA9IGwsIHQuc2Vla1ByZXZpb3VzID0gZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IHRoaXMsIGEgPSBlIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgPD0gMCkgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoO2EgPiAwICYmICghMCA9PT0gdCAmJiAoITAgIT09IG4uZ2V0VGVzdC5jYWxsKGksIGEpLm1hdGNoLm5ld0Jsb2NrTWFya2VyIHx8ICFzLmNhbGwoaSwgYSwgdm9pZCAwLCAhMCkpIHx8ICEwICE9PSB0ICYmICFzLmNhbGwoaSwgYSwgdm9pZCAwLCAhMCkpOyApIGEtLTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICAgICAgfSwgdC50cmFuc2xhdGVQb3NpdGlvbiA9IGM7XG4gICAgICAgICAgICAgICAgdmFyIG4gPSBpKDQ3MTMpLCBhID0gaSg3MjE1KTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB0aGlzLCBpID0gdC5tYXNrc2V0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCAwICE9PSBpLmJ1ZmZlciAmJiAhMCAhPT0gZSB8fCAoaS5idWZmZXIgPSBuLmdldE1hc2tUZW1wbGF0ZS5jYWxsKHQsICEwLCBvLmNhbGwodCksICEwKSwgXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gaS5fYnVmZmVyICYmIChpLl9idWZmZXIgPSBpLmJ1ZmZlci5zbGljZSgpKSksIGkuYnVmZmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvKGUsIHQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0aGlzLm1hc2tzZXQsIGEgPSAtMSwgciA9IC0xLCBvID0gaSB8fCBuLnZhbGlkUG9zaXRpb25zO1xuICAgICAgICAgICAgICAgICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSAtMSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHMgPSAwLCBsID0gby5sZW5ndGg7IHMgPCBsOyBzKyspIG9bc10gJiYgKHQgfHwgITAgIT09IG9bc10uZ2VuZXJhdGVkSW5wdXQpICYmIChzIDw9IGUgJiYgKGEgPSBzKSwgXG4gICAgICAgICAgICAgICAgICAgIHMgPj0gZSAmJiAociA9IHMpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xID09PSBhIHx8IGEgPT0gZSA/IHIgOiAtMSA9PSByIHx8IGUgLSBhIDwgciAtIGUgPyBhIDogcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcyhlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gdGhpcywgciA9IHRoaXMubWFza3NldCwgbyA9IG4uZ2V0VGVzdFRlbXBsYXRlLmNhbGwoYSwgZSkubWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcIlwiID09PSBvLmRlZiAmJiAobyA9IG4uZ2V0VGVzdC5jYWxsKGEsIGUpLm1hdGNoKSwgITAgIT09IG8uc3RhdGljKSByZXR1cm4gby5mbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEwID09PSBpICYmIHZvaWQgMCAhPT0gci52YWxpZFBvc2l0aW9uc1tlXSAmJiAhMCAhPT0gci52YWxpZFBvc2l0aW9uc1tlXS5nZW5lcmF0ZWRJbnB1dCkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoITAgIT09IHQgJiYgZSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gbi5nZXRUZXN0cy5jYWxsKGEsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmxlbmd0aCA+IDEgKyAoXCJcIiA9PT0gc1tzLmxlbmd0aCAtIDFdLm1hdGNoLmRlZiA/IDEgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsID0gbi5kZXRlcm1pbmVUZXN0VGVtcGxhdGUuY2FsbChhLCBlLCBuLmdldFRlc3RzLmNhbGwoYSwgZSkpLCBjID0gbi5nZXRQbGFjZWhvbGRlci5jYWxsKGEsIGUsIGwubWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGwubWF0Y2guZGVmICE9PSBjO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbChlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgdm9pZCAwID09PSBpICYmIChpID0gITApO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gZSArIDE7IFwiXCIgIT09IG4uZ2V0VGVzdC5jYWxsKGEsIHIpLm1hdGNoLmRlZiAmJiAoITAgPT09IHQgJiYgKCEwICE9PSBuLmdldFRlc3QuY2FsbChhLCByKS5tYXRjaC5uZXdCbG9ja01hcmtlciB8fCAhcy5jYWxsKGEsIHIsIHZvaWQgMCwgITApKSB8fCAhMCAhPT0gdCAmJiAhcy5jYWxsKGEsIHIsIHZvaWQgMCwgaSkpOyApIHIrKztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGMoZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHRoaXMub3B0cywgaSA9IHRoaXMuZWw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5pc1JUTCB8fCBcIm51bWJlclwiICE9IHR5cGVvZiBlIHx8IHQuZ3JlZWR5ICYmIFwiXCIgPT09IHQucGxhY2Vob2xkZXIgfHwgIWkgfHwgKGUgPSB0aGlzLl92YWx1ZUdldCgpLmxlbmd0aCAtIGUpIDwgMCAmJiAoZSA9IDApLCBcbiAgICAgICAgICAgICAgICAgICAgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgNDcxMzogZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgICAgICAgICB9KSwgdC5kZXRlcm1pbmVUZXN0VGVtcGxhdGUgPSBjLCB0LmdldERlY2lzaW9uVGFrZXIgPSBvLCB0LmdldE1hc2tUZW1wbGF0ZSA9IGZ1bmN0aW9uKGUsIHQsIGksIG4sIGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSB0aGlzLCBvID0gdGhpcy5vcHRzLCB1ID0gdGhpcy5tYXNrc2V0LCBmID0gby5ncmVlZHk7XG4gICAgICAgICAgICAgICAgICAgIGEgJiYgby5ncmVlZHkgJiYgKG8uZ3JlZWR5ID0gITEsIHIubWFza3NldC50ZXN0cyA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgdCA9IHQgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAsIGgsIHYsIG0sIGcgPSBbXSwgeSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghMCA9PT0gZSAmJiB1LnZhbGlkUG9zaXRpb25zW3ldKSBoID0gKHYgPSBhICYmIHUudmFsaWRQb3NpdGlvbnNbeV0ubWF0Y2gub3B0aW9uYWxpdHkgJiYgdm9pZCAwID09PSB1LnZhbGlkUG9zaXRpb25zW3kgKyAxXSAmJiAoITAgPT09IHUudmFsaWRQb3NpdGlvbnNbeV0uZ2VuZXJhdGVkSW5wdXQgfHwgdS52YWxpZFBvc2l0aW9uc1t5XS5pbnB1dCA9PSBvLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIgJiYgeSA+IDApID8gYy5jYWxsKHIsIHksIGQuY2FsbChyLCB5LCBwLCB5IC0gMSkpIDogdS52YWxpZFBvc2l0aW9uc1t5XSkubWF0Y2gsIFxuICAgICAgICAgICAgICAgICAgICAgICAgcCA9IHYubG9jYXRvci5zbGljZSgpLCBnLnB1c2goITAgPT09IGkgPyB2LmlucHV0IDogITEgPT09IGkgPyBoLm5hdGl2ZURlZiA6IHMuY2FsbChyLCB5LCBoKSk7IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGggPSAodiA9IGwuY2FsbChyLCB5LCBwLCB5IC0gMSkpLm1hdGNoLCBwID0gdi5sb2NhdG9yLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGsgPSAhMCAhPT0gbiAmJiAoITEgIT09IG8uaml0TWFza2luZyA/IG8uaml0TWFza2luZyA6IGguaml0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobSA9IChtICYmIGguc3RhdGljICYmIGguZGVmICE9PSBvLmdyb3VwU2VwYXJhdG9yICYmIG51bGwgPT09IGguZm4gfHwgdS52YWxpZFBvc2l0aW9uc1t5IC0gMV0gJiYgaC5zdGF0aWMgJiYgaC5kZWYgIT09IG8uZ3JvdXBTZXBhcmF0b3IgJiYgbnVsbCA9PT0gaC5mbikgJiYgdS50ZXN0c1t5XSkgfHwgITEgPT09IGsgfHwgdm9pZCAwID09PSBrIHx8IFwibnVtYmVyXCIgPT0gdHlwZW9mIGsgJiYgaXNGaW5pdGUoaykgJiYgayA+IHkgPyBnLnB1c2goITEgPT09IGkgPyBoLm5hdGl2ZURlZiA6IHMuY2FsbChyLCBnLmxlbmd0aCwgaCkpIDogbSA9ICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgeSsrO1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICghMCAhPT0gaC5zdGF0aWMgfHwgXCJcIiAhPT0gaC5kZWYgfHwgdCA+IHkpO1xuICAgICAgICAgICAgICAgICAgICBcIlwiID09PSBnW2cubGVuZ3RoIC0gMV0gJiYgZy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgITEgPT09IGkgJiYgdm9pZCAwICE9PSB1Lm1hc2tMZW5ndGggfHwgKHUubWFza0xlbmd0aCA9IHkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uZ3JlZWR5ID0gZiwgZztcbiAgICAgICAgICAgICAgICB9LCB0LmdldFBsYWNlaG9sZGVyID0gcywgdC5nZXRUZXN0ID0gdSwgdC5nZXRUZXN0VGVtcGxhdGUgPSBsLCB0LmdldFRlc3RzID0gZCwgdC5pc1N1YnNldE9mID0gZjtcbiAgICAgICAgICAgICAgICB2YXIgbiwgYSA9IChuID0gaSgyMzk0KSkgJiYgbi5fX2VzTW9kdWxlID8gbiA6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogblxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gKG51bGwgIT0gZS5hbHRlcm5hdGlvbiA/IGUubWxvY1tvKGUpXSA6IGUubG9jYXRvcikuam9pbihcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiXCIgIT09IGkpIGZvciAoO2kubGVuZ3RoIDwgdDsgKSBpICs9IFwiMFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbyhlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZS5sb2NhdG9yW2UuYWx0ZXJuYXRpb25dO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCAmJiB0Lmxlbmd0aCA+IDAgJiYgKHQgPSB0LnNwbGl0KFwiLFwiKVswXSksIHZvaWQgMCAhPT0gdCA/IHQudG9TdHJpbmcoKSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHMoZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHRoaXMub3B0cywgYSA9IHRoaXMubWFza3NldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gKHQgPSB0IHx8IHUuY2FsbCh0aGlzLCBlKS5tYXRjaCkucGxhY2Vob2xkZXIgfHwgITAgPT09IGkpIHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQucGxhY2Vob2xkZXIgPyB0LnBsYWNlaG9sZGVyKG4pIDogdC5wbGFjZWhvbGRlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEwID09PSB0LnN0YXRpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgPiAtMSAmJiB2b2lkIDAgPT09IGEudmFsaWRQb3NpdGlvbnNbZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgciwgbyA9IGQuY2FsbCh0aGlzLCBlKSwgcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLmxlbmd0aCA+IDEgKyAoXCJcIiA9PT0gb1tvLmxlbmd0aCAtIDFdLm1hdGNoLmRlZiA/IDEgOiAwKSkgZm9yICh2YXIgbCA9IDA7IGwgPCBvLmxlbmd0aDsgbCsrKSBpZiAoXCJcIiAhPT0gb1tsXS5tYXRjaC5kZWYgJiYgITAgIT09IG9bbF0ubWF0Y2gub3B0aW9uYWxpdHkgJiYgITAgIT09IG9bbF0ubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyICYmICghMCA9PT0gb1tsXS5tYXRjaC5zdGF0aWMgfHwgdm9pZCAwID09PSByIHx8ICExICE9PSBvW2xdLm1hdGNoLmZuLnRlc3Qoci5tYXRjaC5kZWYsIGEsIGUsICEwLCBuKSkgJiYgKHMucHVzaChvW2xdKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgITAgPT09IG9bbF0ubWF0Y2guc3RhdGljICYmIChyID0gb1tsXSksIHMubGVuZ3RoID4gMSAmJiAvWzAtOWEtYkEtWl0vLnRlc3Qoc1swXS5tYXRjaC5kZWYpKSkgcmV0dXJuIG4ucGxhY2Vob2xkZXIuY2hhckF0KGUgJSBuLnBsYWNlaG9sZGVyLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5kZWY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4ucGxhY2Vob2xkZXIuY2hhckF0KGUgJSBuLnBsYWNlaG9sZGVyLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGwoZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXNrc2V0LnZhbGlkUG9zaXRpb25zW2VdIHx8IGMuY2FsbCh0aGlzLCBlLCBkLmNhbGwodGhpcywgZSwgdCA/IHQuc2xpY2UoKSA6IHQsIGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYyhlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5vcHRzLCBuID0gMCwgYSA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gMCwgbiA9ICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5mb3JFYWNoKChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5tYXRjaC5vcHRpb25hbGl0eSAmJiAoMCAhPT0gaSAmJiBpICE9PSBlLm1hdGNoLm9wdGlvbmFsaXR5ICYmIChuID0gITApLCAoMCA9PT0gaSB8fCBpID4gZS5tYXRjaC5vcHRpb25hbGl0eSkgJiYgKGkgPSBlLm1hdGNoLm9wdGlvbmFsaXR5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSksIGkgJiYgKDAgPT0gZSB8fCAxID09IHQubGVuZ3RoID8gaSA9IDAgOiBuIHx8IChpID0gMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgICAgIH0oZSwgdCk7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBlID4gMCA/IGUgLSAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG8sIHMsIGwsIGMgPSByKHUuY2FsbCh0aGlzLCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIGkuZ3JlZWR5ICYmIHQubGVuZ3RoID4gMSAmJiBcIlwiID09PSB0W3QubGVuZ3RoIC0gMV0ubWF0Y2guZGVmICYmIChuID0gMSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgdC5sZW5ndGggLSBuOyBmKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gdFtmXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8gPSByKGQsIGMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwID0gTWF0aC5hYnMobyAtIGMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKHZvaWQgMCA9PT0gcyB8fCBcIlwiICE9PSBvICYmIHAgPCBzIHx8IGwgJiYgIWkuZ3JlZWR5ICYmIGwubWF0Y2gub3B0aW9uYWxpdHkgJiYgbC5tYXRjaC5vcHRpb25hbGl0eSAtIGEgPiAwICYmIFwibWFzdGVyXCIgPT09IGwubWF0Y2gubmV3QmxvY2tNYXJrZXIgJiYgKCFkLm1hdGNoLm9wdGlvbmFsaXR5IHx8IGQubWF0Y2gub3B0aW9uYWxpdHkgLSBhIDwgMSB8fCAhZC5tYXRjaC5uZXdCbG9ja01hcmtlcikgfHwgbCAmJiAhaS5ncmVlZHkgJiYgbC5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgJiYgIWQubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyKSAmJiAocyA9IHAsIFxuICAgICAgICAgICAgICAgICAgICAgICAgbCA9IGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1KGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzLm1hc2tzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpLnZhbGlkUG9zaXRpb25zW2VdID8gaS52YWxpZFBvc2l0aW9uc1tlXSA6ICh0IHx8IGQuY2FsbCh0aGlzLCBlKSlbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGYoZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBuKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHQsIGkgPSBbXSwgbiA9IC0xLCBhID0gMCwgciA9IGUubGVuZ3RoOyBhIDwgcjsgYSsrKSBpZiAoXCItXCIgPT09IGUuY2hhckF0KGEpKSBmb3IgKHQgPSBlLmNoYXJDb2RlQXQoYSArIDEpOyArK24gPCB0OyApIGkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKG4pKTsgZWxzZSBuID0gZS5jaGFyQ29kZUF0KGEpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGkucHVzaChlLmNoYXJBdChhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5qb2luKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLm1hdGNoLmRlZiA9PT0gdC5tYXRjaC5uYXRpdmVEZWYgfHwgISghKGkucmVnZXggfHwgZS5tYXRjaC5mbiBpbnN0YW5jZW9mIFJlZ0V4cCAmJiB0Lm1hdGNoLmZuIGluc3RhbmNlb2YgUmVnRXhwKSB8fCAhMCA9PT0gZS5tYXRjaC5zdGF0aWMgfHwgITAgPT09IHQubWF0Y2guc3RhdGljKSAmJiAtMSAhPT0gbih0Lm1hdGNoLmZuLnRvU3RyaW5nKCkucmVwbGFjZSgvW1tcXF0vXS9nLCBcIlwiKSkuaW5kZXhPZihuKGUubWF0Y2guZm4udG9TdHJpbmcoKS5yZXBsYWNlKC9bW1xcXS9dL2csIFwiXCIpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGQoZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbiwgciwgbyA9IHRoaXMsIHMgPSB0aGlzLmRlcGVuZGVuY3lMaWIsIGwgPSB0aGlzLm1hc2tzZXQsIHUgPSB0aGlzLm9wdHMsIGQgPSB0aGlzLmVsLCBwID0gbC5tYXNrVG9rZW4sIGggPSB0ID8gaSA6IDAsIHYgPSB0ID8gdC5zbGljZSgpIDogWyAwIF0sIG0gPSBbXSwgZyA9ICExLCB5ID0gdCA/IHQuam9pbihcIlwiKSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGsodCwgaSwgciwgcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYyhyLCBzLCBwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gMCA9PT0gdC5tYXRjaGVzLmluZGV4T2YoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpIHx8IHQubWF0Y2hlcy5ldmVyeSgoZnVuY3Rpb24obiwgYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwID09PSBuLmlzUXVhbnRpZmllciA/IGkgPSB2KGUsIHQubWF0Y2hlc1thIC0gMV0pIDogT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIFwibWF0Y2hlc1wiKSAmJiAoaSA9IHYoZSwgbikpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSksIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHgoZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiwgYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChsLnRlc3RzW2VdIHx8IGwudmFsaWRQb3NpdGlvbnNbZV0pICYmIChsLnRlc3RzW2VdIHx8IFsgbC52YWxpZFBvc2l0aW9uc1tlXSBdKS5ldmVyeSgoZnVuY3Rpb24oZSwgcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUubWxvY1t0XSkgcmV0dXJuIG4gPSBlLCAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gdm9pZCAwICE9PSBpID8gaSA6IGUuYWx0ZXJuYXRpb24sIHMgPSB2b2lkIDAgIT09IGUubG9jYXRvcltvXSA/IGUubG9jYXRvcltvXS50b1N0cmluZygpLmluZGV4T2YodCkgOiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAodm9pZCAwID09PSBhIHx8IHMgPCBhKSAmJiAtMSAhPT0gcyAmJiAobiA9IGUsIGEgPSBzKSwgITA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSwgbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBuLmxvY2F0b3Jbbi5hbHRlcm5hdGlvbl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG4ubWxvY1t0XSB8fCBuLm1sb2Nbcl0gfHwgbi5sb2NhdG9yKS5zbGljZSgodm9pZCAwICE9PSBpID8gaSA6IG4uYWx0ZXJuYXRpb24pICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gaSA/IHgoZSwgdCkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFAoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGUuYWx0ZXJuYXRpb24sIG4gPSB2b2lkIDAgPT09IHQgfHwgaSA9PT0gdC5hbHRlcm5hdGlvbiAmJiAtMSA9PT0gZS5sb2NhdG9yW2ldLnRvU3RyaW5nKCkuaW5kZXhPZih0LmxvY2F0b3JbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW4gJiYgaSA+IHQuYWx0ZXJuYXRpb24pIGZvciAodmFyIGEgPSB0LmFsdGVybmF0aW9uOyBhIDwgaTsgYSsrKSBpZiAoZS5sb2NhdG9yW2FdICE9PSB0LmxvY2F0b3JbYV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBhLCBuID0gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5tbG9jID0gZS5tbG9jIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBlLmxvY2F0b3JbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSByKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIgJiYgKHIgPSByLnNwbGl0KFwiLFwiKVswXSksIHZvaWQgMCA9PT0gZS5tbG9jW3JdICYmIChlLm1sb2Nbcl0gPSBlLmxvY2F0b3Iuc2xpY2UoKSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBvIGluIHQubWxvYykgXCJzdHJpbmdcIiA9PSB0eXBlb2YgbyAmJiAobyA9IG8uc3BsaXQoXCIsXCIpWzBdKSwgdm9pZCAwID09PSBlLm1sb2Nbb10gJiYgKGUubWxvY1tvXSA9IHQubWxvY1tvXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUubG9jYXRvcltpXSA9IE9iamVjdC5rZXlzKGUubWxvYykuam9pbihcIixcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuYWx0ZXJuYXRpb24gPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB3KGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUubG9jYXRvci5sZW5ndGggIT09IHQubG9jYXRvci5sZW5ndGgpIHJldHVybiAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGUuYWx0ZXJuYXRpb24gKyAxOyBpIDwgZS5sb2NhdG9yLmxlbmd0aDsgaSsrKSBpZiAoZS5sb2NhdG9yW2ldICE9PSB0LmxvY2F0b3JbaV0pIHJldHVybiAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaCA+IGUgKyB1Ll9tYXhUZXN0UG9zKSB0aHJvdyBcIklucHV0bWFzazogVGhlcmUgaXMgcHJvYmFibHkgYW4gZXJyb3IgaW4geW91ciBtYXNrIGRlZmluaXRpb24gb3IgaW4gdGhlIGNvZGUuIENyZWF0ZSBhbiBpc3N1ZSBvbiBnaXRodWIgd2l0aCBhbiBleGFtcGxlIG9mIHRoZSBtYXNrIHlvdSBhcmUgdXNpbmcuIFwiICsgbC5tYXNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoID09PSBlICYmIHZvaWQgMCA9PT0gci5tYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2g6IHIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdG9yOiBzLnJldmVyc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNkOiB5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWxvYzoge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksICFyLm9wdGlvbmFsaXR5IHx8IHZvaWQgMCAhPT0gcCB8fCAhKHUuZGVmaW5pdGlvbnMgJiYgdS5kZWZpbml0aW9uc1tyLm5hdGl2ZURlZl0gJiYgdS5kZWZpbml0aW9uc1tyLm5hdGl2ZURlZl0ub3B0aW9uYWwgfHwgYS5kZWZhdWx0LnByb3RvdHlwZS5kZWZpbml0aW9uc1tyLm5hdGl2ZURlZl0gJiYgYS5kZWZhdWx0LnByb3RvdHlwZS5kZWZpbml0aW9uc1tyLm5hdGl2ZURlZl0ub3B0aW9uYWwpKSByZXR1cm4gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcgPSAhMCwgaCA9IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2b2lkIDAgIT09IHIubWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoci5pc0dyb3VwICYmIHAgIT09IHIpIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyID0gYyh0Lm1hdGNoZXNbdC5tYXRjaGVzLmluZGV4T2YocikgKyAxXSwgcywgcCkpIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoci5pc09wdGlvbmFsKSByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHIsIGEgPSBtLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyID0gayhyLCBpLCBzLCBwKSwgbS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0uZm9yRWFjaCgoZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID49IGEgJiYgKGUubWF0Y2gub3B0aW9uYWxpdHkgPSBlLm1hdGNoLm9wdGlvbmFsaXR5ID8gZS5tYXRjaC5vcHRpb25hbGl0eSArIDEgOiAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSksIG4gPSBtW20ubGVuZ3RoIC0gMV0ubWF0Y2gsIHZvaWQgMCAhPT0gcCB8fCAhdihuLCB0KSkgcmV0dXJuIHI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZyA9ICEwLCBoID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoci5pc0FsdGVybmF0b3IpIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uaGFzQWx0ZXJuYXRvciA9ICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4sIGEsIHYsIHkgPSByLCBrID0gW10sIGIgPSBtLnNsaWNlKCksIFMgPSBzLmxlbmd0aCwgTSA9ICExLCBfID0gaS5sZW5ndGggPiAwID8gaS5zaGlmdCgpIDogLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLTEgPT09IF8gfHwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBPLCBFID0gaCwgVCA9IGkuc2xpY2UoKSwgaiA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBfKSBqID0gXy5zcGxpdChcIixcIik7IGVsc2UgZm9yIChPID0gMDsgTyA8IHkubWF0Y2hlcy5sZW5ndGg7IE8rKykgai5wdXNoKE8udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gbC5leGNsdWRlc1tlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBBID0gai5zbGljZSgpLCBEID0gMCwgQiA9IGwuZXhjbHVkZXNbZV0ubGVuZ3RoOyBEIDwgQjsgRCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgQyA9IGwuZXhjbHVkZXNbZV1bRF0udG9TdHJpbmcoKS5zcGxpdChcIjpcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmxlbmd0aCA9PSBDWzFdICYmIGouc3BsaWNlKGouaW5kZXhPZihDWzBdKSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCA9PT0gai5sZW5ndGggJiYgKGRlbGV0ZSBsLmV4Y2x1ZGVzW2VdLCBqID0gQSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghMCA9PT0gdS5rZWVwU3RhdGljIHx8IGlzRmluaXRlKHBhcnNlSW50KHUua2VlcFN0YXRpYykpICYmIEUgPj0gdS5rZWVwU3RhdGljKSAmJiAoaiA9IGouc2xpY2UoMCwgMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIFIgPSAwOyBSIDwgai5sZW5ndGg7IFIrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPID0gcGFyc2VJbnQoaltSXSksIG0gPSBbXSwgaSA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIF8gJiYgeChoLCBPLCBTKSB8fCBULnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBMID0geS5tYXRjaGVzW09dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTCAmJiBjKEwsIFsgTyBdLmNvbmNhdChzKSwgcCkpIHIgPSAhMDsgZWxzZSBpZiAoMCA9PT0gUiAmJiAoTSA9ICEwKSwgTCAmJiBMLm1hdGNoZXMgJiYgTC5tYXRjaGVzLmxlbmd0aCA+IHkubWF0Y2hlc1swXS5tYXRjaGVzLmxlbmd0aCkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBtLnNsaWNlKCksIGggPSBFLCBtID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIEYgPSAwOyBGIDwgbi5sZW5ndGg7IEYrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEkgPSBuW0ZdLCBOID0gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJLm1hdGNoLmppdCA9IEkubWF0Y2guaml0IHx8IE0sIEkuYWx0ZXJuYXRpb24gPSBJLmFsdGVybmF0aW9uIHx8IFMsIFAoSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBWID0gMDsgViA8IGsubGVuZ3RoOyBWKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRyA9IGtbVl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIF8gfHwgdm9pZCAwICE9PSBJLmFsdGVybmF0aW9uICYmIGouaW5jbHVkZXMoSS5sb2NhdG9yW0kuYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChJLm1hdGNoLm5hdGl2ZURlZiA9PT0gRy5tYXRjaC5uYXRpdmVEZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE4gPSAhMCwgUChHLCBJKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmKEksIEcsIHUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQKEksIEcpICYmIChOID0gITAsIGsuc3BsaWNlKGsuaW5kZXhPZihHKSwgMCwgSSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGYoRywgSSwgdSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAoRywgSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodiA9IEcsICEwID09PSAoYSA9IEkpLm1hdGNoLnN0YXRpYyAmJiAhMCAhPT0gdi5tYXRjaC5zdGF0aWMgJiYgdi5tYXRjaC5mbi50ZXN0KGEubWF0Y2guZGVmLCBsLCBlLCAhMSwgdSwgITEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3KEksIEcpIHx8IHZvaWQgMCAhPT0gZC5pbnB1dG1hc2sudXNlck9wdGlvbnMua2VlcFN0YXRpYyA/IFAoSSwgRykgJiYgKE4gPSAhMCwgay5zcGxpY2Uoay5pbmRleE9mKEcpLCAwLCBJKSkgOiB1LmtlZXBTdGF0aWMgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTiB8fCBrLnB1c2goSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbSA9IGIuY29uY2F0KGspLCBoID0gZSwgZyA9IG0ubGVuZ3RoID4gMCwgciA9IGsubGVuZ3RoID4gMCwgaSA9IFQuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSByID0gYyh5Lm1hdGNoZXNbX10gfHwgdC5tYXRjaGVzW19dLCBbIF8gXS5jb25jYXQocyksIHApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoci5pc1F1YW50aWZpZXIgJiYgcCAhPT0gdC5tYXRjaGVzW3QubWF0Y2hlcy5pbmRleE9mKHIpIC0gMV0pIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSByLCBvID0gITEsIGYgPSBpLmxlbmd0aCA+IDAgPyBpLnNoaWZ0KCkgOiAwOyBmIDwgKGlzTmFOKGEucXVhbnRpZmllci5tYXgpID8gZiArIDEgOiBhLnF1YW50aWZpZXIubWF4KSAmJiBoIDw9IGU7IGYrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gdC5tYXRjaGVzW3QubWF0Y2hlcy5pbmRleE9mKGEpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgPSBjKGQsIFsgZiBdLmNvbmNhdChzKSwgZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0uZm9yRWFjaCgoZnVuY3Rpb24odCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG4gPSBiKGQsIHQubWF0Y2gpID8gdC5tYXRjaCA6IG1bbS5sZW5ndGggLSAxXS5tYXRjaCkub3B0aW9uYWxRdWFudGlmaWVyID0gZiA+PSBhLnF1YW50aWZpZXIubWluLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uaml0ID0gKGYgKyAxKSAqIChkLm1hdGNoZXMuaW5kZXhPZihuKSArIDEpID4gYS5xdWFudGlmaWVyLmppdCwgbi5vcHRpb25hbFF1YW50aWZpZXIgJiYgdihuLCBkKSAmJiAoZyA9ICEwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGggPSBlLCB1LmdyZWVkeSAmJiBudWxsID09IGwudmFsaWRQb3NpdGlvbnNbZSAtIDFdICYmIGYgPiBhLnF1YW50aWZpZXIubWluICYmIC0xICE9IFsgXCIqXCIsIFwiK1wiIF0uaW5kZXhPZihhLnF1YW50aWZpZXIubWF4KSAmJiAobS5wb3AoKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gdm9pZCAwKSwgbyA9ICEwLCByID0gITEpLCAhbyAmJiBuLmppdCAmJiAobC5qaXRPZmZzZXRbZV0gPSBkLm1hdGNoZXMubGVuZ3RoIC0gZC5tYXRjaGVzLmluZGV4T2YobikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSksIG8pIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyID0gayhyLCBpLCBzLCBwKSkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBoKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gaS5sZW5ndGggPiAwID8gaS5zaGlmdCgpIDogMDsgcCA8IHQubWF0Y2hlcy5sZW5ndGg7IHArKykgaWYgKCEwICE9PSB0Lm1hdGNoZXNbcF0uaXNRdWFudGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBjKHQubWF0Y2hlc1twXSwgWyBwIF0uY29uY2F0KHIpLCBzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodiAmJiBoID09PSBlKSByZXR1cm4gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaCA+IGUpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGIoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAtMSAhPSBlLm1hdGNoZXMuaW5kZXhPZih0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpIHx8IGUubWF0Y2hlcy5mb3JFYWNoKChmdW5jdGlvbihlLCBuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwID09PSBlLm1hdGNoZXMgfHwgaSB8fCAoaSA9IGIoZSwgdCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLCBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4LCBQID0gZSAtIDE7IHZvaWQgMCA9PT0gKHggPSBsLnZhbGlkUG9zaXRpb25zW1BdIHx8IGwudGVzdHNbUF0pICYmIFAgPiAtMTsgKSBQLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSB4ICYmIFAgPiAtMSAmJiAodiA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGksIG4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodCkgfHwgKHQgPSBbIHQgXSksIHQubGVuZ3RoID4gMCAmJiAodm9pZCAwID09PSB0WzBdLmFsdGVybmF0aW9uIHx8ICEwID09PSB1LmtlZXBTdGF0aWMgPyAwID09PSAobiA9IGMuY2FsbChvLCBlLCB0LnNsaWNlKCkpLmxvY2F0b3Iuc2xpY2UoKSkubGVuZ3RoICYmIChuID0gdFswXS5sb2NhdG9yLnNsaWNlKCkpIDogdC5mb3JFYWNoKChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiICE9PSBlLmRlZiAmJiAoMCA9PT0gbi5sZW5ndGggPyAoaSA9IGUuYWx0ZXJuYXRpb24sIG4gPSBlLmxvY2F0b3Iuc2xpY2UoKSkgOiBlLmxvY2F0b3JbaV0gJiYgLTEgPT09IG5baV0udG9TdHJpbmcoKS5pbmRleE9mKGUubG9jYXRvcltpXSkgJiYgKG5baV0gKz0gXCIsXCIgKyBlLmxvY2F0b3JbaV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpKSwgbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KFAsIHgpLCB5ID0gdi5qb2luKFwiXCIpLCBoID0gUCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobC50ZXN0c1tlXSAmJiBsLnRlc3RzW2VdWzBdLmNkID09PSB5KSByZXR1cm4gbC50ZXN0c1tlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHcgPSB2LnNoaWZ0KCk7IHcgPCBwLmxlbmd0aDsgdysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGsocFt3XSwgdiwgWyB3IF0pICYmIGggPT09IGUgfHwgaCA+IGUpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCA9PT0gbS5sZW5ndGggfHwgZykgJiYgbS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm46IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbGl0eTogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0b3I6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWxvYzoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBjZDogeVxuICAgICAgICAgICAgICAgICAgICB9KSwgdm9pZCAwICE9PSB0ICYmIGwudGVzdHNbZV0gPyByID0gcy5leHRlbmQoITAsIFtdLCBtKSA6IChsLnRlc3RzW2VdID0gcy5leHRlbmQoITAsIFtdLCBtKSwgXG4gICAgICAgICAgICAgICAgICAgIHIgPSBsLnRlc3RzW2VdKSwgbS5mb3JFYWNoKChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLm1hdGNoLm9wdGlvbmFsaXR5ID0gZS5tYXRjaC5kZWZPcHRpb25hbGl0eSB8fCAhMTtcbiAgICAgICAgICAgICAgICAgICAgfSkpLCByO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA3MjE1OiBmdW5jdGlvbihlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAhMFxuICAgICAgICAgICAgICAgIH0pLCB0LmFsdGVybmF0ZSA9IHMsIHQuY2hlY2tBbHRlcm5hdGlvbk1hdGNoID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuLCBhID0gdGhpcy5vcHRzLmdyZWVkeSA/IHQgOiB0LnNsaWNlKDAsIDEpLCByID0gITEsIG8gPSB2b2lkIDAgIT09IGkgPyBpLnNwbGl0KFwiLFwiKSA6IFtdLCBzID0gMDsgcyA8IG8ubGVuZ3RoOyBzKyspIC0xICE9PSAobiA9IGUuaW5kZXhPZihvW3NdKSkgJiYgZS5zcGxpY2UobiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgZS5sZW5ndGg7IGwrKykgaWYgKGEuaW5jbHVkZXMoZVtsXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgICAgIH0sIHQuaGFuZGxlUmVtb3ZlID0gZnVuY3Rpb24oZSwgdCwgaSwgbywgbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMsIHUgPSB0aGlzLm1hc2tzZXQsIGYgPSB0aGlzLm9wdHM7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoZi5udW1lcmljSW5wdXQgfHwgYy5pc1JUTCkgJiYgKHQgPT09IGEua2V5cy5CYWNrc3BhY2UgPyB0ID0gYS5rZXlzLkRlbGV0ZSA6IHQgPT09IGEua2V5cy5EZWxldGUgJiYgKHQgPSBhLmtleXMuQmFja3NwYWNlKSwgXG4gICAgICAgICAgICAgICAgICAgIGMuaXNSVEwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGkuZW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgaS5lbmQgPSBpLmJlZ2luLCBpLmJlZ2luID0gZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcCwgaCA9IHIuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChjLCB2b2lkIDAsICEwKTtcbiAgICAgICAgICAgICAgICAgICAgaS5lbmQgPj0gci5nZXRCdWZmZXIuY2FsbChjKS5sZW5ndGggJiYgaCA+PSBpLmVuZCAmJiAoaS5lbmQgPSBoICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIHQgPT09IGEua2V5cy5CYWNrc3BhY2UgPyBpLmVuZCAtIGkuYmVnaW4gPCAxICYmIChpLmJlZ2luID0gci5zZWVrUHJldmlvdXMuY2FsbChjLCBpLmJlZ2luKSkgOiB0ID09PSBhLmtleXMuRGVsZXRlICYmIGkuYmVnaW4gPT09IGkuZW5kICYmIChpLmVuZCA9IHIuaXNNYXNrLmNhbGwoYywgaS5lbmQsICEwLCAhMCkgPyBpLmVuZCArIDEgOiByLnNlZWtOZXh0LmNhbGwoYywgaS5lbmQpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghMSAhPT0gKHAgPSB2LmNhbGwoYywgaSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoITAgIT09IG8gJiYgITEgIT09IGYua2VlcFN0YXRpYyB8fCBudWxsICE9PSBmLnJlZ2V4ICYmIC0xICE9PSBuLmdldFRlc3QuY2FsbChjLCBpLmJlZ2luKS5tYXRjaC5kZWYuaW5kZXhPZihcInxcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IHMuY2FsbChjLCAhMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSB2b2lkIDAgIT09IG0uY2FyZXQgPyBtLmNhcmV0IDogbS5wb3MgPyByLnNlZWtOZXh0LmNhbGwoYywgbS5wb3MuYmVnaW4gPyBtLnBvcy5iZWdpbiA6IG0ucG9zKSA6IHIuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbChjLCAtMSwgITApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCAhPT0gYS5rZXlzLkRlbGV0ZSB8fCBpLmJlZ2luID4gZykgJiYgaS5iZWdpbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAhMCAhPT0gbyAmJiAodS5wID0gdCA9PT0gYS5rZXlzLkRlbGV0ZSA/IGkuYmVnaW4gKyBwIDogaS5iZWdpbiwgdS5wID0gci5kZXRlcm1pbmVOZXdDYXJldFBvc2l0aW9uLmNhbGwoYywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luOiB1LnAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiB1LnBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICExLCAhMSA9PT0gZi5pbnNlcnRNb2RlICYmIHQgPT09IGEua2V5cy5CYWNrc3BhY2UgPyBcIm5vbmVcIiA6IHZvaWQgMCkuYmVnaW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgdC5pc0NvbXBsZXRlID0gYywgdC5pc1NlbGVjdGlvbiA9IHUsIHQuaXNWYWxpZCA9IGYsIHQucmVmcmVzaEZyb21CdWZmZXIgPSBwLCBcbiAgICAgICAgICAgICAgICB0LnJldmFsaWRhdGVNYXNrID0gdjtcbiAgICAgICAgICAgICAgICB2YXIgbiA9IGkoNDcxMyksIGEgPSBpKDI4MzkpLCByID0gaSg4NzExKSwgbyA9IGkoNjAzMCk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcyhlLCB0LCBpLCBhLCBvLCBsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjLCB1LCBkLCBwLCBoLCB2LCBtLCBnLCB5LCBrLCBiLCB4ID0gdGhpcywgUCA9IHRoaXMuZGVwZW5kZW5jeUxpYiwgdyA9IHRoaXMub3B0cywgUyA9IHgubWFza3NldCwgTSA9IFAuZXh0ZW5kKCEwLCBbXSwgUy52YWxpZFBvc2l0aW9ucyksIF8gPSBQLmV4dGVuZCghMCwge30sIFMudGVzdHMpLCBPID0gITEsIEUgPSAhMSwgVCA9IHZvaWQgMCAhPT0gbyA/IG8gOiByLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoeCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsICYmIChrID0gbC5iZWdpbiwgYiA9IGwuZW5kLCBsLmJlZ2luID4gbC5lbmQgJiYgKGsgPSBsLmVuZCwgYiA9IGwuYmVnaW4pKSwgXG4gICAgICAgICAgICAgICAgICAgIC0xID09PSBUICYmIHZvaWQgMCA9PT0gbykgYyA9IDAsIHUgPSAocCA9IG4uZ2V0VGVzdC5jYWxsKHgsIGMpKS5hbHRlcm5hdGlvbjsgZWxzZSBmb3IgKDtUID49IDA7IFQtLSkgaWYgKChkID0gUy52YWxpZFBvc2l0aW9uc1tUXSkgJiYgdm9pZCAwICE9PSBkLmFsdGVybmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoVCA8PSAoZSB8fCAwKSAmJiBwICYmIHAubG9jYXRvcltkLmFsdGVybmF0aW9uXSAhPT0gZC5sb2NhdG9yW2QuYWx0ZXJuYXRpb25dKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBULCB1ID0gUy52YWxpZFBvc2l0aW9uc1tjXS5hbHRlcm5hdGlvbiwgcCA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gdSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbSA9IHBhcnNlSW50KGMpLCBTLmV4Y2x1ZGVzW21dID0gUy5leGNsdWRlc1ttXSB8fCBbXSwgITAgIT09IGUgJiYgUy5leGNsdWRlc1ttXS5wdXNoKCgwLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIG4uZ2V0RGVjaXNpb25UYWtlcikocCkgKyBcIjpcIiArIHAuYWx0ZXJuYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGogPSBbXSwgQSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChoID0gbTsgaCA8IHIuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh4LCB2b2lkIDAsICEwKSArIDE7IGgrKykgLTEgPT09IEEgJiYgZSA8PSBoICYmIHZvaWQgMCAhPT0gdCAmJiAoai5wdXNoKHQpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIEEgPSBqLmxlbmd0aCAtIDEpLCAodiA9IFMudmFsaWRQb3NpdGlvbnNbaF0pICYmICEwICE9PSB2LmdlbmVyYXRlZElucHV0ICYmICh2b2lkIDAgPT09IGwgfHwgaCA8IGsgfHwgaCA+PSBiKSAmJiBqLnB1c2godi5pbnB1dCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIFMudmFsaWRQb3NpdGlvbnNbaF07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKC0xID09PSBBICYmIHZvaWQgMCAhPT0gdCAmJiAoai5wdXNoKHQpLCBBID0gai5sZW5ndGggLSAxKTsgdm9pZCAwICE9PSBTLmV4Y2x1ZGVzW21dICYmIFMuZXhjbHVkZXNbbV0ubGVuZ3RoIDwgMTA7ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoUy50ZXN0cyA9IHt9LCByLnJlc2V0TWFza1NldC5jYWxsKHgsICEwKSwgTyA9ICEwLCBoID0gMDsgaCA8IGoubGVuZ3RoICYmIChnID0gTy5jYXJldCB8fCByLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoeCwgdm9pZCAwLCAhMCkgKyAxLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0galtoXSwgTyA9IGYuY2FsbCh4LCBnLCB5LCAhMSwgYSwgITApKTsgaCsrKSBoID09PSBBICYmIChFID0gTyksIDEgPT0gZSAmJiBPICYmIChFID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldFBvczogaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoci5yZXNldE1hc2tTZXQuY2FsbCh4KSwgcCA9IG4uZ2V0VGVzdC5jYWxsKHgsIG0pLCBTLnZhbGlkUG9zaXRpb25zID0gUC5leHRlbmQoITAsIFtdLCBNKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUy50ZXN0cyA9IFAuZXh0ZW5kKCEwLCB7fSwgXyksICFTLmV4Y2x1ZGVzW21dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEUgPSBzLmNhbGwoeCwgZSwgdCwgaSwgYSwgbSAtIDEsIGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEQgPSAoMCwgbi5nZXREZWNpc2lvblRha2VyKShwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLTEgIT09IFMuZXhjbHVkZXNbbV0uaW5kZXhPZihEICsgXCI6XCIgKyBwLmFsdGVybmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFID0gcy5jYWxsKHgsIGUsIHQsIGksIGEsIG0gLSAxLCBsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoUy5leGNsdWRlc1ttXS5wdXNoKEQgKyBcIjpcIiArIHAuYWx0ZXJuYXRpb24pLCBoID0gbTsgaCA8IHIuZ2V0TGFzdFZhbGlkUG9zaXRpb24uY2FsbCh4LCB2b2lkIDAsICEwKSArIDE7IGgrKykgZGVsZXRlIFMudmFsaWRQb3NpdGlvbnNbaF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEUgJiYgITEgPT09IHcua2VlcFN0YXRpYyB8fCBkZWxldGUgUy5leGNsdWRlc1ttXSwgRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbChlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuID0gdGhpcy5vcHRzLCByID0gdGhpcy5tYXNrc2V0O1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG4uY2FzaW5nIHx8IHQuY2FzaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVwcGVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibG93ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSByLnZhbGlkUG9zaXRpb25zW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSAwID09PSBpIHx8IG8gJiYgby5pbnB1dCA9PT0gU3RyaW5nLmZyb21DaGFyQ29kZShhLmtleUNvZGUuU3BhY2UpID8gZS50b1VwcGVyQ2FzZSgpIDogZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygbi5jYXNpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5wdXNoKHIudmFsaWRQb3NpdGlvbnMpLCBlID0gbi5jYXNpbmcuYXBwbHkodGhpcywgcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGMoZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHRoaXMsIGkgPSB0aGlzLm9wdHMsIGEgPSB0aGlzLm1hc2tzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGkuaXNDb21wbGV0ZSkgcmV0dXJuIGkuaXNDb21wbGV0ZShlLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiKlwiICE9PSBpLnJlcGVhdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSAhMSwgcyA9IHIuZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24uY2FsbCh0LCAhMCksIGwgPSByLnNlZWtQcmV2aW91cy5jYWxsKHQsIHMubCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBzLmRlZiB8fCBzLmRlZi5uZXdCbG9ja01hcmtlciB8fCBzLmRlZi5vcHRpb25hbGl0eSB8fCBzLmRlZi5vcHRpb25hbFF1YW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID0gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPD0gbDsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1ID0gbi5nZXRUZXN0VGVtcGxhdGUuY2FsbCh0LCBjKS5tYXRjaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEwICE9PSB1LnN0YXRpYyAmJiB2b2lkIDAgPT09IGEudmFsaWRQb3NpdGlvbnNbY10gJiYgITAgIT09IHUub3B0aW9uYWxpdHkgJiYgITAgIT09IHUub3B0aW9uYWxRdWFudGlmaWVyIHx8ICEwID09PSB1LnN0YXRpYyAmJiBlW2NdICE9PSBuLmdldFBsYWNlaG9sZGVyLmNhbGwodCwgYywgdSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdShlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5vcHRzLmluc2VydE1vZGUgPyAwIDogMTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNSVEwgPyBlLmJlZ2luIC0gZS5lbmQgPiB0IDogZS5lbmQgLSBlLmJlZ2luID4gdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZihlLCB0LCBpLCBhLCBvLCBkLCBtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnID0gdGhpcywgeSA9IHRoaXMuZGVwZW5kZW5jeUxpYiwgayA9IHRoaXMub3B0cywgYiA9IGcubWFza3NldDtcbiAgICAgICAgICAgICAgICAgICAgaSA9ICEwID09PSBpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGU7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGUucmVtb3ZlICYmIChBcnJheS5pc0FycmF5KGUucmVtb3ZlKSB8fCAoZS5yZW1vdmUgPSBbIGUucmVtb3ZlIF0pLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnJlbW92ZS5zb3J0KChmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnLmlzUlRMID8gZS5wb3MgLSB0LnBvcyA6IHQucG9zIC0gZS5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5jYWxsKGcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luOiBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBlICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSksIGUucmVtb3ZlID0gdm9pZCAwKSwgdm9pZCAwICE9PSBlLmluc2VydCAmJiAoQXJyYXkuaXNBcnJheShlLmluc2VydCkgfHwgKGUuaW5zZXJ0ID0gWyBlLmluc2VydCBdKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5pbnNlcnQuc29ydCgoZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZy5pc1JUTCA/IHQucG9zIC0gZS5wb3MgOiBlLnBvcyAtIHQucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIgIT09IGUuYyAmJiBmLmNhbGwoZywgZS5wb3MsIGUuYywgdm9pZCAwID09PSBlLnN0cmljdCB8fCBlLnN0cmljdCwgdm9pZCAwICE9PSBlLmZyb21Jc1ZhbGlkID8gZS5mcm9tSXNWYWxpZCA6IGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSwgZS5pbnNlcnQgPSB2b2lkIDApLCBlLnJlZnJlc2hGcm9tQnVmZmVyICYmIGUuYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZS5yZWZyZXNoRnJvbUJ1ZmZlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcC5jYWxsKGcsICEwID09PSB0ID8gdCA6IHQuc3RhcnQsIHQuZW5kLCBlLmJ1ZmZlciksIGUucmVmcmVzaEZyb21CdWZmZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gZS5yZXdyaXRlUG9zaXRpb24gJiYgKHggPSBlLnJld3JpdGVQb3NpdGlvbiwgZSA9ICEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHcodCwgaSwgbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmdldFRlc3RzLmNhbGwoZywgdCkuZXZlcnkoKGZ1bmN0aW9uKGMsIGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGMubWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIuZ2V0QnVmZmVyLmNhbGwoZywgITApLCAhMSAhPT0gKHMgPSAoIWQuaml0IHx8IHZvaWQgMCAhPT0gYi52YWxpZFBvc2l0aW9uc1tyLnNlZWtQcmV2aW91cy5jYWxsKGcsIHQpXSkgJiYgKG51bGwgIT0gZC5mbiA/IGQuZm4udGVzdChpLCBiLCB0LCBvLCBrLCB1LmNhbGwoZywgZSkpIDogKGkgPT09IGQuZGVmIHx8IGkgPT09IGsuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcikgJiYgXCJcIiAhPT0gZC5kZWYgJiYge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBuLmdldFBsYWNlaG9sZGVyLmNhbGwoZywgdCwgZCwgITApIHx8IGQuZGVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSB2b2lkIDAgIT09IHMuYyA/IHMuYyA6IGksIGggPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcCA9IHAgPT09IGsuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciAmJiAhMCA9PT0gZC5zdGF0aWMgPyBuLmdldFBsYWNlaG9sZGVyLmNhbGwoZywgdCwgZCwgITApIHx8IGQuZGVmIDogcCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEwICE9PSAocyA9IFAocykpICYmIHZvaWQgMCAhPT0gcy5wb3MgJiYgcy5wb3MgIT09IHQgJiYgKGggPSBzLnBvcyksICEwICE9PSBzICYmIHZvaWQgMCA9PT0gcy5wb3MgJiYgdm9pZCAwID09PSBzLmMgPyAhMSA6ICghMSA9PT0gdi5jYWxsKGcsIGUsIHkuZXh0ZW5kKHt9LCBjLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbC5jYWxsKGcsIHAsIGQsIGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBhLCBoKSAmJiAocyA9ICExKSwgITEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSksIHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBlLmJlZ2luICYmICh4ID0gZy5pc1JUTCA/IGUuZW5kIDogZS5iZWdpbik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBTID0gITAsIE0gPSB5LmV4dGVuZCghMCwge30sIGIudmFsaWRQb3NpdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoITEgPT09IGsua2VlcFN0YXRpYyAmJiB2b2lkIDAgIT09IGIuZXhjbHVkZXNbeF0gJiYgITAgIT09IG8gJiYgITAgIT09IGEpIGZvciAodmFyIF8gPSB4OyBfIDwgKGcuaXNSVEwgPyBlLmJlZ2luIDogZS5lbmQpOyBfKyspIHZvaWQgMCAhPT0gYi5leGNsdWRlc1tfXSAmJiAoYi5leGNsdWRlc1tfXSA9IHZvaWQgMCwgXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBiLnRlc3RzW19dKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygay5wcmVWYWxpZGF0aW9uICYmICEwICE9PSBhICYmICEwICE9PSBkICYmIChTID0gUChTID0gay5wcmVWYWxpZGF0aW9uLmNhbGwoZywgci5nZXRCdWZmZXIuY2FsbChnKSwgeCwgdCwgdS5jYWxsKGcsIGUpLCBrLCBiLCBlLCBpIHx8IG8pKSksIFxuICAgICAgICAgICAgICAgICAgICAhMCA9PT0gUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFMgPSB3KHgsIHQsIGkpLCAoIWkgfHwgITAgPT09IGEpICYmICExID09PSBTICYmICEwICE9PSBkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIE8gPSBiLnZhbGlkUG9zaXRpb25zW3hdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghTyB8fCAhMCAhPT0gTy5tYXRjaC5zdGF0aWMgfHwgTy5tYXRjaC5kZWYgIT09IHQgJiYgdCAhPT0gay5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrLmluc2VydE1vZGUgfHwgdm9pZCAwID09PSBiLnZhbGlkUG9zaXRpb25zW3Iuc2Vla05leHQuY2FsbChnLCB4KV0gfHwgZS5lbmQgPiB4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRSA9ICExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIuaml0T2Zmc2V0W3hdICYmIHZvaWQgMCA9PT0gYi52YWxpZFBvc2l0aW9uc1tyLnNlZWtOZXh0LmNhbGwoZywgeCldICYmICExICE9PSAoUyA9IGYuY2FsbChnLCB4ICsgYi5qaXRPZmZzZXRbeF0sIHQsICEwLCAhMCkpICYmICghMCAhPT0gbyAmJiAoUy5jYXJldCA9IHgpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEUgPSAhMCksIGUuZW5kID4geCAmJiAoYi52YWxpZFBvc2l0aW9uc1t4XSA9IHZvaWQgMCksICFFICYmICFyLmlzTWFzay5jYWxsKGcsIHgsIGsua2VlcFN0YXRpYyAmJiAwID09PSB4KSkgZm9yICh2YXIgVCA9IHggKyAxLCBqID0gci5zZWVrTmV4dC5jYWxsKGcsIHgsICExLCAwICE9PSB4KTsgVCA8PSBqOyBUKyspIGlmICghMSAhPT0gKFMgPSB3KFQsIHQsIGkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFMgPSBoLmNhbGwoZywgeCwgdm9pZCAwICE9PSBTLnBvcyA/IFMucG9zIDogVCkgfHwgUywgeCA9IFQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgUyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHIuc2Vla05leHQuY2FsbChnLCB4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBnLmhhc0FsdGVybmF0b3IgJiYgITAgIT09IG8gJiYgIWkgJiYgKCExID09PSBTICYmIGsua2VlcFN0YXRpYyAmJiAoYy5jYWxsKGcsIHIuZ2V0QnVmZmVyLmNhbGwoZykpIHx8IDAgPT09IHgpID8gUyA9IHMuY2FsbChnLCB4LCB0LCBpLCBhLCB2b2lkIDAsIGUpIDogKHUuY2FsbChnLCBlKSAmJiBiLnRlc3RzW3hdICYmIGIudGVzdHNbeF0ubGVuZ3RoID4gMSAmJiBrLmtlZXBTdGF0aWMgfHwgMSA9PSBTICYmICEwICE9PSBrLm51bWVyaWNJbnB1dCAmJiBiLnRlc3RzW3hdICYmIGIudGVzdHNbeF0ubGVuZ3RoID4gMSAmJiByLmdldExhc3RWYWxpZFBvc2l0aW9uLmNhbGwoZywgdm9pZCAwLCAhMCkgPiB4KSAmJiAoUyA9IHMuY2FsbChnLCAhMCkpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAhMCA9PT0gUyAmJiAoUyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHhcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGsucG9zdFZhbGlkYXRpb24gJiYgITAgIT09IGEgJiYgITAgIT09IGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBBID0gay5wb3N0VmFsaWRhdGlvbi5jYWxsKGcsIHIuZ2V0QnVmZmVyLmNhbGwoZywgITApLCB2b2lkIDAgIT09IGUuYmVnaW4gPyBnLmlzUlRMID8gZS5lbmQgOiBlLmJlZ2luIDogZSwgdCwgUywgaywgYiwgaSwgbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2b2lkIDAgIT09IEEgJiYgKFMgPSAhMCA9PT0gQSA/IFMgOiBBKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBTICYmIHZvaWQgMCA9PT0gUy5wb3MgJiYgKFMucG9zID0geCksICExID09PSBTIHx8ICEwID09PSBkID8gKHIucmVzZXRNYXNrU2V0LmNhbGwoZywgITApLCBcbiAgICAgICAgICAgICAgICAgICAgYi52YWxpZFBvc2l0aW9ucyA9IHkuZXh0ZW5kKCEwLCBbXSwgTSkpIDogaC5jYWxsKGcsIHZvaWQgMCwgeCwgITApO1xuICAgICAgICAgICAgICAgICAgICB2YXIgRCA9IFAoUyk7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gZy5tYXhMZW5ndGggJiYgKHIuZ2V0QnVmZmVyLmNhbGwoZykubGVuZ3RoID4gZy5tYXhMZW5ndGggJiYgIWEgJiYgKHIucmVzZXRNYXNrU2V0LmNhbGwoZywgITApLCBcbiAgICAgICAgICAgICAgICAgICAgYi52YWxpZFBvc2l0aW9ucyA9IHkuZXh0ZW5kKCEwLCBbXSwgTSksIEQgPSAhMSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZChlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSB0aGlzLm1hc2tzZXQsIHIgPSAhMSwgbyA9IG4uZ2V0VGVzdHMuY2FsbCh0aGlzLCBlKSwgcyA9IDA7IHMgPCBvLmxlbmd0aDsgcysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob1tzXS5tYXRjaCAmJiAob1tzXS5tYXRjaC5uYXRpdmVEZWYgPT09IHQubWF0Y2hbaS5zaGlmdFBvc2l0aW9ucyA/IFwiZGVmXCIgOiBcIm5hdGl2ZURlZlwiXSAmJiAoIWkuc2hpZnRQb3NpdGlvbnMgfHwgIXQubWF0Y2guc3RhdGljKSB8fCBvW3NdLm1hdGNoLm5hdGl2ZURlZiA9PT0gdC5tYXRjaC5uYXRpdmVEZWYgfHwgaS5yZWdleCAmJiAhb1tzXS5tYXRjaC5zdGF0aWMgJiYgb1tzXS5tYXRjaC5mbi50ZXN0KHQuaW5wdXQsIGEsIGUsICExLCBpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByID0gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob1tzXS5tYXRjaCAmJiBvW3NdLm1hdGNoLmRlZiA9PT0gdC5tYXRjaC5uYXRpdmVEZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhMSA9PT0gciAmJiB2b2lkIDAgIT09IGEuaml0T2Zmc2V0W2VdICYmIChyID0gZC5jYWxsKHRoaXMsIGUgKyBhLmppdE9mZnNldFtlXSwgdCwgaSkpLCBcbiAgICAgICAgICAgICAgICAgICAgcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcChlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuLCBhLCBzID0gdGhpcywgbCA9IHRoaXMubWFza3NldCwgYyA9IHRoaXMub3B0cywgdSA9IHRoaXMuZGVwZW5kZW5jeUxpYiwgZiA9IGMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciwgZCA9IHMuaXNSVEwgPyBpLnNsaWNlKCkucmV2ZXJzZSgpIDogaTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciA9IFwiXCIsICEwID09PSBlKSByLnJlc2V0TWFza1NldC5jYWxsKHMpLCBsLnRlc3RzID0ge30sIFxuICAgICAgICAgICAgICAgICAgICBlID0gMCwgdCA9IGkubGVuZ3RoLCBhID0gci5kZXRlcm1pbmVOZXdDYXJldFBvc2l0aW9uLmNhbGwocywge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IDBcbiAgICAgICAgICAgICAgICAgICAgfSwgITEpLmJlZ2luOyBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobiA9IGU7IG4gPCB0OyBuKyspIGRlbGV0ZSBsLnZhbGlkUG9zaXRpb25zW25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgYSA9IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgdS5FdmVudChcImtleXByZXNzXCIpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKG4gPSBlOyBuIDwgdDsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwLmtleSA9IGRbbl0udG9TdHJpbmcoKSwgcy5pZ25vcmFibGUgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoID0gby5FdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChzLCBwLCAhMCwgITEsICExLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICExICE9PSBoICYmIHZvaWQgMCAhPT0gaCAmJiAoYSA9IGguZm9yd2FyZFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIgPSBmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBoKGUsIHQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSB0aGlzLCBvID0gdGhpcy5tYXNrc2V0LCBzID0gdGhpcy5kZXBlbmRlbmN5TGliO1xuICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBlKSBmb3IgKGUgPSB0IC0gMTsgZSA+IDAgJiYgIW8udmFsaWRQb3NpdGlvbnNbZV07IGUtLSkgO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gZTsgbCA8IHQ7IGwrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gby52YWxpZFBvc2l0aW9uc1tsXSAmJiAhci5pc01hc2suY2FsbChhLCBsLCAhMSkpIGlmICgwID09IGwgPyBuLmdldFRlc3QuY2FsbChhLCBsKSA6IG8udmFsaWRQb3NpdGlvbnNbbCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBuLmdldFRlc3RzLmNhbGwoYSwgbCkuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiID09PSBjW2MubGVuZ3RoIC0gMV0ubWF0Y2guZGVmICYmIGMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUsIGQgPSBuLmRldGVybWluZVRlc3RUZW1wbGF0ZS5jYWxsKGEsIGwsIGMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICYmICghMCAhPT0gZC5tYXRjaC5qaXQgfHwgXCJtYXN0ZXJcIiA9PT0gZC5tYXRjaC5uZXdCbG9ja01hcmtlciAmJiAodSA9IG8udmFsaWRQb3NpdGlvbnNbbCArIDFdKSAmJiAhMCA9PT0gdS5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIpICYmICgoZCA9IHMuZXh0ZW5kKHt9LCBkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuLmdldFBsYWNlaG9sZGVyLmNhbGwoYSwgbCwgZC5tYXRjaCwgITApIHx8IGQubWF0Y2guZGVmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLmdlbmVyYXRlZElucHV0ID0gITAsIHYuY2FsbChhLCBsLCBkLCAhMCksICEwICE9PSBpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG8udmFsaWRQb3NpdGlvbnNbdF0uaW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvLnZhbGlkUG9zaXRpb25zW3RdID0gdm9pZCAwLCBmLmNhbGwoYSwgdCwgcCwgITAsICEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdihlLCB0LCBpLCBhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvID0gdGhpcywgcyA9IHRoaXMubWFza3NldCwgbCA9IHRoaXMub3B0cywgYyA9IHRoaXMuZGVwZW5kZW5jeUxpYjtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdShlLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHRbZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBuICYmICEwID09PSBuLm1hdGNoLnN0YXRpYyAmJiAhMCAhPT0gbi5tYXRjaC5vcHRpb25hbGl0eSAmJiAodm9pZCAwID09PSB0WzBdIHx8IHZvaWQgMCA9PT0gdFswXS5hbHRlcm5hdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGkuYmVnaW4gPD0gZSAtIDEgPyB0W2UgLSAxXSAmJiAhMCA9PT0gdFtlIC0gMV0ubWF0Y2guc3RhdGljICYmIHRbZSAtIDFdIDogdFtlIC0gMV0sIHIgPSBpLmVuZCA+IGUgKyAxID8gdFtlICsgMV0gJiYgITAgPT09IHRbZSArIDFdLm1hdGNoLnN0YXRpYyAmJiB0W2UgKyAxXSA6IHRbZSArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhICYmIHI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSAwLCBoID0gdm9pZCAwICE9PSBlLmJlZ2luID8gZS5iZWdpbiA6IGUsIHYgPSB2b2lkIDAgIT09IGUuZW5kID8gZS5lbmQgOiBlLCBtID0gITA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmJlZ2luID4gZS5lbmQgJiYgKGggPSBlLmVuZCwgdiA9IGUuYmVnaW4pLCBhID0gdm9pZCAwICE9PSBhID8gYSA6IGgsIHZvaWQgMCA9PT0gaSAmJiAoaCAhPT0gdiB8fCBsLmluc2VydE1vZGUgJiYgdm9pZCAwICE9PSBzLnZhbGlkUG9zaXRpb25zW2FdIHx8IHZvaWQgMCA9PT0gdCB8fCB0Lm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciB8fCB0Lm1hdGNoLm9wdGlvbmFsaXR5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGcsIHkgPSBjLmV4dGVuZCghMCwge30sIHMudmFsaWRQb3NpdGlvbnMpLCBrID0gci5nZXRMYXN0VmFsaWRQb3NpdGlvbi5jYWxsKG8sIHZvaWQgMCwgITApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChzLnAgPSBoLCBnID0gazsgZyA+PSBoOyBnLS0pIGRlbGV0ZSBzLnZhbGlkUG9zaXRpb25zW2ddLCB2b2lkIDAgPT09IHQgJiYgZGVsZXRlIHMudGVzdHNbZyArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGIsIHgsIFAgPSBhLCB3ID0gUDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodCAmJiAocy52YWxpZFBvc2l0aW9uc1thXSA9IGMuZXh0ZW5kKCEwLCB7fSwgdCksIHcrKywgUCsrKSwgZyA9IHQgPyB2IDogdiAtIDE7IGcgPD0gazsgZysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gKGIgPSB5W2ddKSAmJiAhMCAhPT0gYi5nZW5lcmF0ZWRJbnB1dCAmJiAoZyA+PSB2IHx8IGcgPj0gaCAmJiB1KGcsIHksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW46IGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDtcIlwiICE9PSBuLmdldFRlc3QuY2FsbChvLCB3KS5tYXRjaC5kZWY7ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCExICE9PSAoeCA9IGQuY2FsbChvLCB3LCBiLCBsKSkgfHwgXCIrXCIgPT09IGIubWF0Y2guZGVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIrXCIgPT09IGIubWF0Y2guZGVmICYmIHIuZ2V0QnVmZmVyLmNhbGwobywgITApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBTID0gZi5jYWxsKG8sIHcsIGIuaW5wdXQsIFwiK1wiICE9PSBiLm1hdGNoLmRlZiwgITApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtID0gITEgIT09IFMsIFAgPSAoUy5wb3MgfHwgdykgKyAxLCAhbSAmJiB4KSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBtID0gITE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gdCAmJiBiLm1hdGNoLnN0YXRpYyAmJiBnID09PSBlLmJlZ2luICYmIHArKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbSAmJiByLmdldEJ1ZmZlci5jYWxsKG8pLCB3ID4gcy5tYXNrTGVuZ3RoKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiID09IG4uZ2V0VGVzdC5jYWxsKG8sIHcpLm1hdGNoLmRlZiAmJiAobSA9ICExKSwgdyA9IFA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW0pIHJldHVybiBzLnZhbGlkUG9zaXRpb25zID0gYy5leHRlbmQoITAsIFtdLCB5KSwgci5yZXNldE1hc2tTZXQuY2FsbChvLCAhMCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgITE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB0ICYmIG4uZ2V0VGVzdC5jYWxsKG8sIGEpLm1hdGNoLmNkID09PSB0Lm1hdGNoLmNkICYmIChzLnZhbGlkUG9zaXRpb25zW2FdID0gYy5leHRlbmQoITAsIHt9LCB0KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByLnJlc2V0TWFza1NldC5jYWxsKG8sICEwKSwgcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHQgPSB7fTtcbiAgICAgICAgZnVuY3Rpb24gaShuKSB7XG4gICAgICAgICAgICB2YXIgYSA9IHRbbl07XG4gICAgICAgICAgICBpZiAodm9pZCAwICE9PSBhKSByZXR1cm4gYS5leHBvcnRzO1xuICAgICAgICAgICAgdmFyIHIgPSB0W25dID0ge1xuICAgICAgICAgICAgICAgIGV4cG9ydHM6IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGVbbl0ociwgci5leHBvcnRzLCBpKSwgci5leHBvcnRzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0ge307XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBlLCB0ID0gbjtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiAhMFxuICAgICAgICAgICAgfSksIHQuZGVmYXVsdCA9IHZvaWQgMCwgaSg3MTQ5KSwgaSgzMTk0KSwgaSg5MzAyKSwgaSg0MDEzKSwgaSgzODUxKSwgaSgyMTkpLCBpKDIwNyksIFxuICAgICAgICAgICAgaSg1Mjk2KTtcbiAgICAgICAgICAgIHZhciBhID0gKChlID0gaSgyMzk0KSkgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBlXG4gICAgICAgICAgICB9KS5kZWZhdWx0O1xuICAgICAgICAgICAgdC5kZWZhdWx0ID0gYTtcbiAgICAgICAgfSgpLCBuO1xuICAgIH0oKTtcbn0pKTsiLCAiLyoqXG4gKiBAbGljZW5zZSBNSVRcbiAqIHRvcGJhciAxLjAuMCwgMjAyMS0wMS0wNlxuICogaHR0cDovL2J1dW5ndXllbi5naXRodWIuaW8vdG9wYmFyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgQnV1IE5ndXllblxuICovXG4oZnVuY3Rpb24od2luZG93LGRvY3VtZW50KXtcInVzZSBzdHJpY3RcIjshZnVuY3Rpb24oKXtmb3IodmFyIGxhc3RUaW1lPTAsdmVuZG9ycz1bXCJtc1wiLFwibW96XCIsXCJ3ZWJraXRcIixcIm9cIl0seD0wO3g8dmVuZG9ycy5sZW5ndGgmJiF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOysreCl3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXdpbmRvd1t2ZW5kb3JzW3hdK1wiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT13aW5kb3dbdmVuZG9yc1t4XStcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdfHx3aW5kb3dbdmVuZG9yc1t4XStcIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZVwiXTt3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbihjYWxsYmFjayxlbGVtZW50KXt2YXIgY3VyclRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGltZVRvQ2FsbD1NYXRoLm1heCgwLDE2LShjdXJyVGltZS1sYXN0VGltZSkpLGlkPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Y2FsbGJhY2soY3VyclRpbWUrdGltZVRvQ2FsbCl9LHRpbWVUb0NhbGwpO3JldHVybiBsYXN0VGltZT1jdXJyVGltZSt0aW1lVG9DYWxsLGlkfSksd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHwod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKGlkKXtjbGVhclRpbWVvdXQoaWQpfSl9KCk7ZnVuY3Rpb24gcmVwYWludCgpe2NhbnZhcy53aWR0aD13aW5kb3cuaW5uZXJXaWR0aCxjYW52YXMuaGVpZ2h0PTUqb3B0aW9ucy5iYXJUaGlja25lc3M7dmFyIGN0eD1jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2N0eC5zaGFkb3dCbHVyPW9wdGlvbnMuc2hhZG93Qmx1cixjdHguc2hhZG93Q29sb3I9b3B0aW9ucy5zaGFkb3dDb2xvcjt2YXIgc3RvcCxsaW5lR3JhZGllbnQ9Y3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCxjYW52YXMud2lkdGgsMCk7Zm9yKHN0b3AgaW4gb3B0aW9ucy5iYXJDb2xvcnMpbGluZUdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLG9wdGlvbnMuYmFyQ29sb3JzW3N0b3BdKTtjdHgubGluZVdpZHRoPW9wdGlvbnMuYmFyVGhpY2tuZXNzLGN0eC5iZWdpblBhdGgoKSxjdHgubW92ZVRvKDAsb3B0aW9ucy5iYXJUaGlja25lc3MvMiksY3R4LmxpbmVUbyhNYXRoLmNlaWwoY3VycmVudFByb2dyZXNzKmNhbnZhcy53aWR0aCksb3B0aW9ucy5iYXJUaGlja25lc3MvMiksY3R4LnN0cm9rZVN0eWxlPWxpbmVHcmFkaWVudCxjdHguc3Ryb2tlKCl9dmFyIGNhbnZhcyxwcm9ncmVzc1RpbWVySWQsZmFkZVRpbWVySWQsY3VycmVudFByb2dyZXNzLHNob3dpbmcsb3B0aW9ucz17YXV0b1J1bjohMCxiYXJUaGlja25lc3M6MyxiYXJDb2xvcnM6ezA6XCJyZ2JhKDI2LCAgMTg4LCAxNTYsIC45KVwiLFwiLjI1XCI6XCJyZ2JhKDUyLCAgMTUyLCAyMTksIC45KVwiLFwiLjUwXCI6XCJyZ2JhKDI0MSwgMTk2LCAxNSwgIC45KVwiLFwiLjc1XCI6XCJyZ2JhKDIzMCwgMTI2LCAzNCwgIC45KVwiLFwiMS4wXCI6XCJyZ2JhKDIxMSwgODQsICAwLCAgIC45KVwifSxzaGFkb3dCbHVyOjEwLHNoYWRvd0NvbG9yOlwicmdiYSgwLCAgIDAsICAgMCwgICAuNilcIixjbGFzc05hbWU6bnVsbH0sdG9wYmFyPXtjb25maWc6ZnVuY3Rpb24ob3B0cyl7Zm9yKHZhciBrZXkgaW4gb3B0cylvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkmJihvcHRpb25zW2tleV09b3B0c1trZXldKX0sc2hvdzpmdW5jdGlvbigpe3ZhciB0eXBlLGhhbmRsZXIsZWxlbTtzaG93aW5nfHwoc2hvd2luZz0hMCxudWxsIT09ZmFkZVRpbWVySWQmJndpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShmYWRlVGltZXJJZCksY2FudmFzfHwoKGVsZW09KGNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKS5zdHlsZSkucG9zaXRpb249XCJmaXhlZFwiLGVsZW0udG9wPWVsZW0ubGVmdD1lbGVtLnJpZ2h0PWVsZW0ubWFyZ2luPWVsZW0ucGFkZGluZz0wLGVsZW0uekluZGV4PTEwMDAwMSxlbGVtLmRpc3BsYXk9XCJub25lXCIsb3B0aW9ucy5jbGFzc05hbWUmJmNhbnZhcy5jbGFzc0xpc3QuYWRkKG9wdGlvbnMuY2xhc3NOYW1lKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyksdHlwZT1cInJlc2l6ZVwiLGhhbmRsZXI9cmVwYWludCwoZWxlbT13aW5kb3cpLmFkZEV2ZW50TGlzdGVuZXI/ZWxlbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsaGFuZGxlciwhMSk6ZWxlbS5hdHRhY2hFdmVudD9lbGVtLmF0dGFjaEV2ZW50KFwib25cIit0eXBlLGhhbmRsZXIpOmVsZW1bXCJvblwiK3R5cGVdPWhhbmRsZXIpLGNhbnZhcy5zdHlsZS5vcGFjaXR5PTEsY2FudmFzLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRvcGJhci5wcm9ncmVzcygwKSxvcHRpb25zLmF1dG9SdW4mJmZ1bmN0aW9uIGxvb3AoKXtwcm9ncmVzc1RpbWVySWQ9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKSx0b3BiYXIucHJvZ3Jlc3MoXCIrXCIrLjA1Kk1hdGgucG93KDEtTWF0aC5zcXJ0KGN1cnJlbnRQcm9ncmVzcyksMikpfSgpKX0scHJvZ3Jlc3M6ZnVuY3Rpb24odG8pe3JldHVybiB2b2lkIDA9PT10b3x8KFwic3RyaW5nXCI9PXR5cGVvZiB0byYmKHRvPSgwPD10by5pbmRleE9mKFwiK1wiKXx8MDw9dG8uaW5kZXhPZihcIi1cIik/Y3VycmVudFByb2dyZXNzOjApK3BhcnNlRmxvYXQodG8pKSxjdXJyZW50UHJvZ3Jlc3M9MTx0bz8xOnRvLHJlcGFpbnQoKSksY3VycmVudFByb2dyZXNzfSxoaWRlOmZ1bmN0aW9uKCl7c2hvd2luZyYmKHNob3dpbmc9ITEsbnVsbCE9cHJvZ3Jlc3NUaW1lcklkJiYod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHByb2dyZXNzVGltZXJJZCkscHJvZ3Jlc3NUaW1lcklkPW51bGwpLGZ1bmN0aW9uIGxvb3AoKXtyZXR1cm4gMTw9dG9wYmFyLnByb2dyZXNzKFwiKy4xXCIpJiYoY2FudmFzLnN0eWxlLm9wYWNpdHktPS4wNSxjYW52YXMuc3R5bGUub3BhY2l0eTw9LjA1KT8oY2FudmFzLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdm9pZChmYWRlVGltZXJJZD1udWxsKSk6dm9pZChmYWRlVGltZXJJZD13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApKX0oKSl9fTtcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dG9wYmFyOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gdG9wYmFyfSk6dGhpcy50b3BiYXI9dG9wYmFyfSkuY2FsbCh0aGlzLHdpbmRvdyxkb2N1bWVudCk7IiwgIlwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBQb2x5ZmlsbEV2ZW50ID0gZXZlbnRDb25zdHJ1Y3RvcigpO1xuXG4gIGZ1bmN0aW9uIGV2ZW50Q29uc3RydWN0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHdpbmRvdy5DdXN0b21FdmVudDtcbiAgICAvLyBJRTw9OSBTdXBwb3J0XG4gICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcykge1xuICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHtidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogdW5kZWZpbmVkfTtcbiAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICAgIGV2dC5pbml0Q3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSwgcGFyYW1zLmRldGFpbCk7XG4gICAgICByZXR1cm4gZXZ0O1xuICAgIH1cbiAgICBDdXN0b21FdmVudC5wcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlO1xuICAgIHJldHVybiBDdXN0b21FdmVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1aWxkSGlkZGVuSW5wdXQobmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgaW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XG4gICAgaW5wdXQubmFtZSA9IG5hbWU7XG4gICAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDbGljayhlbGVtZW50LCB0YXJnZXRNb2RpZmllcktleSkge1xuICAgIHZhciB0byA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10b1wiKSxcbiAgICAgICAgbWV0aG9kID0gYnVpbGRIaWRkZW5JbnB1dChcIl9tZXRob2RcIiwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1ldGhvZFwiKSksXG4gICAgICAgIGNzcmYgPSBidWlsZEhpZGRlbklucHV0KFwiX2NzcmZfdG9rZW5cIiwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNzcmZcIikpLFxuICAgICAgICBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIiksXG4gICAgICAgIHN1Ym1pdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxcbiAgICAgICAgdGFyZ2V0ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIik7XG5cbiAgICBmb3JtLm1ldGhvZCA9IChlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbWV0aG9kXCIpID09PSBcImdldFwiKSA/IFwiZ2V0XCIgOiBcInBvc3RcIjtcbiAgICBmb3JtLmFjdGlvbiA9IHRvO1xuICAgIGZvcm0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgaWYgKHRhcmdldCkgZm9ybS50YXJnZXQgPSB0YXJnZXQ7XG4gICAgZWxzZSBpZiAodGFyZ2V0TW9kaWZpZXJLZXkpIGZvcm0udGFyZ2V0ID0gXCJfYmxhbmtcIjtcblxuICAgIGZvcm0uYXBwZW5kQ2hpbGQoY3NyZik7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChtZXRob2QpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG5cbiAgICAvLyBJbnNlcnQgYSBidXR0b24gYW5kIGNsaWNrIGl0IGluc3RlYWQgb2YgdXNpbmcgYGZvcm0uc3VibWl0YFxuICAgIC8vIGJlY2F1c2UgdGhlIGBzdWJtaXRgIGZ1bmN0aW9uIGRvZXMgbm90IGVtaXQgYSBgc3VibWl0YCBldmVudC5cbiAgICBzdWJtaXQudHlwZSA9IFwic3VibWl0XCI7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChzdWJtaXQpO1xuICAgIHN1Ym1pdC5jbGljaygpO1xuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBlLnRhcmdldDtcbiAgICBpZiAoZS5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG5cbiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSkge1xuICAgICAgdmFyIHBob2VuaXhMaW5rRXZlbnQgPSBuZXcgUG9seWZpbGxFdmVudCgncGhvZW5peC5saW5rLmNsaWNrJywge1xuICAgICAgICBcImJ1YmJsZXNcIjogdHJ1ZSwgXCJjYW5jZWxhYmxlXCI6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWVsZW1lbnQuZGlzcGF0Y2hFdmVudChwaG9lbml4TGlua0V2ZW50KSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tZXRob2RcIikpIHtcbiAgICAgICAgaGFuZGxlQ2xpY2soZWxlbWVudCwgZS5tZXRhS2V5IHx8IGUuc2hpZnRLZXkpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9LCBmYWxzZSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Bob2VuaXgubGluay5jbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIG1lc3NhZ2UgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbmZpcm1cIik7XG4gICAgaWYobWVzc2FnZSAmJiAhd2luZG93LmNvbmZpcm0obWVzc2FnZSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0sIGZhbHNlKTtcbn0pKCk7XG4iLCAiaW1wb3J0IFwicGhvZW5peF9odG1sXCI7XG5pbXBvcnQgSW5wdXRtYXNrIGZyb20gXCJpbnB1dG1hc2tcIjtcblxuY29uc3QgY3BmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN1c2VyX2NwZlwiKTtcblxuLy8gaW5wdXQgbWFza3NcbmlmIChjcGYpIElucHV0bWFzayh7IG1hc2s6IFwiOTk5Ljk5OS45OTktOTlcIiB9KS5tYXNrKGNwZik7XG5cbi8vIGxpdmUgdmlld1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSBcInBob2VuaXhcIjtcbmltcG9ydCB7IExpdmVTb2NrZXQgfSBmcm9tIFwicGhvZW5peF9saXZlX3ZpZXdcIjtcblxubGV0IGNzcmZUb2tlbiA9IGRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwibWV0YVtuYW1lPSdjc3JmLXRva2VuJ11cIilcbiAgLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XG5sZXQgbGl2ZVNvY2tldCA9IG5ldyBMaXZlU29ja2V0KFwiL2xpdmVcIiwgU29ja2V0LCB7XG4gIHBhcmFtczogeyBfY3NyZl90b2tlbjogY3NyZlRva2VuIH0sXG4gIGhvb2tzOiBIb29rcyxcbn0pO1xuXG4vLyBDb25uZWN0IGlmIHRoZXJlIGFyZSBhbnkgTGl2ZVZpZXdzIG9uIHRoZSBwYWdlXG5saXZlU29ja2V0LmNvbm5lY3QoKTtcbndpbmRvdy5saXZlU29ja2V0ID0gbGl2ZVNvY2tldDtcblxuLy8gU2hvdyBwcm9ncmVzcyBiYXIgb24gbGl2ZSBuYXZpZ2F0aW9uIGFuZCBmb3JtIHN1Ym1pdHNcbmltcG9ydCB0b3BiYXIgZnJvbSBcInRvcGJhclwiO1xuXG50b3BiYXIuY29uZmlnKHsgYmFyQ29sb3JzOiB7IDA6IFwiIzI5ZFwiIH0sIHNoYWRvd0NvbG9yOiBcInJnYmEoMCwgMCwgMCwgLjMpXCIgfSk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBoeDpwYWdlLWxvYWRpbmctc3RhcnRcIiwgKGluZm8pID0+IHRvcGJhci5zaG93KCkpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwaHg6cGFnZS1sb2FkaW5nLXN0b3BcIiwgKGluZm8pID0+IHRvcGJhci5oaWRlKCkpO1xuIiwgIi8vIHdyYXBzIHZhbHVlIGluIGNsb3N1cmUgb3IgcmV0dXJucyBjbG9zdXJlXG5leHBvcnQgbGV0IGNsb3N1cmUgPSAodmFsdWUpID0+IHtcbiAgaWYodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpe1xuICAgIHJldHVybiB2YWx1ZVxuICB9IGVsc2Uge1xuICAgIGxldCBjbG9zdXJlID0gZnVuY3Rpb24gKCl7IHJldHVybiB2YWx1ZSB9XG4gICAgcmV0dXJuIGNsb3N1cmVcbiAgfVxufVxuIiwgImV4cG9ydCBjb25zdCBnbG9iYWxTZWxmID0gdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogbnVsbFxuZXhwb3J0IGNvbnN0IHBoeFdpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiBudWxsXG5leHBvcnQgY29uc3QgZ2xvYmFsID0gZ2xvYmFsU2VsZiB8fCBwaHhXaW5kb3cgfHwgZ2xvYmFsXG5leHBvcnQgY29uc3QgREVGQVVMVF9WU04gPSBcIjIuMC4wXCJcbmV4cG9ydCBjb25zdCBTT0NLRVRfU1RBVEVTID0ge2Nvbm5lY3Rpbmc6IDAsIG9wZW46IDEsIGNsb3Npbmc6IDIsIGNsb3NlZDogM31cbmV4cG9ydCBjb25zdCBERUZBVUxUX1RJTUVPVVQgPSAxMDAwMFxuZXhwb3J0IGNvbnN0IFdTX0NMT1NFX05PUk1BTCA9IDEwMDBcbmV4cG9ydCBjb25zdCBDSEFOTkVMX1NUQVRFUyA9IHtcbiAgY2xvc2VkOiBcImNsb3NlZFwiLFxuICBlcnJvcmVkOiBcImVycm9yZWRcIixcbiAgam9pbmVkOiBcImpvaW5lZFwiLFxuICBqb2luaW5nOiBcImpvaW5pbmdcIixcbiAgbGVhdmluZzogXCJsZWF2aW5nXCIsXG59XG5leHBvcnQgY29uc3QgQ0hBTk5FTF9FVkVOVFMgPSB7XG4gIGNsb3NlOiBcInBoeF9jbG9zZVwiLFxuICBlcnJvcjogXCJwaHhfZXJyb3JcIixcbiAgam9pbjogXCJwaHhfam9pblwiLFxuICByZXBseTogXCJwaHhfcmVwbHlcIixcbiAgbGVhdmU6IFwicGh4X2xlYXZlXCJcbn1cblxuZXhwb3J0IGNvbnN0IFRSQU5TUE9SVFMgPSB7XG4gIGxvbmdwb2xsOiBcImxvbmdwb2xsXCIsXG4gIHdlYnNvY2tldDogXCJ3ZWJzb2NrZXRcIlxufVxuZXhwb3J0IGNvbnN0IFhIUl9TVEFURVMgPSB7XG4gIGNvbXBsZXRlOiA0XG59XG4iLCAiLyoqXG4gKiBJbml0aWFsaXplcyB0aGUgUHVzaFxuICogQHBhcmFtIHtDaGFubmVsfSBjaGFubmVsIC0gVGhlIENoYW5uZWxcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIFRoZSBldmVudCwgZm9yIGV4YW1wbGUgYFwicGh4X2pvaW5cImBcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIC0gVGhlIHBheWxvYWQsIGZvciBleGFtcGxlIGB7dXNlcl9pZDogMTIzfWBcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0IC0gVGhlIHB1c2ggdGltZW91dCBpbiBtaWxsaXNlY29uZHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHVzaCB7XG4gIGNvbnN0cnVjdG9yKGNoYW5uZWwsIGV2ZW50LCBwYXlsb2FkLCB0aW1lb3V0KXtcbiAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsXG4gICAgdGhpcy5ldmVudCA9IGV2ZW50XG4gICAgdGhpcy5wYXlsb2FkID0gcGF5bG9hZCB8fCBmdW5jdGlvbiAoKXsgcmV0dXJuIHt9IH1cbiAgICB0aGlzLnJlY2VpdmVkUmVzcCA9IG51bGxcbiAgICB0aGlzLnRpbWVvdXQgPSB0aW1lb3V0XG4gICAgdGhpcy50aW1lb3V0VGltZXIgPSBudWxsXG4gICAgdGhpcy5yZWNIb29rcyA9IFtdXG4gICAgdGhpcy5zZW50ID0gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZW91dFxuICAgKi9cbiAgcmVzZW5kKHRpbWVvdXQpe1xuICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXRcbiAgICB0aGlzLnJlc2V0KClcbiAgICB0aGlzLnNlbmQoKVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBzZW5kKCl7XG4gICAgaWYodGhpcy5oYXNSZWNlaXZlZChcInRpbWVvdXRcIikpeyByZXR1cm4gfVxuICAgIHRoaXMuc3RhcnRUaW1lb3V0KClcbiAgICB0aGlzLnNlbnQgPSB0cnVlXG4gICAgdGhpcy5jaGFubmVsLnNvY2tldC5wdXNoKHtcbiAgICAgIHRvcGljOiB0aGlzLmNoYW5uZWwudG9waWMsXG4gICAgICBldmVudDogdGhpcy5ldmVudCxcbiAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCgpLFxuICAgICAgcmVmOiB0aGlzLnJlZixcbiAgICAgIGpvaW5fcmVmOiB0aGlzLmNoYW5uZWwuam9pblJlZigpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHN0YXR1c1xuICAgKiBAcGFyYW0geyp9IGNhbGxiYWNrXG4gICAqL1xuICByZWNlaXZlKHN0YXR1cywgY2FsbGJhY2spe1xuICAgIGlmKHRoaXMuaGFzUmVjZWl2ZWQoc3RhdHVzKSl7XG4gICAgICBjYWxsYmFjayh0aGlzLnJlY2VpdmVkUmVzcC5yZXNwb25zZSlcbiAgICB9XG5cbiAgICB0aGlzLnJlY0hvb2tzLnB1c2goe3N0YXR1cywgY2FsbGJhY2t9KVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlc2V0KCl7XG4gICAgdGhpcy5jYW5jZWxSZWZFdmVudCgpXG4gICAgdGhpcy5yZWYgPSBudWxsXG4gICAgdGhpcy5yZWZFdmVudCA9IG51bGxcbiAgICB0aGlzLnJlY2VpdmVkUmVzcCA9IG51bGxcbiAgICB0aGlzLnNlbnQgPSBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBtYXRjaFJlY2VpdmUoe3N0YXR1cywgcmVzcG9uc2UsIF9yZWZ9KXtcbiAgICB0aGlzLnJlY0hvb2tzLmZpbHRlcihoID0+IGguc3RhdHVzID09PSBzdGF0dXMpXG4gICAgICAuZm9yRWFjaChoID0+IGguY2FsbGJhY2socmVzcG9uc2UpKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjYW5jZWxSZWZFdmVudCgpe1xuICAgIGlmKCF0aGlzLnJlZkV2ZW50KXsgcmV0dXJuIH1cbiAgICB0aGlzLmNoYW5uZWwub2ZmKHRoaXMucmVmRXZlbnQpXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNhbmNlbFRpbWVvdXQoKXtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0VGltZXIpXG4gICAgdGhpcy50aW1lb3V0VGltZXIgPSBudWxsXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXJ0VGltZW91dCgpe1xuICAgIGlmKHRoaXMudGltZW91dFRpbWVyKXsgdGhpcy5jYW5jZWxUaW1lb3V0KCkgfVxuICAgIHRoaXMucmVmID0gdGhpcy5jaGFubmVsLnNvY2tldC5tYWtlUmVmKClcbiAgICB0aGlzLnJlZkV2ZW50ID0gdGhpcy5jaGFubmVsLnJlcGx5RXZlbnROYW1lKHRoaXMucmVmKVxuXG4gICAgdGhpcy5jaGFubmVsLm9uKHRoaXMucmVmRXZlbnQsIHBheWxvYWQgPT4ge1xuICAgICAgdGhpcy5jYW5jZWxSZWZFdmVudCgpXG4gICAgICB0aGlzLmNhbmNlbFRpbWVvdXQoKVxuICAgICAgdGhpcy5yZWNlaXZlZFJlc3AgPSBwYXlsb2FkXG4gICAgICB0aGlzLm1hdGNoUmVjZWl2ZShwYXlsb2FkKVxuICAgIH0pXG5cbiAgICB0aGlzLnRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy50cmlnZ2VyKFwidGltZW91dFwiLCB7fSlcbiAgICB9LCB0aGlzLnRpbWVvdXQpXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhc1JlY2VpdmVkKHN0YXR1cyl7XG4gICAgcmV0dXJuIHRoaXMucmVjZWl2ZWRSZXNwICYmIHRoaXMucmVjZWl2ZWRSZXNwLnN0YXR1cyA9PT0gc3RhdHVzXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRyaWdnZXIoc3RhdHVzLCByZXNwb25zZSl7XG4gICAgdGhpcy5jaGFubmVsLnRyaWdnZXIodGhpcy5yZWZFdmVudCwge3N0YXR1cywgcmVzcG9uc2V9KVxuICB9XG59XG4iLCAiLyoqXG4gKlxuICogQ3JlYXRlcyBhIHRpbWVyIHRoYXQgYWNjZXB0cyBhIGB0aW1lckNhbGNgIGZ1bmN0aW9uIHRvIHBlcmZvcm1cbiAqIGNhbGN1bGF0ZWQgdGltZW91dCByZXRyaWVzLCBzdWNoIGFzIGV4cG9uZW50aWFsIGJhY2tvZmYuXG4gKlxuICogQGV4YW1wbGVcbiAqIGxldCByZWNvbm5lY3RUaW1lciA9IG5ldyBUaW1lcigoKSA9PiB0aGlzLmNvbm5lY3QoKSwgZnVuY3Rpb24odHJpZXMpe1xuICogICByZXR1cm4gWzEwMDAsIDUwMDAsIDEwMDAwXVt0cmllcyAtIDFdIHx8IDEwMDAwXG4gKiB9KVxuICogcmVjb25uZWN0VGltZXIuc2NoZWR1bGVUaW1lb3V0KCkgLy8gZmlyZXMgYWZ0ZXIgMTAwMFxuICogcmVjb25uZWN0VGltZXIuc2NoZWR1bGVUaW1lb3V0KCkgLy8gZmlyZXMgYWZ0ZXIgNTAwMFxuICogcmVjb25uZWN0VGltZXIucmVzZXQoKVxuICogcmVjb25uZWN0VGltZXIuc2NoZWR1bGVUaW1lb3V0KCkgLy8gZmlyZXMgYWZ0ZXIgMTAwMFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0aW1lckNhbGNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZXIge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgdGltZXJDYWxjKXtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB0aGlzLnRpbWVyQ2FsYyA9IHRpbWVyQ2FsY1xuICAgIHRoaXMudGltZXIgPSBudWxsXG4gICAgdGhpcy50cmllcyA9IDBcbiAgfVxuXG4gIHJlc2V0KCl7XG4gICAgdGhpcy50cmllcyA9IDBcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcilcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGFueSBwcmV2aW91cyBzY2hlZHVsZVRpbWVvdXQgYW5kIHNjaGVkdWxlcyBjYWxsYmFja1xuICAgKi9cbiAgc2NoZWR1bGVUaW1lb3V0KCl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpXG5cbiAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnRyaWVzID0gdGhpcy50cmllcyArIDFcbiAgICAgIHRoaXMuY2FsbGJhY2soKVxuICAgIH0sIHRoaXMudGltZXJDYWxjKHRoaXMudHJpZXMgKyAxKSlcbiAgfVxufVxuIiwgImltcG9ydCB7Y2xvc3VyZX0gZnJvbSBcIi4vdXRpbHNcIlxuaW1wb3J0IHtcbiAgQ0hBTk5FTF9FVkVOVFMsXG4gIENIQU5ORUxfU1RBVEVTLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQgUHVzaCBmcm9tIFwiLi9wdXNoXCJcbmltcG9ydCBUaW1lciBmcm9tIFwiLi90aW1lclwiXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BpY1xuICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKX0gcGFyYW1zXG4gKiBAcGFyYW0ge1NvY2tldH0gc29ja2V0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYW5uZWwge1xuICBjb25zdHJ1Y3Rvcih0b3BpYywgcGFyYW1zLCBzb2NrZXQpe1xuICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5jbG9zZWRcbiAgICB0aGlzLnRvcGljID0gdG9waWNcbiAgICB0aGlzLnBhcmFtcyA9IGNsb3N1cmUocGFyYW1zIHx8IHt9KVxuICAgIHRoaXMuc29ja2V0ID0gc29ja2V0XG4gICAgdGhpcy5iaW5kaW5ncyA9IFtdXG4gICAgdGhpcy5iaW5kaW5nUmVmID0gMFxuICAgIHRoaXMudGltZW91dCA9IHRoaXMuc29ja2V0LnRpbWVvdXRcbiAgICB0aGlzLmpvaW5lZE9uY2UgPSBmYWxzZVxuICAgIHRoaXMuam9pblB1c2ggPSBuZXcgUHVzaCh0aGlzLCBDSEFOTkVMX0VWRU5UUy5qb2luLCB0aGlzLnBhcmFtcywgdGhpcy50aW1lb3V0KVxuICAgIHRoaXMucHVzaEJ1ZmZlciA9IFtdXG4gICAgdGhpcy5zdGF0ZUNoYW5nZVJlZnMgPSBbXVxuXG4gICAgdGhpcy5yZWpvaW5UaW1lciA9IG5ldyBUaW1lcigoKSA9PiB7XG4gICAgICBpZih0aGlzLnNvY2tldC5pc0Nvbm5lY3RlZCgpKXsgdGhpcy5yZWpvaW4oKSB9XG4gICAgfSwgdGhpcy5zb2NrZXQucmVqb2luQWZ0ZXJNcylcbiAgICB0aGlzLnN0YXRlQ2hhbmdlUmVmcy5wdXNoKHRoaXMuc29ja2V0Lm9uRXJyb3IoKCkgPT4gdGhpcy5yZWpvaW5UaW1lci5yZXNldCgpKSlcbiAgICB0aGlzLnN0YXRlQ2hhbmdlUmVmcy5wdXNoKHRoaXMuc29ja2V0Lm9uT3BlbigoKSA9PiB7XG4gICAgICB0aGlzLnJlam9pblRpbWVyLnJlc2V0KClcbiAgICAgIGlmKHRoaXMuaXNFcnJvcmVkKCkpeyB0aGlzLnJlam9pbigpIH1cbiAgICB9KVxuICAgIClcbiAgICB0aGlzLmpvaW5QdXNoLnJlY2VpdmUoXCJva1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLnN0YXRlID0gQ0hBTk5FTF9TVEFURVMuam9pbmVkXG4gICAgICB0aGlzLnJlam9pblRpbWVyLnJlc2V0KClcbiAgICAgIHRoaXMucHVzaEJ1ZmZlci5mb3JFYWNoKHB1c2hFdmVudCA9PiBwdXNoRXZlbnQuc2VuZCgpKVxuICAgICAgdGhpcy5wdXNoQnVmZmVyID0gW11cbiAgICB9KVxuICAgIHRoaXMuam9pblB1c2gucmVjZWl2ZShcImVycm9yXCIsICgpID0+IHtcbiAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkXG4gICAgICBpZih0aGlzLnNvY2tldC5pc0Nvbm5lY3RlZCgpKXsgdGhpcy5yZWpvaW5UaW1lci5zY2hlZHVsZVRpbWVvdXQoKSB9XG4gICAgfSlcbiAgICB0aGlzLm9uQ2xvc2UoKCkgPT4ge1xuICAgICAgdGhpcy5yZWpvaW5UaW1lci5yZXNldCgpXG4gICAgICBpZih0aGlzLnNvY2tldC5oYXNMb2dnZXIoKSkgdGhpcy5zb2NrZXQubG9nKFwiY2hhbm5lbFwiLCBgY2xvc2UgJHt0aGlzLnRvcGljfSAke3RoaXMuam9pblJlZigpfWApXG4gICAgICB0aGlzLnN0YXRlID0gQ0hBTk5FTF9TVEFURVMuY2xvc2VkXG4gICAgICB0aGlzLnNvY2tldC5yZW1vdmUodGhpcylcbiAgICB9KVxuICAgIHRoaXMub25FcnJvcihyZWFzb24gPT4ge1xuICAgICAgaWYodGhpcy5zb2NrZXQuaGFzTG9nZ2VyKCkpIHRoaXMuc29ja2V0LmxvZyhcImNoYW5uZWxcIiwgYGVycm9yICR7dGhpcy50b3BpY31gLCByZWFzb24pXG4gICAgICBpZih0aGlzLmlzSm9pbmluZygpKXsgdGhpcy5qb2luUHVzaC5yZXNldCgpIH1cbiAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkXG4gICAgICBpZih0aGlzLnNvY2tldC5pc0Nvbm5lY3RlZCgpKXsgdGhpcy5yZWpvaW5UaW1lci5zY2hlZHVsZVRpbWVvdXQoKSB9XG4gICAgfSlcbiAgICB0aGlzLmpvaW5QdXNoLnJlY2VpdmUoXCJ0aW1lb3V0XCIsICgpID0+IHtcbiAgICAgIGlmKHRoaXMuc29ja2V0Lmhhc0xvZ2dlcigpKSB0aGlzLnNvY2tldC5sb2coXCJjaGFubmVsXCIsIGB0aW1lb3V0ICR7dGhpcy50b3BpY30gKCR7dGhpcy5qb2luUmVmKCl9KWAsIHRoaXMuam9pblB1c2gudGltZW91dClcbiAgICAgIGxldCBsZWF2ZVB1c2ggPSBuZXcgUHVzaCh0aGlzLCBDSEFOTkVMX0VWRU5UUy5sZWF2ZSwgY2xvc3VyZSh7fSksIHRoaXMudGltZW91dClcbiAgICAgIGxlYXZlUHVzaC5zZW5kKClcbiAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkXG4gICAgICB0aGlzLmpvaW5QdXNoLnJlc2V0KClcbiAgICAgIGlmKHRoaXMuc29ja2V0LmlzQ29ubmVjdGVkKCkpeyB0aGlzLnJlam9pblRpbWVyLnNjaGVkdWxlVGltZW91dCgpIH1cbiAgICB9KVxuICAgIHRoaXMub24oQ0hBTk5FTF9FVkVOVFMucmVwbHksIChwYXlsb2FkLCByZWYpID0+IHtcbiAgICAgIHRoaXMudHJpZ2dlcih0aGlzLnJlcGx5RXZlbnROYW1lKHJlZiksIHBheWxvYWQpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBKb2luIHRoZSBjaGFubmVsXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gdGltZW91dFxuICAgKiBAcmV0dXJucyB7UHVzaH1cbiAgICovXG4gIGpvaW4odGltZW91dCA9IHRoaXMudGltZW91dCl7XG4gICAgaWYodGhpcy5qb2luZWRPbmNlKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInRyaWVkIHRvIGpvaW4gbXVsdGlwbGUgdGltZXMuICdqb2luJyBjYW4gb25seSBiZSBjYWxsZWQgYSBzaW5nbGUgdGltZSBwZXIgY2hhbm5lbCBpbnN0YW5jZVwiKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRpbWVvdXQgPSB0aW1lb3V0XG4gICAgICB0aGlzLmpvaW5lZE9uY2UgPSB0cnVlXG4gICAgICB0aGlzLnJlam9pbigpXG4gICAgICByZXR1cm4gdGhpcy5qb2luUHVzaFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIb29rIGludG8gY2hhbm5lbCBjbG9zZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgb25DbG9zZShjYWxsYmFjayl7XG4gICAgdGhpcy5vbihDSEFOTkVMX0VWRU5UUy5jbG9zZSwgY2FsbGJhY2spXG4gIH1cblxuICAvKipcbiAgICogSG9vayBpbnRvIGNoYW5uZWwgZXJyb3JzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBvbkVycm9yKGNhbGxiYWNrKXtcbiAgICByZXR1cm4gdGhpcy5vbihDSEFOTkVMX0VWRU5UUy5lcnJvciwgcmVhc29uID0+IGNhbGxiYWNrKHJlYXNvbikpXG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlcyBvbiBjaGFubmVsIGV2ZW50c1xuICAgKlxuICAgKiBTdWJzY3JpcHRpb24gcmV0dXJucyBhIHJlZiBjb3VudGVyLCB3aGljaCBjYW4gYmUgdXNlZCBsYXRlciB0b1xuICAgKiB1bnN1YnNjcmliZSB0aGUgZXhhY3QgZXZlbnQgbGlzdGVuZXJcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3QgcmVmMSA9IGNoYW5uZWwub24oXCJldmVudFwiLCBkb19zdHVmZilcbiAgICogY29uc3QgcmVmMiA9IGNoYW5uZWwub24oXCJldmVudFwiLCBkb19vdGhlcl9zdHVmZilcbiAgICogY2hhbm5lbC5vZmYoXCJldmVudFwiLCByZWYxKVxuICAgKiAvLyBTaW5jZSB1bnN1YnNjcmlwdGlvbiwgZG9fc3R1ZmYgd29uJ3QgZmlyZSxcbiAgICogLy8gd2hpbGUgZG9fb3RoZXJfc3R1ZmYgd2lsbCBrZWVwIGZpcmluZyBvbiB0aGUgXCJldmVudFwiXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7aW50ZWdlcn0gcmVmXG4gICAqL1xuICBvbihldmVudCwgY2FsbGJhY2spe1xuICAgIGxldCByZWYgPSB0aGlzLmJpbmRpbmdSZWYrK1xuICAgIHRoaXMuYmluZGluZ3MucHVzaCh7ZXZlbnQsIHJlZiwgY2FsbGJhY2t9KVxuICAgIHJldHVybiByZWZcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZXMgb2ZmIG9mIGNoYW5uZWwgZXZlbnRzXG4gICAqXG4gICAqIFVzZSB0aGUgcmVmIHJldHVybmVkIGZyb20gYSBjaGFubmVsLm9uKCkgdG8gdW5zdWJzY3JpYmUgb25lXG4gICAqIGhhbmRsZXIsIG9yIHBhc3Mgbm90aGluZyBmb3IgdGhlIHJlZiB0byB1bnN1YnNjcmliZSBhbGxcbiAgICogaGFuZGxlcnMgZm9yIHRoZSBnaXZlbiBldmVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogLy8gVW5zdWJzY3JpYmUgdGhlIGRvX3N0dWZmIGhhbmRsZXJcbiAgICogY29uc3QgcmVmMSA9IGNoYW5uZWwub24oXCJldmVudFwiLCBkb19zdHVmZilcbiAgICogY2hhbm5lbC5vZmYoXCJldmVudFwiLCByZWYxKVxuICAgKlxuICAgKiAvLyBVbnN1YnNjcmliZSBhbGwgaGFuZGxlcnMgZnJvbSBldmVudFxuICAgKiBjaGFubmVsLm9mZihcImV2ZW50XCIpXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHJlZlxuICAgKi9cbiAgb2ZmKGV2ZW50LCByZWYpe1xuICAgIHRoaXMuYmluZGluZ3MgPSB0aGlzLmJpbmRpbmdzLmZpbHRlcigoYmluZCkgPT4ge1xuICAgICAgcmV0dXJuICEoYmluZC5ldmVudCA9PT0gZXZlbnQgJiYgKHR5cGVvZiByZWYgPT09IFwidW5kZWZpbmVkXCIgfHwgcmVmID09PSBiaW5kLnJlZikpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2FuUHVzaCgpeyByZXR1cm4gdGhpcy5zb2NrZXQuaXNDb25uZWN0ZWQoKSAmJiB0aGlzLmlzSm9pbmVkKCkgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIG1lc3NhZ2UgYGV2ZW50YCB0byBwaG9lbml4IHdpdGggdGhlIHBheWxvYWQgYHBheWxvYWRgLlxuICAgKiBQaG9lbml4IHJlY2VpdmVzIHRoaXMgaW4gdGhlIGBoYW5kbGVfaW4oZXZlbnQsIHBheWxvYWQsIHNvY2tldClgXG4gICAqIGZ1bmN0aW9uLiBpZiBwaG9lbml4IHJlcGxpZXMgb3IgaXQgdGltZXMgb3V0IChkZWZhdWx0IDEwMDAwbXMpLFxuICAgKiB0aGVuIG9wdGlvbmFsbHkgdGhlIHJlcGx5IGNhbiBiZSByZWNlaXZlZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY2hhbm5lbC5wdXNoKFwiZXZlbnRcIilcbiAgICogICAucmVjZWl2ZShcIm9rXCIsIHBheWxvYWQgPT4gY29uc29sZS5sb2coXCJwaG9lbml4IHJlcGxpZWQ6XCIsIHBheWxvYWQpKVxuICAgKiAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgZXJyID0+IGNvbnNvbGUubG9nKFwicGhvZW5peCBlcnJvcmVkXCIsIGVycikpXG4gICAqICAgLnJlY2VpdmUoXCJ0aW1lb3V0XCIsICgpID0+IGNvbnNvbGUubG9nKFwidGltZWQgb3V0IHB1c2hpbmdcIikpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZFxuICAgKiBAcGFyYW0ge251bWJlcn0gW3RpbWVvdXRdXG4gICAqIEByZXR1cm5zIHtQdXNofVxuICAgKi9cbiAgcHVzaChldmVudCwgcGF5bG9hZCwgdGltZW91dCA9IHRoaXMudGltZW91dCl7XG4gICAgcGF5bG9hZCA9IHBheWxvYWQgfHwge31cbiAgICBpZighdGhpcy5qb2luZWRPbmNlKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgdHJpZWQgdG8gcHVzaCAnJHtldmVudH0nIHRvICcke3RoaXMudG9waWN9JyBiZWZvcmUgam9pbmluZy4gVXNlIGNoYW5uZWwuam9pbigpIGJlZm9yZSBwdXNoaW5nIGV2ZW50c2ApXG4gICAgfVxuICAgIGxldCBwdXNoRXZlbnQgPSBuZXcgUHVzaCh0aGlzLCBldmVudCwgZnVuY3Rpb24gKCl7IHJldHVybiBwYXlsb2FkIH0sIHRpbWVvdXQpXG4gICAgaWYodGhpcy5jYW5QdXNoKCkpe1xuICAgICAgcHVzaEV2ZW50LnNlbmQoKVxuICAgIH0gZWxzZSB7XG4gICAgICBwdXNoRXZlbnQuc3RhcnRUaW1lb3V0KClcbiAgICAgIHRoaXMucHVzaEJ1ZmZlci5wdXNoKHB1c2hFdmVudClcbiAgICB9XG5cbiAgICByZXR1cm4gcHVzaEV2ZW50XG4gIH1cblxuICAvKiogTGVhdmVzIHRoZSBjaGFubmVsXG4gICAqXG4gICAqIFVuc3Vic2NyaWJlcyBmcm9tIHNlcnZlciBldmVudHMsIGFuZFxuICAgKiBpbnN0cnVjdHMgY2hhbm5lbCB0byB0ZXJtaW5hdGUgb24gc2VydmVyXG4gICAqXG4gICAqIFRyaWdnZXJzIG9uQ2xvc2UoKSBob29rc1xuICAgKlxuICAgKiBUbyByZWNlaXZlIGxlYXZlIGFja25vd2xlZGdlbWVudHMsIHVzZSB0aGUgYHJlY2VpdmVgXG4gICAqIGhvb2sgdG8gYmluZCB0byB0aGUgc2VydmVyIGFjaywgaWU6XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNoYW5uZWwubGVhdmUoKS5yZWNlaXZlKFwib2tcIiwgKCkgPT4gYWxlcnQoXCJsZWZ0IVwiKSApXG4gICAqXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gdGltZW91dFxuICAgKiBAcmV0dXJucyB7UHVzaH1cbiAgICovXG4gIGxlYXZlKHRpbWVvdXQgPSB0aGlzLnRpbWVvdXQpe1xuICAgIHRoaXMucmVqb2luVGltZXIucmVzZXQoKVxuICAgIHRoaXMuam9pblB1c2guY2FuY2VsVGltZW91dCgpXG5cbiAgICB0aGlzLnN0YXRlID0gQ0hBTk5FTF9TVEFURVMubGVhdmluZ1xuICAgIGxldCBvbkNsb3NlID0gKCkgPT4ge1xuICAgICAgaWYodGhpcy5zb2NrZXQuaGFzTG9nZ2VyKCkpIHRoaXMuc29ja2V0LmxvZyhcImNoYW5uZWxcIiwgYGxlYXZlICR7dGhpcy50b3BpY31gKVxuICAgICAgdGhpcy50cmlnZ2VyKENIQU5ORUxfRVZFTlRTLmNsb3NlLCBcImxlYXZlXCIpXG4gICAgfVxuICAgIGxldCBsZWF2ZVB1c2ggPSBuZXcgUHVzaCh0aGlzLCBDSEFOTkVMX0VWRU5UUy5sZWF2ZSwgY2xvc3VyZSh7fSksIHRpbWVvdXQpXG4gICAgbGVhdmVQdXNoLnJlY2VpdmUoXCJva1wiLCAoKSA9PiBvbkNsb3NlKCkpXG4gICAgICAucmVjZWl2ZShcInRpbWVvdXRcIiwgKCkgPT4gb25DbG9zZSgpKVxuICAgIGxlYXZlUHVzaC5zZW5kKClcbiAgICBpZighdGhpcy5jYW5QdXNoKCkpeyBsZWF2ZVB1c2gudHJpZ2dlcihcIm9rXCIsIHt9KSB9XG5cbiAgICByZXR1cm4gbGVhdmVQdXNoXG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGFibGUgbWVzc2FnZSBob29rXG4gICAqXG4gICAqIFJlY2VpdmVzIGFsbCBldmVudHMgZm9yIHNwZWNpYWxpemVkIG1lc3NhZ2UgaGFuZGxpbmdcbiAgICogYmVmb3JlIGRpc3BhdGNoaW5nIHRvIHRoZSBjaGFubmVsIGNhbGxiYWNrcy5cbiAgICpcbiAgICogTXVzdCByZXR1cm4gdGhlIHBheWxvYWQsIG1vZGlmaWVkIG9yIHVubW9kaWZpZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gcmVmXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBvbk1lc3NhZ2UoX2V2ZW50LCBwYXlsb2FkLCBfcmVmKXsgcmV0dXJuIHBheWxvYWQgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaXNNZW1iZXIodG9waWMsIGV2ZW50LCBwYXlsb2FkLCBqb2luUmVmKXtcbiAgICBpZih0aGlzLnRvcGljICE9PSB0b3BpYyl7IHJldHVybiBmYWxzZSB9XG5cbiAgICBpZihqb2luUmVmICYmIGpvaW5SZWYgIT09IHRoaXMuam9pblJlZigpKXtcbiAgICAgIGlmKHRoaXMuc29ja2V0Lmhhc0xvZ2dlcigpKSB0aGlzLnNvY2tldC5sb2coXCJjaGFubmVsXCIsIFwiZHJvcHBpbmcgb3V0ZGF0ZWQgbWVzc2FnZVwiLCB7dG9waWMsIGV2ZW50LCBwYXlsb2FkLCBqb2luUmVmfSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgam9pblJlZigpeyByZXR1cm4gdGhpcy5qb2luUHVzaC5yZWYgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVqb2luKHRpbWVvdXQgPSB0aGlzLnRpbWVvdXQpe1xuICAgIGlmKHRoaXMuaXNMZWF2aW5nKCkpeyByZXR1cm4gfVxuICAgIHRoaXMuc29ja2V0LmxlYXZlT3BlblRvcGljKHRoaXMudG9waWMpXG4gICAgdGhpcy5zdGF0ZSA9IENIQU5ORUxfU1RBVEVTLmpvaW5pbmdcbiAgICB0aGlzLmpvaW5QdXNoLnJlc2VuZCh0aW1lb3V0KVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0cmlnZ2VyKGV2ZW50LCBwYXlsb2FkLCByZWYsIGpvaW5SZWYpe1xuICAgIGxldCBoYW5kbGVkUGF5bG9hZCA9IHRoaXMub25NZXNzYWdlKGV2ZW50LCBwYXlsb2FkLCByZWYsIGpvaW5SZWYpXG4gICAgaWYocGF5bG9hZCAmJiAhaGFuZGxlZFBheWxvYWQpeyB0aHJvdyBuZXcgRXJyb3IoXCJjaGFubmVsIG9uTWVzc2FnZSBjYWxsYmFja3MgbXVzdCByZXR1cm4gdGhlIHBheWxvYWQsIG1vZGlmaWVkIG9yIHVubW9kaWZpZWRcIikgfVxuXG4gICAgbGV0IGV2ZW50QmluZGluZ3MgPSB0aGlzLmJpbmRpbmdzLmZpbHRlcihiaW5kID0+IGJpbmQuZXZlbnQgPT09IGV2ZW50KVxuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGV2ZW50QmluZGluZ3MubGVuZ3RoOyBpKyspe1xuICAgICAgbGV0IGJpbmQgPSBldmVudEJpbmRpbmdzW2ldXG4gICAgICBiaW5kLmNhbGxiYWNrKGhhbmRsZWRQYXlsb2FkLCByZWYsIGpvaW5SZWYgfHwgdGhpcy5qb2luUmVmKCkpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXBseUV2ZW50TmFtZShyZWYpeyByZXR1cm4gYGNoYW5fcmVwbHlfJHtyZWZ9YCB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc0Nsb3NlZCgpeyByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMuY2xvc2VkIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzRXJyb3JlZCgpeyByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMuZXJyb3JlZCB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc0pvaW5lZCgpeyByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMuam9pbmVkIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzSm9pbmluZygpeyByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMuam9pbmluZyB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc0xlYXZpbmcoKXsgcmV0dXJuIHRoaXMuc3RhdGUgPT09IENIQU5ORUxfU1RBVEVTLmxlYXZpbmcgfVxufVxuIiwgImltcG9ydCB7XG4gIGdsb2JhbCxcbiAgWEhSX1NUQVRFU1xufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBamF4IHtcblxuICBzdGF0aWMgcmVxdWVzdChtZXRob2QsIGVuZFBvaW50LCBhY2NlcHQsIGJvZHksIHRpbWVvdXQsIG9udGltZW91dCwgY2FsbGJhY2spe1xuICAgIGlmKGdsb2JhbC5YRG9tYWluUmVxdWVzdCl7XG4gICAgICBsZXQgcmVxID0gbmV3IGdsb2JhbC5YRG9tYWluUmVxdWVzdCgpIC8vIElFOCwgSUU5XG4gICAgICByZXR1cm4gdGhpcy54ZG9tYWluUmVxdWVzdChyZXEsIG1ldGhvZCwgZW5kUG9pbnQsIGJvZHksIHRpbWVvdXQsIG9udGltZW91dCwgY2FsbGJhY2spXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCByZXEgPSBuZXcgZ2xvYmFsLlhNTEh0dHBSZXF1ZXN0KCkgLy8gSUU3KywgRmlyZWZveCwgQ2hyb21lLCBPcGVyYSwgU2FmYXJpXG4gICAgICByZXR1cm4gdGhpcy54aHJSZXF1ZXN0KHJlcSwgbWV0aG9kLCBlbmRQb2ludCwgYWNjZXB0LCBib2R5LCB0aW1lb3V0LCBvbnRpbWVvdXQsIGNhbGxiYWNrKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB4ZG9tYWluUmVxdWVzdChyZXEsIG1ldGhvZCwgZW5kUG9pbnQsIGJvZHksIHRpbWVvdXQsIG9udGltZW91dCwgY2FsbGJhY2spe1xuICAgIHJlcS50aW1lb3V0ID0gdGltZW91dFxuICAgIHJlcS5vcGVuKG1ldGhvZCwgZW5kUG9pbnQpXG4gICAgcmVxLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGxldCByZXNwb25zZSA9IHRoaXMucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwb25zZSlcbiAgICB9XG4gICAgaWYob250aW1lb3V0KXsgcmVxLm9udGltZW91dCA9IG9udGltZW91dCB9XG5cbiAgICAvLyBXb3JrIGFyb3VuZCBidWcgaW4gSUU5IHRoYXQgcmVxdWlyZXMgYW4gYXR0YWNoZWQgb25wcm9ncmVzcyBoYW5kbGVyXG4gICAgcmVxLm9ucHJvZ3Jlc3MgPSAoKSA9PiB7IH1cblxuICAgIHJlcS5zZW5kKGJvZHkpXG4gICAgcmV0dXJuIHJlcVxuICB9XG5cbiAgc3RhdGljIHhoclJlcXVlc3QocmVxLCBtZXRob2QsIGVuZFBvaW50LCBhY2NlcHQsIGJvZHksIHRpbWVvdXQsIG9udGltZW91dCwgY2FsbGJhY2spe1xuICAgIHJlcS5vcGVuKG1ldGhvZCwgZW5kUG9pbnQsIHRydWUpXG4gICAgcmVxLnRpbWVvdXQgPSB0aW1lb3V0XG4gICAgcmVxLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgYWNjZXB0KVxuICAgIHJlcS5vbmVycm9yID0gKCkgPT4gY2FsbGJhY2sgJiYgY2FsbGJhY2sobnVsbClcbiAgICByZXEub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgaWYocmVxLnJlYWR5U3RhdGUgPT09IFhIUl9TVEFURVMuY29tcGxldGUgJiYgY2FsbGJhY2spe1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSB0aGlzLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KVxuICAgICAgICBjYWxsYmFjayhyZXNwb25zZSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYob250aW1lb3V0KXsgcmVxLm9udGltZW91dCA9IG9udGltZW91dCB9XG5cbiAgICByZXEuc2VuZChib2R5KVxuICAgIHJldHVybiByZXFcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZUpTT04ocmVzcCl7XG4gICAgaWYoIXJlc3AgfHwgcmVzcCA9PT0gXCJcIil7IHJldHVybiBudWxsIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXNwKVxuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgY29uc29sZSAmJiBjb25zb2xlLmxvZyhcImZhaWxlZCB0byBwYXJzZSBKU09OIHJlc3BvbnNlXCIsIHJlc3ApXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUob2JqLCBwYXJlbnRLZXkpe1xuICAgIGxldCBxdWVyeVN0ciA9IFtdXG4gICAgZm9yKHZhciBrZXkgaW4gb2JqKXtcbiAgICAgIGlmKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKXsgY29udGludWUgfVxuICAgICAgbGV0IHBhcmFtS2V5ID0gcGFyZW50S2V5ID8gYCR7cGFyZW50S2V5fVske2tleX1dYCA6IGtleVxuICAgICAgbGV0IHBhcmFtVmFsID0gb2JqW2tleV1cbiAgICAgIGlmKHR5cGVvZiBwYXJhbVZhbCA9PT0gXCJvYmplY3RcIil7XG4gICAgICAgIHF1ZXJ5U3RyLnB1c2godGhpcy5zZXJpYWxpemUocGFyYW1WYWwsIHBhcmFtS2V5KSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXJ5U3RyLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtS2V5KSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtVmFsKSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5U3RyLmpvaW4oXCImXCIpXG4gIH1cblxuICBzdGF0aWMgYXBwZW5kUGFyYW1zKHVybCwgcGFyYW1zKXtcbiAgICBpZihPYmplY3Qua2V5cyhwYXJhbXMpLmxlbmd0aCA9PT0gMCl7IHJldHVybiB1cmwgfVxuXG4gICAgbGV0IHByZWZpeCA9IHVybC5tYXRjaCgvXFw/LykgPyBcIiZcIiA6IFwiP1wiXG4gICAgcmV0dXJuIGAke3VybH0ke3ByZWZpeH0ke3RoaXMuc2VyaWFsaXplKHBhcmFtcyl9YFxuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgU09DS0VUX1NUQVRFUyxcbiAgVFJBTlNQT1JUU1xufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQgQWpheCBmcm9tIFwiLi9hamF4XCJcblxubGV0IGFycmF5QnVmZmVyVG9CYXNlNjQgPSAoYnVmZmVyKSA9PiB7XG4gIGxldCBiaW5hcnkgPSBcIlwiXG4gIGxldCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcilcbiAgbGV0IGxlbiA9IGJ5dGVzLmJ5dGVMZW5ndGhcbiAgZm9yKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKXsgYmluYXJ5ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pIH1cbiAgcmV0dXJuIGJ0b2EoYmluYXJ5KVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb25nUG9sbCB7XG5cbiAgY29uc3RydWN0b3IoZW5kUG9pbnQpe1xuICAgIHRoaXMuZW5kUG9pbnQgPSBudWxsXG4gICAgdGhpcy50b2tlbiA9IG51bGxcbiAgICB0aGlzLnNraXBIZWFydGJlYXQgPSB0cnVlXG4gICAgdGhpcy5yZXFzID0gbmV3IFNldCgpXG4gICAgdGhpcy5hd2FpdGluZ0JhdGNoQWNrID0gZmFsc2VcbiAgICB0aGlzLmN1cnJlbnRCYXRjaCA9IG51bGxcbiAgICB0aGlzLmN1cnJlbnRCYXRjaFRpbWVyID0gbnVsbFxuICAgIHRoaXMuYmF0Y2hCdWZmZXIgPSBbXVxuICAgIHRoaXMub25vcGVuID0gZnVuY3Rpb24gKCl7IH0gLy8gbm9vcFxuICAgIHRoaXMub25lcnJvciA9IGZ1bmN0aW9uICgpeyB9IC8vIG5vb3BcbiAgICB0aGlzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uICgpeyB9IC8vIG5vb3BcbiAgICB0aGlzLm9uY2xvc2UgPSBmdW5jdGlvbiAoKXsgfSAvLyBub29wXG4gICAgdGhpcy5wb2xsRW5kcG9pbnQgPSB0aGlzLm5vcm1hbGl6ZUVuZHBvaW50KGVuZFBvaW50KVxuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFNPQ0tFVF9TVEFURVMuY29ubmVjdGluZ1xuICAgIHRoaXMucG9sbCgpXG4gIH1cblxuICBub3JtYWxpemVFbmRwb2ludChlbmRQb2ludCl7XG4gICAgcmV0dXJuIChlbmRQb2ludFxuICAgICAgLnJlcGxhY2UoXCJ3czovL1wiLCBcImh0dHA6Ly9cIilcbiAgICAgIC5yZXBsYWNlKFwid3NzOi8vXCIsIFwiaHR0cHM6Ly9cIilcbiAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoLiopXFwvXCIgKyBUUkFOU1BPUlRTLndlYnNvY2tldCksIFwiJDEvXCIgKyBUUkFOU1BPUlRTLmxvbmdwb2xsKSlcbiAgfVxuXG4gIGVuZHBvaW50VVJMKCl7XG4gICAgcmV0dXJuIEFqYXguYXBwZW5kUGFyYW1zKHRoaXMucG9sbEVuZHBvaW50LCB7dG9rZW46IHRoaXMudG9rZW59KVxuICB9XG5cbiAgY2xvc2VBbmRSZXRyeShjb2RlLCByZWFzb24sIHdhc0NsZWFuKXtcbiAgICB0aGlzLmNsb3NlKGNvZGUsIHJlYXNvbiwgd2FzQ2xlYW4pXG4gICAgdGhpcy5yZWFkeVN0YXRlID0gU09DS0VUX1NUQVRFUy5jb25uZWN0aW5nXG4gIH1cblxuICBvbnRpbWVvdXQoKXtcbiAgICB0aGlzLm9uZXJyb3IoXCJ0aW1lb3V0XCIpXG4gICAgdGhpcy5jbG9zZUFuZFJldHJ5KDEwMDUsIFwidGltZW91dFwiLCBmYWxzZSlcbiAgfVxuXG4gIGlzQWN0aXZlKCl7IHJldHVybiB0aGlzLnJlYWR5U3RhdGUgPT09IFNPQ0tFVF9TVEFURVMub3BlbiB8fCB0aGlzLnJlYWR5U3RhdGUgPT09IFNPQ0tFVF9TVEFURVMuY29ubmVjdGluZyB9XG5cbiAgcG9sbCgpe1xuICAgIHRoaXMuYWpheChcIkdFVFwiLCBcImFwcGxpY2F0aW9uL2pzb25cIiwgbnVsbCwgKCkgPT4gdGhpcy5vbnRpbWVvdXQoKSwgcmVzcCA9PiB7XG4gICAgICBpZihyZXNwKXtcbiAgICAgICAgdmFyIHtzdGF0dXMsIHRva2VuLCBtZXNzYWdlc30gPSByZXNwXG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdHVzID0gMFxuICAgICAgfVxuXG4gICAgICBzd2l0Y2goc3RhdHVzKXtcbiAgICAgICAgY2FzZSAyMDA6XG4gICAgICAgICAgbWVzc2FnZXMuZm9yRWFjaChtc2cgPT4ge1xuICAgICAgICAgICAgLy8gVGFza3MgYXJlIHdoYXQgdGhpbmdzIGxpa2UgZXZlbnQgaGFuZGxlcnMsIHNldFRpbWVvdXQgY2FsbGJhY2tzLFxuICAgICAgICAgICAgLy8gcHJvbWlzZSByZXNvbHZlcyBhbmQgbW9yZSBhcmUgcnVuIHdpdGhpbi5cbiAgICAgICAgICAgIC8vIEluIG1vZGVybiBicm93c2VycywgdGhlcmUgYXJlIHR3byBkaWZmZXJlbnQga2luZHMgb2YgdGFza3MsXG4gICAgICAgICAgICAvLyBtaWNyb3Rhc2tzIGFuZCBtYWNyb3Rhc2tzLlxuICAgICAgICAgICAgLy8gTWljcm90YXNrcyBhcmUgbWFpbmx5IHVzZWQgZm9yIFByb21pc2VzLCB3aGlsZSBtYWNyb3Rhc2tzIGFyZVxuICAgICAgICAgICAgLy8gdXNlZCBmb3IgZXZlcnl0aGluZyBlbHNlLlxuICAgICAgICAgICAgLy8gTWljcm90YXNrcyBhbHdheXMgaGF2ZSBwcmlvcml0eSBvdmVyIG1hY3JvdGFza3MuIElmIHRoZSBKUyBlbmdpbmVcbiAgICAgICAgICAgIC8vIGlzIGxvb2tpbmcgZm9yIGEgdGFzayB0byBydW4sIGl0IHdpbGwgYWx3YXlzIHRyeSB0byBlbXB0eSB0aGVcbiAgICAgICAgICAgIC8vIG1pY3JvdGFzayBxdWV1ZSBiZWZvcmUgYXR0ZW1wdGluZyB0byBydW4gYW55dGhpbmcgZnJvbSB0aGVcbiAgICAgICAgICAgIC8vIG1hY3JvdGFzayBxdWV1ZS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBGb3IgdGhlIFdlYlNvY2tldCB0cmFuc3BvcnQsIG1lc3NhZ2VzIGFsd2F5cyBhcnJpdmUgaW4gdGhlaXIgb3duXG4gICAgICAgICAgICAvLyBldmVudC4gVGhpcyBtZWFucyB0aGF0IGlmIGFueSBwcm9taXNlcyBhcmUgcmVzb2x2ZWQgZnJvbSB3aXRoaW4sXG4gICAgICAgICAgICAvLyB0aGVpciBjYWxsYmFja3Mgd2lsbCBhbHdheXMgZmluaXNoIGV4ZWN1dGlvbiBieSB0aGUgdGltZSB0aGVcbiAgICAgICAgICAgIC8vIG5leHQgbWVzc2FnZSBldmVudCBoYW5kbGVyIGlzIHJ1bi5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBJbiBvcmRlciB0byBlbXVsYXRlIHRoaXMgYmVoYXZpb3VyLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSBlYWNoXG4gICAgICAgICAgICAvLyBvbm1lc3NhZ2UgaGFuZGxlciBpcyBydW4gd2l0aGluIGl0cyBvd24gbWFjcm90YXNrLlxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLm9ubWVzc2FnZSh7ZGF0YTogbXNnfSksIDApXG4gICAgICAgICAgfSlcbiAgICAgICAgICB0aGlzLnBvbGwoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjA0OlxuICAgICAgICAgIHRoaXMucG9sbCgpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0MTA6XG4gICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gU09DS0VUX1NUQVRFUy5vcGVuXG4gICAgICAgICAgdGhpcy5vbm9wZW4oe30pXG4gICAgICAgICAgdGhpcy5wb2xsKClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQwMzpcbiAgICAgICAgICB0aGlzLm9uZXJyb3IoNDAzKVxuICAgICAgICAgIHRoaXMuY2xvc2UoMTAwOCwgXCJmb3JiaWRkZW5cIiwgZmFsc2UpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDUwMDpcbiAgICAgICAgICB0aGlzLm9uZXJyb3IoNTAwKVxuICAgICAgICAgIHRoaXMuY2xvc2VBbmRSZXRyeSgxMDExLCBcImludGVybmFsIHNlcnZlciBlcnJvclwiLCA1MDApXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKGB1bmhhbmRsZWQgcG9sbCBzdGF0dXMgJHtzdGF0dXN9YClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gd2UgY29sbGVjdCBhbGwgcHVzaGVzIHdpdGhpbiB0aGUgY3VycmVudCBldmVudCBsb29wIGJ5XG4gIC8vIHNldFRpbWVvdXQgMCwgd2hpY2ggb3B0aW1pemVzIGJhY2stdG8tYmFjayBwcm9jZWR1cmFsXG4gIC8vIHB1c2hlcyBhZ2FpbnN0IGFuIGVtcHR5IGJ1ZmZlclxuXG4gIHNlbmQoYm9keSl7XG4gICAgaWYodHlwZW9mKGJvZHkpICE9PSBcInN0cmluZ1wiKXsgYm9keSA9IGFycmF5QnVmZmVyVG9CYXNlNjQoYm9keSkgfVxuICAgIGlmKHRoaXMuY3VycmVudEJhdGNoKXtcbiAgICAgIHRoaXMuY3VycmVudEJhdGNoLnB1c2goYm9keSlcbiAgICB9IGVsc2UgaWYodGhpcy5hd2FpdGluZ0JhdGNoQWNrKXtcbiAgICAgIHRoaXMuYmF0Y2hCdWZmZXIucHVzaChib2R5KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRCYXRjaCA9IFtib2R5XVxuICAgICAgdGhpcy5jdXJyZW50QmF0Y2hUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmJhdGNoU2VuZCh0aGlzLmN1cnJlbnRCYXRjaClcbiAgICAgICAgdGhpcy5jdXJyZW50QmF0Y2ggPSBudWxsXG4gICAgICB9LCAwKVxuICAgIH1cbiAgfVxuXG4gIGJhdGNoU2VuZChtZXNzYWdlcyl7XG4gICAgdGhpcy5hd2FpdGluZ0JhdGNoQWNrID0gdHJ1ZVxuICAgIHRoaXMuYWpheChcIlBPU1RcIiwgXCJhcHBsaWNhdGlvbi94LW5kanNvblwiLCBtZXNzYWdlcy5qb2luKFwiXFxuXCIpLCAoKSA9PiB0aGlzLm9uZXJyb3IoXCJ0aW1lb3V0XCIpLCByZXNwID0+IHtcbiAgICAgIHRoaXMuYXdhaXRpbmdCYXRjaEFjayA9IGZhbHNlXG4gICAgICBpZighcmVzcCB8fCByZXNwLnN0YXR1cyAhPT0gMjAwKXtcbiAgICAgICAgdGhpcy5vbmVycm9yKHJlc3AgJiYgcmVzcC5zdGF0dXMpXG4gICAgICAgIHRoaXMuY2xvc2VBbmRSZXRyeSgxMDExLCBcImludGVybmFsIHNlcnZlciBlcnJvclwiLCBmYWxzZSlcbiAgICAgIH0gZWxzZSBpZih0aGlzLmJhdGNoQnVmZmVyLmxlbmd0aCA+IDApe1xuICAgICAgICB0aGlzLmJhdGNoU2VuZCh0aGlzLmJhdGNoQnVmZmVyKVxuICAgICAgICB0aGlzLmJhdGNoQnVmZmVyID0gW11cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY2xvc2UoY29kZSwgcmVhc29uLCB3YXNDbGVhbil7XG4gICAgZm9yKGxldCByZXEgb2YgdGhpcy5yZXFzKXsgcmVxLmFib3J0KCkgfVxuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFNPQ0tFVF9TVEFURVMuY2xvc2VkXG4gICAgbGV0IG9wdHMgPSBPYmplY3QuYXNzaWduKHtjb2RlOiAxMDAwLCByZWFzb246IHVuZGVmaW5lZCwgd2FzQ2xlYW46IHRydWV9LCB7Y29kZSwgcmVhc29uLCB3YXNDbGVhbn0pXG4gICAgdGhpcy5iYXRjaEJ1ZmZlciA9IFtdXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY3VycmVudEJhdGNoVGltZXIpXG4gICAgdGhpcy5jdXJyZW50QmF0Y2hUaW1lciA9IG51bGxcbiAgICBpZih0eXBlb2YoQ2xvc2VFdmVudCkgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgICAgdGhpcy5vbmNsb3NlKG5ldyBDbG9zZUV2ZW50KFwiY2xvc2VcIiwgb3B0cykpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub25jbG9zZShvcHRzKVxuICAgIH1cbiAgfVxuXG4gIGFqYXgobWV0aG9kLCBjb250ZW50VHlwZSwgYm9keSwgb25DYWxsZXJUaW1lb3V0LCBjYWxsYmFjayl7XG4gICAgbGV0IHJlcVxuICAgIGxldCBvbnRpbWVvdXQgPSAoKSA9PiB7XG4gICAgICB0aGlzLnJlcXMuZGVsZXRlKHJlcSlcbiAgICAgIG9uQ2FsbGVyVGltZW91dCgpXG4gICAgfVxuICAgIHJlcSA9IEFqYXgucmVxdWVzdChtZXRob2QsIHRoaXMuZW5kcG9pbnRVUkwoKSwgY29udGVudFR5cGUsIGJvZHksIHRoaXMudGltZW91dCwgb250aW1lb3V0LCByZXNwID0+IHtcbiAgICAgIHRoaXMucmVxcy5kZWxldGUocmVxKVxuICAgICAgaWYodGhpcy5pc0FjdGl2ZSgpKXsgY2FsbGJhY2socmVzcCkgfVxuICAgIH0pXG4gICAgdGhpcy5yZXFzLmFkZChyZXEpXG4gIH1cbn1cbiIsICIvKipcbiAqIEluaXRpYWxpemVzIHRoZSBQcmVzZW5jZVxuICogQHBhcmFtIHtDaGFubmVsfSBjaGFubmVsIC0gVGhlIENoYW5uZWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gVGhlIG9wdGlvbnMsXG4gKiAgICAgICAgZm9yIGV4YW1wbGUgYHtldmVudHM6IHtzdGF0ZTogXCJzdGF0ZVwiLCBkaWZmOiBcImRpZmZcIn19YFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVzZW5jZSB7XG5cbiAgY29uc3RydWN0b3IoY2hhbm5lbCwgb3B0cyA9IHt9KXtcbiAgICBsZXQgZXZlbnRzID0gb3B0cy5ldmVudHMgfHwge3N0YXRlOiBcInByZXNlbmNlX3N0YXRlXCIsIGRpZmY6IFwicHJlc2VuY2VfZGlmZlwifVxuICAgIHRoaXMuc3RhdGUgPSB7fVxuICAgIHRoaXMucGVuZGluZ0RpZmZzID0gW11cbiAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsXG4gICAgdGhpcy5qb2luUmVmID0gbnVsbFxuICAgIHRoaXMuY2FsbGVyID0ge1xuICAgICAgb25Kb2luOiBmdW5jdGlvbiAoKXsgfSxcbiAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uICgpeyB9LFxuICAgICAgb25TeW5jOiBmdW5jdGlvbiAoKXsgfVxuICAgIH1cblxuICAgIHRoaXMuY2hhbm5lbC5vbihldmVudHMuc3RhdGUsIG5ld1N0YXRlID0+IHtcbiAgICAgIGxldCB7b25Kb2luLCBvbkxlYXZlLCBvblN5bmN9ID0gdGhpcy5jYWxsZXJcblxuICAgICAgdGhpcy5qb2luUmVmID0gdGhpcy5jaGFubmVsLmpvaW5SZWYoKVxuICAgICAgdGhpcy5zdGF0ZSA9IFByZXNlbmNlLnN5bmNTdGF0ZSh0aGlzLnN0YXRlLCBuZXdTdGF0ZSwgb25Kb2luLCBvbkxlYXZlKVxuXG4gICAgICB0aGlzLnBlbmRpbmdEaWZmcy5mb3JFYWNoKGRpZmYgPT4ge1xuICAgICAgICB0aGlzLnN0YXRlID0gUHJlc2VuY2Uuc3luY0RpZmYodGhpcy5zdGF0ZSwgZGlmZiwgb25Kb2luLCBvbkxlYXZlKVxuICAgICAgfSlcbiAgICAgIHRoaXMucGVuZGluZ0RpZmZzID0gW11cbiAgICAgIG9uU3luYygpXG4gICAgfSlcblxuICAgIHRoaXMuY2hhbm5lbC5vbihldmVudHMuZGlmZiwgZGlmZiA9PiB7XG4gICAgICBsZXQge29uSm9pbiwgb25MZWF2ZSwgb25TeW5jfSA9IHRoaXMuY2FsbGVyXG5cbiAgICAgIGlmKHRoaXMuaW5QZW5kaW5nU3luY1N0YXRlKCkpe1xuICAgICAgICB0aGlzLnBlbmRpbmdEaWZmcy5wdXNoKGRpZmYpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXRlID0gUHJlc2VuY2Uuc3luY0RpZmYodGhpcy5zdGF0ZSwgZGlmZiwgb25Kb2luLCBvbkxlYXZlKVxuICAgICAgICBvblN5bmMoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBvbkpvaW4oY2FsbGJhY2speyB0aGlzLmNhbGxlci5vbkpvaW4gPSBjYWxsYmFjayB9XG5cbiAgb25MZWF2ZShjYWxsYmFjayl7IHRoaXMuY2FsbGVyLm9uTGVhdmUgPSBjYWxsYmFjayB9XG5cbiAgb25TeW5jKGNhbGxiYWNrKXsgdGhpcy5jYWxsZXIub25TeW5jID0gY2FsbGJhY2sgfVxuXG4gIGxpc3QoYnkpeyByZXR1cm4gUHJlc2VuY2UubGlzdCh0aGlzLnN0YXRlLCBieSkgfVxuXG4gIGluUGVuZGluZ1N5bmNTdGF0ZSgpe1xuICAgIHJldHVybiAhdGhpcy5qb2luUmVmIHx8ICh0aGlzLmpvaW5SZWYgIT09IHRoaXMuY2hhbm5lbC5qb2luUmVmKCkpXG4gIH1cblxuICAvLyBsb3dlci1sZXZlbCBwdWJsaWMgc3RhdGljIEFQSVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHN5bmMgdGhlIGxpc3Qgb2YgcHJlc2VuY2VzIG9uIHRoZSBzZXJ2ZXJcbiAgICogd2l0aCB0aGUgY2xpZW50J3Mgc3RhdGUuIEFuIG9wdGlvbmFsIGBvbkpvaW5gIGFuZCBgb25MZWF2ZWAgY2FsbGJhY2sgY2FuXG4gICAqIGJlIHByb3ZpZGVkIHRvIHJlYWN0IHRvIGNoYW5nZXMgaW4gdGhlIGNsaWVudCdzIGxvY2FsIHByZXNlbmNlcyBhY3Jvc3NcbiAgICogZGlzY29ubmVjdHMgYW5kIHJlY29ubmVjdHMgd2l0aCB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJlc2VuY2V9XG4gICAqL1xuICBzdGF0aWMgc3luY1N0YXRlKGN1cnJlbnRTdGF0ZSwgbmV3U3RhdGUsIG9uSm9pbiwgb25MZWF2ZSl7XG4gICAgbGV0IHN0YXRlID0gdGhpcy5jbG9uZShjdXJyZW50U3RhdGUpXG4gICAgbGV0IGpvaW5zID0ge31cbiAgICBsZXQgbGVhdmVzID0ge31cblxuICAgIHRoaXMubWFwKHN0YXRlLCAoa2V5LCBwcmVzZW5jZSkgPT4ge1xuICAgICAgaWYoIW5ld1N0YXRlW2tleV0pe1xuICAgICAgICBsZWF2ZXNba2V5XSA9IHByZXNlbmNlXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLm1hcChuZXdTdGF0ZSwgKGtleSwgbmV3UHJlc2VuY2UpID0+IHtcbiAgICAgIGxldCBjdXJyZW50UHJlc2VuY2UgPSBzdGF0ZVtrZXldXG4gICAgICBpZihjdXJyZW50UHJlc2VuY2Upe1xuICAgICAgICBsZXQgbmV3UmVmcyA9IG5ld1ByZXNlbmNlLm1ldGFzLm1hcChtID0+IG0ucGh4X3JlZilcbiAgICAgICAgbGV0IGN1clJlZnMgPSBjdXJyZW50UHJlc2VuY2UubWV0YXMubWFwKG0gPT4gbS5waHhfcmVmKVxuICAgICAgICBsZXQgam9pbmVkTWV0YXMgPSBuZXdQcmVzZW5jZS5tZXRhcy5maWx0ZXIobSA9PiBjdXJSZWZzLmluZGV4T2YobS5waHhfcmVmKSA8IDApXG4gICAgICAgIGxldCBsZWZ0TWV0YXMgPSBjdXJyZW50UHJlc2VuY2UubWV0YXMuZmlsdGVyKG0gPT4gbmV3UmVmcy5pbmRleE9mKG0ucGh4X3JlZikgPCAwKVxuICAgICAgICBpZihqb2luZWRNZXRhcy5sZW5ndGggPiAwKXtcbiAgICAgICAgICBqb2luc1trZXldID0gbmV3UHJlc2VuY2VcbiAgICAgICAgICBqb2luc1trZXldLm1ldGFzID0gam9pbmVkTWV0YXNcbiAgICAgICAgfVxuICAgICAgICBpZihsZWZ0TWV0YXMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgbGVhdmVzW2tleV0gPSB0aGlzLmNsb25lKGN1cnJlbnRQcmVzZW5jZSlcbiAgICAgICAgICBsZWF2ZXNba2V5XS5tZXRhcyA9IGxlZnRNZXRhc1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqb2luc1trZXldID0gbmV3UHJlc2VuY2VcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiB0aGlzLnN5bmNEaWZmKHN0YXRlLCB7am9pbnM6IGpvaW5zLCBsZWF2ZXM6IGxlYXZlc30sIG9uSm9pbiwgb25MZWF2ZSlcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBVc2VkIHRvIHN5bmMgYSBkaWZmIG9mIHByZXNlbmNlIGpvaW4gYW5kIGxlYXZlXG4gICAqIGV2ZW50cyBmcm9tIHRoZSBzZXJ2ZXIsIGFzIHRoZXkgaGFwcGVuLiBMaWtlIGBzeW5jU3RhdGVgLCBgc3luY0RpZmZgXG4gICAqIGFjY2VwdHMgb3B0aW9uYWwgYG9uSm9pbmAgYW5kIGBvbkxlYXZlYCBjYWxsYmFja3MgdG8gcmVhY3QgdG8gYSB1c2VyXG4gICAqIGpvaW5pbmcgb3IgbGVhdmluZyBmcm9tIGEgZGV2aWNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJlc2VuY2V9XG4gICAqL1xuICBzdGF0aWMgc3luY0RpZmYoc3RhdGUsIGRpZmYsIG9uSm9pbiwgb25MZWF2ZSl7XG4gICAgbGV0IHtqb2lucywgbGVhdmVzfSA9IHRoaXMuY2xvbmUoZGlmZilcbiAgICBpZighb25Kb2luKXsgb25Kb2luID0gZnVuY3Rpb24gKCl7IH0gfVxuICAgIGlmKCFvbkxlYXZlKXsgb25MZWF2ZSA9IGZ1bmN0aW9uICgpeyB9IH1cblxuICAgIHRoaXMubWFwKGpvaW5zLCAoa2V5LCBuZXdQcmVzZW5jZSkgPT4ge1xuICAgICAgbGV0IGN1cnJlbnRQcmVzZW5jZSA9IHN0YXRlW2tleV1cbiAgICAgIHN0YXRlW2tleV0gPSB0aGlzLmNsb25lKG5ld1ByZXNlbmNlKVxuICAgICAgaWYoY3VycmVudFByZXNlbmNlKXtcbiAgICAgICAgbGV0IGpvaW5lZFJlZnMgPSBzdGF0ZVtrZXldLm1ldGFzLm1hcChtID0+IG0ucGh4X3JlZilcbiAgICAgICAgbGV0IGN1ck1ldGFzID0gY3VycmVudFByZXNlbmNlLm1ldGFzLmZpbHRlcihtID0+IGpvaW5lZFJlZnMuaW5kZXhPZihtLnBoeF9yZWYpIDwgMClcbiAgICAgICAgc3RhdGVba2V5XS5tZXRhcy51bnNoaWZ0KC4uLmN1ck1ldGFzKVxuICAgICAgfVxuICAgICAgb25Kb2luKGtleSwgY3VycmVudFByZXNlbmNlLCBuZXdQcmVzZW5jZSlcbiAgICB9KVxuICAgIHRoaXMubWFwKGxlYXZlcywgKGtleSwgbGVmdFByZXNlbmNlKSA9PiB7XG4gICAgICBsZXQgY3VycmVudFByZXNlbmNlID0gc3RhdGVba2V5XVxuICAgICAgaWYoIWN1cnJlbnRQcmVzZW5jZSl7IHJldHVybiB9XG4gICAgICBsZXQgcmVmc1RvUmVtb3ZlID0gbGVmdFByZXNlbmNlLm1ldGFzLm1hcChtID0+IG0ucGh4X3JlZilcbiAgICAgIGN1cnJlbnRQcmVzZW5jZS5tZXRhcyA9IGN1cnJlbnRQcmVzZW5jZS5tZXRhcy5maWx0ZXIocCA9PiB7XG4gICAgICAgIHJldHVybiByZWZzVG9SZW1vdmUuaW5kZXhPZihwLnBoeF9yZWYpIDwgMFxuICAgICAgfSlcbiAgICAgIG9uTGVhdmUoa2V5LCBjdXJyZW50UHJlc2VuY2UsIGxlZnRQcmVzZW5jZSlcbiAgICAgIGlmKGN1cnJlbnRQcmVzZW5jZS5tZXRhcy5sZW5ndGggPT09IDApe1xuICAgICAgICBkZWxldGUgc3RhdGVba2V5XVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHN0YXRlXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJlc2VuY2VzLCB3aXRoIHNlbGVjdGVkIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJlc2VuY2VzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNob29zZXJcbiAgICpcbiAgICogQHJldHVybnMge1ByZXNlbmNlfVxuICAgKi9cbiAgc3RhdGljIGxpc3QocHJlc2VuY2VzLCBjaG9vc2VyKXtcbiAgICBpZighY2hvb3Nlcil7IGNob29zZXIgPSBmdW5jdGlvbiAoa2V5LCBwcmVzKXsgcmV0dXJuIHByZXMgfSB9XG5cbiAgICByZXR1cm4gdGhpcy5tYXAocHJlc2VuY2VzLCAoa2V5LCBwcmVzZW5jZSkgPT4ge1xuICAgICAgcmV0dXJuIGNob29zZXIoa2V5LCBwcmVzZW5jZSlcbiAgICB9KVxuICB9XG5cbiAgLy8gcHJpdmF0ZVxuXG4gIHN0YXRpYyBtYXAob2JqLCBmdW5jKXtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5tYXAoa2V5ID0+IGZ1bmMoa2V5LCBvYmpba2V5XSkpXG4gIH1cblxuICBzdGF0aWMgY2xvbmUob2JqKXsgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSkgfVxufVxuIiwgIi8qIFRoZSBkZWZhdWx0IHNlcmlhbGl6ZXIgZm9yIGVuY29kaW5nIGFuZCBkZWNvZGluZyBtZXNzYWdlcyAqL1xuaW1wb3J0IHtcbiAgQ0hBTk5FTF9FVkVOVFNcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICBIRUFERVJfTEVOR1RIOiAxLFxuICBNRVRBX0xFTkdUSDogNCxcbiAgS0lORFM6IHtwdXNoOiAwLCByZXBseTogMSwgYnJvYWRjYXN0OiAyfSxcblxuICBlbmNvZGUobXNnLCBjYWxsYmFjayl7XG4gICAgaWYobXNnLnBheWxvYWQuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKXtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0aGlzLmJpbmFyeUVuY29kZShtc2cpKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcGF5bG9hZCA9IFttc2cuam9pbl9yZWYsIG1zZy5yZWYsIG1zZy50b3BpYywgbXNnLmV2ZW50LCBtc2cucGF5bG9hZF1cbiAgICAgIHJldHVybiBjYWxsYmFjayhKU09OLnN0cmluZ2lmeShwYXlsb2FkKSlcbiAgICB9XG4gIH0sXG5cbiAgZGVjb2RlKHJhd1BheWxvYWQsIGNhbGxiYWNrKXtcbiAgICBpZihyYXdQYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcil7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodGhpcy5iaW5hcnlEZWNvZGUocmF3UGF5bG9hZCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBbam9pbl9yZWYsIHJlZiwgdG9waWMsIGV2ZW50LCBwYXlsb2FkXSA9IEpTT04ucGFyc2UocmF3UGF5bG9hZClcbiAgICAgIHJldHVybiBjYWxsYmFjayh7am9pbl9yZWYsIHJlZiwgdG9waWMsIGV2ZW50LCBwYXlsb2FkfSlcbiAgICB9XG4gIH0sXG5cbiAgLy8gcHJpdmF0ZVxuXG4gIGJpbmFyeUVuY29kZShtZXNzYWdlKXtcbiAgICBsZXQge2pvaW5fcmVmLCByZWYsIGV2ZW50LCB0b3BpYywgcGF5bG9hZH0gPSBtZXNzYWdlXG4gICAgbGV0IG1ldGFMZW5ndGggPSB0aGlzLk1FVEFfTEVOR1RIICsgam9pbl9yZWYubGVuZ3RoICsgcmVmLmxlbmd0aCArIHRvcGljLmxlbmd0aCArIGV2ZW50Lmxlbmd0aFxuICAgIGxldCBoZWFkZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5IRUFERVJfTEVOR1RIICsgbWV0YUxlbmd0aClcbiAgICBsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhoZWFkZXIpXG4gICAgbGV0IG9mZnNldCA9IDBcblxuICAgIHZpZXcuc2V0VWludDgob2Zmc2V0KyssIHRoaXMuS0lORFMucHVzaCkgLy8ga2luZFxuICAgIHZpZXcuc2V0VWludDgob2Zmc2V0KyssIGpvaW5fcmVmLmxlbmd0aClcbiAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCByZWYubGVuZ3RoKVxuICAgIHZpZXcuc2V0VWludDgob2Zmc2V0KyssIHRvcGljLmxlbmd0aClcbiAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCBldmVudC5sZW5ndGgpXG4gICAgQXJyYXkuZnJvbShqb2luX3JlZiwgY2hhciA9PiB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCBjaGFyLmNoYXJDb2RlQXQoMCkpKVxuICAgIEFycmF5LmZyb20ocmVmLCBjaGFyID0+IHZpZXcuc2V0VWludDgob2Zmc2V0KyssIGNoYXIuY2hhckNvZGVBdCgwKSkpXG4gICAgQXJyYXkuZnJvbSh0b3BpYywgY2hhciA9PiB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCBjaGFyLmNoYXJDb2RlQXQoMCkpKVxuICAgIEFycmF5LmZyb20oZXZlbnQsIGNoYXIgPT4gdmlldy5zZXRVaW50OChvZmZzZXQrKywgY2hhci5jaGFyQ29kZUF0KDApKSlcblxuICAgIHZhciBjb21iaW5lZCA9IG5ldyBVaW50OEFycmF5KGhlYWRlci5ieXRlTGVuZ3RoICsgcGF5bG9hZC5ieXRlTGVuZ3RoKVxuICAgIGNvbWJpbmVkLnNldChuZXcgVWludDhBcnJheShoZWFkZXIpLCAwKVxuICAgIGNvbWJpbmVkLnNldChuZXcgVWludDhBcnJheShwYXlsb2FkKSwgaGVhZGVyLmJ5dGVMZW5ndGgpXG5cbiAgICByZXR1cm4gY29tYmluZWQuYnVmZmVyXG4gIH0sXG5cbiAgYmluYXJ5RGVjb2RlKGJ1ZmZlcil7XG4gICAgbGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKVxuICAgIGxldCBraW5kID0gdmlldy5nZXRVaW50OCgwKVxuICAgIGxldCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKClcbiAgICBzd2l0Y2goa2luZCl7XG4gICAgICBjYXNlIHRoaXMuS0lORFMucHVzaDogcmV0dXJuIHRoaXMuZGVjb2RlUHVzaChidWZmZXIsIHZpZXcsIGRlY29kZXIpXG4gICAgICBjYXNlIHRoaXMuS0lORFMucmVwbHk6IHJldHVybiB0aGlzLmRlY29kZVJlcGx5KGJ1ZmZlciwgdmlldywgZGVjb2RlcilcbiAgICAgIGNhc2UgdGhpcy5LSU5EUy5icm9hZGNhc3Q6IHJldHVybiB0aGlzLmRlY29kZUJyb2FkY2FzdChidWZmZXIsIHZpZXcsIGRlY29kZXIpXG4gICAgfVxuICB9LFxuXG4gIGRlY29kZVB1c2goYnVmZmVyLCB2aWV3LCBkZWNvZGVyKXtcbiAgICBsZXQgam9pblJlZlNpemUgPSB2aWV3LmdldFVpbnQ4KDEpXG4gICAgbGV0IHRvcGljU2l6ZSA9IHZpZXcuZ2V0VWludDgoMilcbiAgICBsZXQgZXZlbnRTaXplID0gdmlldy5nZXRVaW50OCgzKVxuICAgIGxldCBvZmZzZXQgPSB0aGlzLkhFQURFUl9MRU5HVEggKyB0aGlzLk1FVEFfTEVOR1RIIC0gMSAvLyBwdXNoZXMgaGF2ZSBubyByZWZcbiAgICBsZXQgam9pblJlZiA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIGpvaW5SZWZTaXplKSlcbiAgICBvZmZzZXQgPSBvZmZzZXQgKyBqb2luUmVmU2l6ZVxuICAgIGxldCB0b3BpYyA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIHRvcGljU2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgdG9waWNTaXplXG4gICAgbGV0IGV2ZW50ID0gZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgZXZlbnRTaXplKSlcbiAgICBvZmZzZXQgPSBvZmZzZXQgKyBldmVudFNpemVcbiAgICBsZXQgZGF0YSA9IGJ1ZmZlci5zbGljZShvZmZzZXQsIGJ1ZmZlci5ieXRlTGVuZ3RoKVxuICAgIHJldHVybiB7am9pbl9yZWY6IGpvaW5SZWYsIHJlZjogbnVsbCwgdG9waWM6IHRvcGljLCBldmVudDogZXZlbnQsIHBheWxvYWQ6IGRhdGF9XG4gIH0sXG5cbiAgZGVjb2RlUmVwbHkoYnVmZmVyLCB2aWV3LCBkZWNvZGVyKXtcbiAgICBsZXQgam9pblJlZlNpemUgPSB2aWV3LmdldFVpbnQ4KDEpXG4gICAgbGV0IHJlZlNpemUgPSB2aWV3LmdldFVpbnQ4KDIpXG4gICAgbGV0IHRvcGljU2l6ZSA9IHZpZXcuZ2V0VWludDgoMylcbiAgICBsZXQgZXZlbnRTaXplID0gdmlldy5nZXRVaW50OCg0KVxuICAgIGxldCBvZmZzZXQgPSB0aGlzLkhFQURFUl9MRU5HVEggKyB0aGlzLk1FVEFfTEVOR1RIXG4gICAgbGV0IGpvaW5SZWYgPSBkZWNvZGVyLmRlY29kZShidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBqb2luUmVmU2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgam9pblJlZlNpemVcbiAgICBsZXQgcmVmID0gZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgcmVmU2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgcmVmU2l6ZVxuICAgIGxldCB0b3BpYyA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIHRvcGljU2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgdG9waWNTaXplXG4gICAgbGV0IGV2ZW50ID0gZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgZXZlbnRTaXplKSlcbiAgICBvZmZzZXQgPSBvZmZzZXQgKyBldmVudFNpemVcbiAgICBsZXQgZGF0YSA9IGJ1ZmZlci5zbGljZShvZmZzZXQsIGJ1ZmZlci5ieXRlTGVuZ3RoKVxuICAgIGxldCBwYXlsb2FkID0ge3N0YXR1czogZXZlbnQsIHJlc3BvbnNlOiBkYXRhfVxuICAgIHJldHVybiB7am9pbl9yZWY6IGpvaW5SZWYsIHJlZjogcmVmLCB0b3BpYzogdG9waWMsIGV2ZW50OiBDSEFOTkVMX0VWRU5UUy5yZXBseSwgcGF5bG9hZDogcGF5bG9hZH1cbiAgfSxcblxuICBkZWNvZGVCcm9hZGNhc3QoYnVmZmVyLCB2aWV3LCBkZWNvZGVyKXtcbiAgICBsZXQgdG9waWNTaXplID0gdmlldy5nZXRVaW50OCgxKVxuICAgIGxldCBldmVudFNpemUgPSB2aWV3LmdldFVpbnQ4KDIpXG4gICAgbGV0IG9mZnNldCA9IHRoaXMuSEVBREVSX0xFTkdUSCArIDJcbiAgICBsZXQgdG9waWMgPSBkZWNvZGVyLmRlY29kZShidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyB0b3BpY1NpemUpKVxuICAgIG9mZnNldCA9IG9mZnNldCArIHRvcGljU2l6ZVxuICAgIGxldCBldmVudCA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIGV2ZW50U2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgZXZlbnRTaXplXG4gICAgbGV0IGRhdGEgPSBidWZmZXIuc2xpY2Uob2Zmc2V0LCBidWZmZXIuYnl0ZUxlbmd0aClcblxuICAgIHJldHVybiB7am9pbl9yZWY6IG51bGwsIHJlZjogbnVsbCwgdG9waWM6IHRvcGljLCBldmVudDogZXZlbnQsIHBheWxvYWQ6IGRhdGF9XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBnbG9iYWwsXG4gIHBoeFdpbmRvdyxcbiAgQ0hBTk5FTF9FVkVOVFMsXG4gIERFRkFVTFRfVElNRU9VVCxcbiAgREVGQVVMVF9WU04sXG4gIFNPQ0tFVF9TVEFURVMsXG4gIFRSQU5TUE9SVFMsXG4gIFdTX0NMT1NFX05PUk1BTFxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQge1xuICBjbG9zdXJlXG59IGZyb20gXCIuL3V0aWxzXCJcblxuaW1wb3J0IEFqYXggZnJvbSBcIi4vYWpheFwiXG5pbXBvcnQgQ2hhbm5lbCBmcm9tIFwiLi9jaGFubmVsXCJcbmltcG9ydCBMb25nUG9sbCBmcm9tIFwiLi9sb25ncG9sbFwiXG5pbXBvcnQgU2VyaWFsaXplciBmcm9tIFwiLi9zZXJpYWxpemVyXCJcbmltcG9ydCBUaW1lciBmcm9tIFwiLi90aW1lclwiXG5cbi8qKiBJbml0aWFsaXplcyB0aGUgU29ja2V0ICpcbiAqXG4gKiBGb3IgSUU4IHN1cHBvcnQgdXNlIGFuIEVTNS1zaGltIChodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW0pXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGVuZFBvaW50IC0gVGhlIHN0cmluZyBXZWJTb2NrZXQgZW5kcG9pbnQsIGllLCBgXCJ3czovL2V4YW1wbGUuY29tL3NvY2tldFwiYCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXCJ3c3M6Ly9leGFtcGxlLmNvbVwiYFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcIi9zb2NrZXRcImAgKGluaGVyaXRlZCBob3N0ICYgcHJvdG9jb2wpXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHNdIC0gT3B0aW9uYWwgY29uZmlndXJhdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdHMudHJhbnNwb3J0XSAtIFRoZSBXZWJzb2NrZXQgVHJhbnNwb3J0LCBmb3IgZXhhbXBsZSBXZWJTb2NrZXQgb3IgUGhvZW5peC5Mb25nUG9sbC5cbiAqXG4gKiBEZWZhdWx0cyB0byBXZWJTb2NrZXQgd2l0aCBhdXRvbWF0aWMgTG9uZ1BvbGwgZmFsbGJhY2suXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0cy5lbmNvZGVdIC0gVGhlIGZ1bmN0aW9uIHRvIGVuY29kZSBvdXRnb2luZyBtZXNzYWdlcy5cbiAqXG4gKiBEZWZhdWx0cyB0byBKU09OIGVuY29kZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdHMuZGVjb2RlXSAtIFRoZSBmdW5jdGlvbiB0byBkZWNvZGUgaW5jb21pbmcgbWVzc2FnZXMuXG4gKlxuICogRGVmYXVsdHMgdG8gSlNPTjpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAocGF5bG9hZCwgY2FsbGJhY2spID0+IGNhbGxiYWNrKEpTT04ucGFyc2UocGF5bG9hZCkpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdHMudGltZW91dF0gLSBUaGUgZGVmYXVsdCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byB0cmlnZ2VyIHB1c2ggdGltZW91dHMuXG4gKlxuICogRGVmYXVsdHMgYERFRkFVTFRfVElNRU9VVGBcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5oZWFydGJlYXRJbnRlcnZhbE1zXSAtIFRoZSBtaWxsaXNlYyBpbnRlcnZhbCB0byBzZW5kIGEgaGVhcnRiZWF0IG1lc3NhZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5yZWNvbm5lY3RBZnRlck1zXSAtIFRoZSBvcHRpb25hbCBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG1pbGxpc2VjXG4gKiBzb2NrZXQgcmVjb25uZWN0IGludGVydmFsLlxuICpcbiAqIERlZmF1bHRzIHRvIHN0ZXBwZWQgYmFja29mZiBvZjpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBmdW5jdGlvbih0cmllcyl7XG4gKiAgIHJldHVybiBbMTAsIDUwLCAxMDAsIDE1MCwgMjAwLCAyNTAsIDUwMCwgMTAwMCwgMjAwMF1bdHJpZXMgLSAxXSB8fCA1MDAwXG4gKiB9XG4gKiBgYGBgXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnJlam9pbkFmdGVyTXNdIC0gVGhlIG9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbWlsbGlzZWNcbiAqIHJlam9pbiBpbnRlcnZhbCBmb3IgaW5kaXZpZHVhbCBjaGFubmVscy5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBmdW5jdGlvbih0cmllcyl7XG4gKiAgIHJldHVybiBbMTAwMCwgMjAwMCwgNTAwMF1bdHJpZXMgLSAxXSB8fCAxMDAwMFxuICogfVxuICogYGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLmxvZ2dlcl0gLSBUaGUgb3B0aW9uYWwgZnVuY3Rpb24gZm9yIHNwZWNpYWxpemVkIGxvZ2dpbmcsIGllOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGZ1bmN0aW9uKGtpbmQsIG1zZywgZGF0YSkge1xuICogICBjb25zb2xlLmxvZyhgJHtraW5kfTogJHttc2d9YCwgZGF0YSlcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5sb25ncG9sbGVyVGltZW91dF0gLSBUaGUgbWF4aW11bSB0aW1lb3V0IG9mIGEgbG9uZyBwb2xsIEFKQVggcmVxdWVzdC5cbiAqXG4gKiBEZWZhdWx0cyB0byAyMHMgKGRvdWJsZSB0aGUgc2VydmVyIGxvbmcgcG9sbCB0aW1lcikuXG4gKlxuICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKX0gW29wdHMucGFyYW1zXSAtIFRoZSBvcHRpb25hbCBwYXJhbXMgdG8gcGFzcyB3aGVuIGNvbm5lY3RpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5iaW5hcnlUeXBlXSAtIFRoZSBiaW5hcnkgdHlwZSB0byB1c2UgZm9yIGJpbmFyeSBXZWJTb2NrZXQgZnJhbWVzLlxuICpcbiAqIERlZmF1bHRzIHRvIFwiYXJyYXlidWZmZXJcIlxuICpcbiAqIEBwYXJhbSB7dnNufSBbb3B0cy52c25dIC0gVGhlIHNlcmlhbGl6ZXIncyBwcm90b2NvbCB2ZXJzaW9uIHRvIHNlbmQgb24gY29ubmVjdC5cbiAqXG4gKiBEZWZhdWx0cyB0byBERUZBVUxUX1ZTTi5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2NrZXQge1xuICBjb25zdHJ1Y3RvcihlbmRQb2ludCwgb3B0cyA9IHt9KXtcbiAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzID0ge29wZW46IFtdLCBjbG9zZTogW10sIGVycm9yOiBbXSwgbWVzc2FnZTogW119XG4gICAgdGhpcy5jaGFubmVscyA9IFtdXG4gICAgdGhpcy5zZW5kQnVmZmVyID0gW11cbiAgICB0aGlzLnJlZiA9IDBcbiAgICB0aGlzLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQgfHwgREVGQVVMVF9USU1FT1VUXG4gICAgdGhpcy50cmFuc3BvcnQgPSBvcHRzLnRyYW5zcG9ydCB8fCBnbG9iYWwuV2ViU29ja2V0IHx8IExvbmdQb2xsXG4gICAgdGhpcy5lc3RhYmxpc2hlZENvbm5lY3Rpb25zID0gMFxuICAgIHRoaXMuZGVmYXVsdEVuY29kZXIgPSBTZXJpYWxpemVyLmVuY29kZS5iaW5kKFNlcmlhbGl6ZXIpXG4gICAgdGhpcy5kZWZhdWx0RGVjb2RlciA9IFNlcmlhbGl6ZXIuZGVjb2RlLmJpbmQoU2VyaWFsaXplcilcbiAgICB0aGlzLmNsb3NlV2FzQ2xlYW4gPSBmYWxzZVxuICAgIHRoaXMuYmluYXJ5VHlwZSA9IG9wdHMuYmluYXJ5VHlwZSB8fCBcImFycmF5YnVmZmVyXCJcbiAgICB0aGlzLmNvbm5lY3RDbG9jayA9IDFcbiAgICBpZih0aGlzLnRyYW5zcG9ydCAhPT0gTG9uZ1BvbGwpe1xuICAgICAgdGhpcy5lbmNvZGUgPSBvcHRzLmVuY29kZSB8fCB0aGlzLmRlZmF1bHRFbmNvZGVyXG4gICAgICB0aGlzLmRlY29kZSA9IG9wdHMuZGVjb2RlIHx8IHRoaXMuZGVmYXVsdERlY29kZXJcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmNvZGUgPSB0aGlzLmRlZmF1bHRFbmNvZGVyXG4gICAgICB0aGlzLmRlY29kZSA9IHRoaXMuZGVmYXVsdERlY29kZXJcbiAgICB9XG4gICAgbGV0IGF3YWl0aW5nQ29ubmVjdGlvbk9uUGFnZVNob3cgPSBudWxsXG4gICAgaWYocGh4V2luZG93ICYmIHBoeFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXtcbiAgICAgIHBoeFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgX2UgPT4ge1xuICAgICAgICBpZih0aGlzLmNvbm4pe1xuICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpXG4gICAgICAgICAgYXdhaXRpbmdDb25uZWN0aW9uT25QYWdlU2hvdyA9IHRoaXMuY29ubmVjdENsb2NrXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBwaHhXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VzaG93XCIsIF9lID0+IHtcbiAgICAgICAgaWYoYXdhaXRpbmdDb25uZWN0aW9uT25QYWdlU2hvdyA9PT0gdGhpcy5jb25uZWN0Q2xvY2spe1xuICAgICAgICAgIGF3YWl0aW5nQ29ubmVjdGlvbk9uUGFnZVNob3cgPSBudWxsXG4gICAgICAgICAgdGhpcy5jb25uZWN0KClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgdGhpcy5oZWFydGJlYXRJbnRlcnZhbE1zID0gb3B0cy5oZWFydGJlYXRJbnRlcnZhbE1zIHx8IDMwMDAwXG4gICAgdGhpcy5yZWpvaW5BZnRlck1zID0gKHRyaWVzKSA9PiB7XG4gICAgICBpZihvcHRzLnJlam9pbkFmdGVyTXMpe1xuICAgICAgICByZXR1cm4gb3B0cy5yZWpvaW5BZnRlck1zKHRyaWVzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFsxMDAwLCAyMDAwLCA1MDAwXVt0cmllcyAtIDFdIHx8IDEwMDAwXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVjb25uZWN0QWZ0ZXJNcyA9ICh0cmllcykgPT4ge1xuICAgICAgaWYob3B0cy5yZWNvbm5lY3RBZnRlck1zKXtcbiAgICAgICAgcmV0dXJuIG9wdHMucmVjb25uZWN0QWZ0ZXJNcyh0cmllcylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbMTAsIDUwLCAxMDAsIDE1MCwgMjAwLCAyNTAsIDUwMCwgMTAwMCwgMjAwMF1bdHJpZXMgLSAxXSB8fCA1MDAwXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyID0gb3B0cy5sb2dnZXIgfHwgbnVsbFxuICAgIHRoaXMubG9uZ3BvbGxlclRpbWVvdXQgPSBvcHRzLmxvbmdwb2xsZXJUaW1lb3V0IHx8IDIwMDAwXG4gICAgdGhpcy5wYXJhbXMgPSBjbG9zdXJlKG9wdHMucGFyYW1zIHx8IHt9KVxuICAgIHRoaXMuZW5kUG9pbnQgPSBgJHtlbmRQb2ludH0vJHtUUkFOU1BPUlRTLndlYnNvY2tldH1gXG4gICAgdGhpcy52c24gPSBvcHRzLnZzbiB8fCBERUZBVUxUX1ZTTlxuICAgIHRoaXMuaGVhcnRiZWF0VGltZW91dFRpbWVyID0gbnVsbFxuICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBudWxsXG4gICAgdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmID0gbnVsbFxuICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSBuZXcgVGltZXIoKCkgPT4ge1xuICAgICAgdGhpcy50ZWFyZG93bigoKSA9PiB0aGlzLmNvbm5lY3QoKSlcbiAgICB9LCB0aGlzLnJlY29ubmVjdEFmdGVyTXMpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgTG9uZ1BvbGwgdHJhbnNwb3J0IHJlZmVyZW5jZVxuICAgKi9cbiAgZ2V0TG9uZ1BvbGxUcmFuc3BvcnQoKXsgcmV0dXJuIExvbmdQb2xsIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgYW5kIHJlcGxhY2VzIHRoZSBhY3RpdmUgdHJhbnNwb3J0XG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5ld1RyYW5zcG9ydCAtIFRoZSBuZXcgdHJhbnNwb3J0IGNsYXNzIHRvIGluc3RhbnRpYXRlXG4gICAqXG4gICAqL1xuICByZXBsYWNlVHJhbnNwb3J0KG5ld1RyYW5zcG9ydCl7XG4gICAgdGhpcy5jb25uZWN0Q2xvY2srK1xuICAgIHRoaXMuY2xvc2VXYXNDbGVhbiA9IHRydWVcbiAgICB0aGlzLnJlY29ubmVjdFRpbWVyLnJlc2V0KClcbiAgICB0aGlzLnNlbmRCdWZmZXIgPSBbXVxuICAgIGlmKHRoaXMuY29ubil7XG4gICAgICB0aGlzLmNvbm4uY2xvc2UoKVxuICAgICAgdGhpcy5jb25uID0gbnVsbFxuICAgIH1cbiAgICB0aGlzLnRyYW5zcG9ydCA9IG5ld1RyYW5zcG9ydFxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHNvY2tldCBwcm90b2NvbFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgcHJvdG9jb2woKXsgcmV0dXJuIGxvY2F0aW9uLnByb3RvY29sLm1hdGNoKC9eaHR0cHMvKSA/IFwid3NzXCIgOiBcIndzXCIgfVxuXG4gIC8qKlxuICAgKiBUaGUgZnVsbHkgcXVhbGlmaWVkIHNvY2tldCB1cmxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGVuZFBvaW50VVJMKCl7XG4gICAgbGV0IHVyaSA9IEFqYXguYXBwZW5kUGFyYW1zKFxuICAgICAgQWpheC5hcHBlbmRQYXJhbXModGhpcy5lbmRQb2ludCwgdGhpcy5wYXJhbXMoKSksIHt2c246IHRoaXMudnNufSlcbiAgICBpZih1cmkuY2hhckF0KDApICE9PSBcIi9cIil7IHJldHVybiB1cmkgfVxuICAgIGlmKHVyaS5jaGFyQXQoMSkgPT09IFwiL1wiKXsgcmV0dXJuIGAke3RoaXMucHJvdG9jb2woKX06JHt1cml9YCB9XG5cbiAgICByZXR1cm4gYCR7dGhpcy5wcm90b2NvbCgpfTovLyR7bG9jYXRpb24uaG9zdH0ke3VyaX1gXG4gIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIHNvY2tldFxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Nsb3NlRXZlbnQjU3RhdHVzX2NvZGVzIGZvciB2YWxpZCBzdGF0dXMgY29kZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gT3B0aW9uYWwgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIHNvY2tldCBpcyBkaXNjb25uZWN0ZWQuXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gY29kZSAtIEEgc3RhdHVzIGNvZGUgZm9yIGRpc2Nvbm5lY3Rpb24gKE9wdGlvbmFsKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvbiAtIEEgdGV4dHVhbCBkZXNjcmlwdGlvbiBvZiB0aGUgcmVhc29uIHRvIGRpc2Nvbm5lY3QuIChPcHRpb25hbClcbiAgICovXG4gIGRpc2Nvbm5lY3QoY2FsbGJhY2ssIGNvZGUsIHJlYXNvbil7XG4gICAgdGhpcy5jb25uZWN0Q2xvY2srK1xuICAgIHRoaXMuY2xvc2VXYXNDbGVhbiA9IHRydWVcbiAgICB0aGlzLnJlY29ubmVjdFRpbWVyLnJlc2V0KClcbiAgICB0aGlzLnRlYXJkb3duKGNhbGxiYWNrLCBjb2RlLCByZWFzb24pXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbXMgdG8gc2VuZCB3aGVuIGNvbm5lY3RpbmcsIGZvciBleGFtcGxlIGB7dXNlcl9pZDogdXNlclRva2VufWBcbiAgICpcbiAgICogUGFzc2luZyBwYXJhbXMgdG8gY29ubmVjdCBpcyBkZXByZWNhdGVkOyBwYXNzIHRoZW0gaW4gdGhlIFNvY2tldCBjb25zdHJ1Y3RvciBpbnN0ZWFkOlxuICAgKiBgbmV3IFNvY2tldChcIi9zb2NrZXRcIiwge3BhcmFtczoge3VzZXJfaWQ6IHVzZXJUb2tlbn19KWAuXG4gICAqL1xuICBjb25uZWN0KHBhcmFtcyl7XG4gICAgaWYocGFyYW1zKXtcbiAgICAgIGNvbnNvbGUgJiYgY29uc29sZS5sb2coXCJwYXNzaW5nIHBhcmFtcyB0byBjb25uZWN0IGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQgcGFzcyA6cGFyYW1zIHRvIHRoZSBTb2NrZXQgY29uc3RydWN0b3JcIilcbiAgICAgIHRoaXMucGFyYW1zID0gY2xvc3VyZShwYXJhbXMpXG4gICAgfVxuICAgIGlmKHRoaXMuY29ubil7IHJldHVybiB9XG5cbiAgICB0aGlzLmNvbm5lY3RDbG9jaysrXG4gICAgdGhpcy5jbG9zZVdhc0NsZWFuID0gZmFsc2VcbiAgICB0aGlzLmNvbm4gPSBuZXcgdGhpcy50cmFuc3BvcnQodGhpcy5lbmRQb2ludFVSTCgpKVxuICAgIHRoaXMuY29ubi5iaW5hcnlUeXBlID0gdGhpcy5iaW5hcnlUeXBlXG4gICAgdGhpcy5jb25uLnRpbWVvdXQgPSB0aGlzLmxvbmdwb2xsZXJUaW1lb3V0XG4gICAgdGhpcy5jb25uLm9ub3BlbiA9ICgpID0+IHRoaXMub25Db25uT3BlbigpXG4gICAgdGhpcy5jb25uLm9uZXJyb3IgPSBlcnJvciA9PiB0aGlzLm9uQ29ubkVycm9yKGVycm9yKVxuICAgIHRoaXMuY29ubi5vbm1lc3NhZ2UgPSBldmVudCA9PiB0aGlzLm9uQ29ubk1lc3NhZ2UoZXZlbnQpXG4gICAgdGhpcy5jb25uLm9uY2xvc2UgPSBldmVudCA9PiB0aGlzLm9uQ29ubkNsb3NlKGV2ZW50KVxuICB9XG5cbiAgLyoqXG4gICAqIExvZ3MgdGhlIG1lc3NhZ2UuIE92ZXJyaWRlIGB0aGlzLmxvZ2dlcmAgZm9yIHNwZWNpYWxpemVkIGxvZ2dpbmcuIG5vb3BzIGJ5IGRlZmF1bHRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtpbmRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1zZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgKi9cbiAgbG9nKGtpbmQsIG1zZywgZGF0YSl7IHRoaXMubG9nZ2VyKGtpbmQsIG1zZywgZGF0YSkgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYSBsb2dnZXIgaGFzIGJlZW4gc2V0IG9uIHRoaXMgc29ja2V0LlxuICAgKi9cbiAgaGFzTG9nZ2VyKCl7IHJldHVybiB0aGlzLmxvZ2dlciAhPT0gbnVsbCB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBjYWxsYmFja3MgZm9yIGNvbm5lY3Rpb24gb3BlbiBldmVudHNcbiAgICpcbiAgICogQGV4YW1wbGUgc29ja2V0Lm9uT3BlbihmdW5jdGlvbigpeyBjb25zb2xlLmluZm8oXCJ0aGUgc29ja2V0IHdhcyBvcGVuZWRcIikgfSlcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIG9uT3BlbihjYWxsYmFjayl7XG4gICAgbGV0IHJlZiA9IHRoaXMubWFrZVJlZigpXG4gICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5vcGVuLnB1c2goW3JlZiwgY2FsbGJhY2tdKVxuICAgIHJldHVybiByZWZcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgY2FsbGJhY2tzIGZvciBjb25uZWN0aW9uIGNsb3NlIGV2ZW50c1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgb25DbG9zZShjYWxsYmFjayl7XG4gICAgbGV0IHJlZiA9IHRoaXMubWFrZVJlZigpXG4gICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5jbG9zZS5wdXNoKFtyZWYsIGNhbGxiYWNrXSlcbiAgICByZXR1cm4gcmVmXG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGNhbGxiYWNrcyBmb3IgY29ubmVjdGlvbiBlcnJvciBldmVudHNcbiAgICpcbiAgICogQGV4YW1wbGUgc29ja2V0Lm9uRXJyb3IoZnVuY3Rpb24oZXJyb3IpeyBhbGVydChcIkFuIGVycm9yIG9jY3VycmVkXCIpIH0pXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBvbkVycm9yKGNhbGxiYWNrKXtcbiAgICBsZXQgcmVmID0gdGhpcy5tYWtlUmVmKClcbiAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmVycm9yLnB1c2goW3JlZiwgY2FsbGJhY2tdKVxuICAgIHJldHVybiByZWZcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgY2FsbGJhY2tzIGZvciBjb25uZWN0aW9uIG1lc3NhZ2UgZXZlbnRzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBvbk1lc3NhZ2UoY2FsbGJhY2spe1xuICAgIGxldCByZWYgPSB0aGlzLm1ha2VSZWYoKVxuICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MubWVzc2FnZS5wdXNoKFtyZWYsIGNhbGxiYWNrXSlcbiAgICByZXR1cm4gcmVmXG4gIH1cblxuICAvKipcbiAgICogUGluZ3MgdGhlIHNlcnZlciBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgd2l0aCB0aGUgUlRUIGluIG1pbGxpc2Vjb25kc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBpbmcgd2FzIHB1c2hlZCBvciBmYWxzZSBpZiB1bmFibGUgdG8gYmUgcHVzaGVkLlxuICAgKi9cbiAgcGluZyhjYWxsYmFjayl7XG4gICAgaWYoIXRoaXMuaXNDb25uZWN0ZWQoKSl7IHJldHVybiBmYWxzZSB9XG4gICAgbGV0IHJlZiA9IHRoaXMubWFrZVJlZigpXG4gICAgbGV0IHN0YXJ0VGltZSA9IERhdGUubm93KClcbiAgICB0aGlzLnB1c2goe3RvcGljOiBcInBob2VuaXhcIiwgZXZlbnQ6IFwiaGVhcnRiZWF0XCIsIHBheWxvYWQ6IHt9LCByZWY6IHJlZn0pXG4gICAgbGV0IG9uTXNnUmVmID0gdGhpcy5vbk1lc3NhZ2UobXNnID0+IHtcbiAgICAgIGlmKG1zZy5yZWYgPT09IHJlZil7XG4gICAgICAgIHRoaXMub2ZmKFtvbk1zZ1JlZl0pXG4gICAgICAgIGNhbGxiYWNrKERhdGUubm93KCkgLSBzdGFydFRpbWUpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGNsZWFySGVhcnRiZWF0cygpe1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmhlYXJ0YmVhdFRpbWVyKVxuICAgIGNsZWFyVGltZW91dCh0aGlzLmhlYXJ0YmVhdFRpbWVvdXRUaW1lcilcbiAgfVxuXG4gIG9uQ29ubk9wZW4oKXtcbiAgICBpZih0aGlzLmhhc0xvZ2dlcigpKSB0aGlzLmxvZyhcInRyYW5zcG9ydFwiLCBgY29ubmVjdGVkIHRvICR7dGhpcy5lbmRQb2ludFVSTCgpfWApXG4gICAgdGhpcy5jbG9zZVdhc0NsZWFuID0gZmFsc2VcbiAgICB0aGlzLmVzdGFibGlzaGVkQ29ubmVjdGlvbnMrK1xuICAgIHRoaXMuZmx1c2hTZW5kQnVmZmVyKClcbiAgICB0aGlzLnJlY29ubmVjdFRpbWVyLnJlc2V0KClcbiAgICB0aGlzLnJlc2V0SGVhcnRiZWF0KClcbiAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLm9wZW4uZm9yRWFjaCgoWywgY2FsbGJhY2tdKSA9PiBjYWxsYmFjaygpKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGhlYXJ0YmVhdFRpbWVvdXQoKXtcbiAgICBpZih0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYpe1xuICAgICAgdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmID0gbnVsbFxuICAgICAgaWYodGhpcy5oYXNMb2dnZXIoKSl7IHRoaXMubG9nKFwidHJhbnNwb3J0XCIsIFwiaGVhcnRiZWF0IHRpbWVvdXQuIEF0dGVtcHRpbmcgdG8gcmUtZXN0YWJsaXNoIGNvbm5lY3Rpb25cIikgfVxuICAgICAgdGhpcy50cmlnZ2VyQ2hhbkVycm9yKClcbiAgICAgIHRoaXMuY2xvc2VXYXNDbGVhbiA9IGZhbHNlXG4gICAgICB0aGlzLnRlYXJkb3duKCgpID0+IHRoaXMucmVjb25uZWN0VGltZXIuc2NoZWR1bGVUaW1lb3V0KCksIFdTX0NMT1NFX05PUk1BTCwgXCJoZWFydGJlYXQgdGltZW91dFwiKVxuICAgIH1cbiAgfVxuXG4gIHJlc2V0SGVhcnRiZWF0KCl7XG4gICAgaWYodGhpcy5jb25uICYmIHRoaXMuY29ubi5za2lwSGVhcnRiZWF0KXsgcmV0dXJuIH1cbiAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSBudWxsXG4gICAgdGhpcy5jbGVhckhlYXJ0YmVhdHMoKVxuICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2VuZEhlYXJ0YmVhdCgpLCB0aGlzLmhlYXJ0YmVhdEludGVydmFsTXMpXG4gIH1cblxuICB0ZWFyZG93bihjYWxsYmFjaywgY29kZSwgcmVhc29uKXtcbiAgICBpZighdGhpcy5jb25uKXtcbiAgICAgIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgdGhpcy53YWl0Rm9yQnVmZmVyRG9uZSgoKSA9PiB7XG4gICAgICBpZih0aGlzLmNvbm4pe1xuICAgICAgICBpZihjb2RlKXsgdGhpcy5jb25uLmNsb3NlKGNvZGUsIHJlYXNvbiB8fCBcIlwiKSB9IGVsc2UgeyB0aGlzLmNvbm4uY2xvc2UoKSB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMud2FpdEZvclNvY2tldENsb3NlZCgoKSA9PiB7XG4gICAgICAgIGlmKHRoaXMuY29ubil7XG4gICAgICAgICAgdGhpcy5jb25uLm9ub3BlbiA9IGZ1bmN0aW9uICgpeyB9IC8vIG5vb3BcbiAgICAgICAgICB0aGlzLmNvbm4ub25lcnJvciA9IGZ1bmN0aW9uICgpeyB9IC8vIG5vb3BcbiAgICAgICAgICB0aGlzLmNvbm4ub25tZXNzYWdlID0gZnVuY3Rpb24gKCl7IH0gLy8gbm9vcFxuICAgICAgICAgIHRoaXMuY29ubi5vbmNsb3NlID0gZnVuY3Rpb24gKCl7IH0gLy8gbm9vcFxuICAgICAgICAgIHRoaXMuY29ubiA9IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHdhaXRGb3JCdWZmZXJEb25lKGNhbGxiYWNrLCB0cmllcyA9IDEpe1xuICAgIGlmKHRyaWVzID09PSA1IHx8ICF0aGlzLmNvbm4gfHwgIXRoaXMuY29ubi5idWZmZXJlZEFtb3VudCl7XG4gICAgICBjYWxsYmFjaygpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMud2FpdEZvckJ1ZmZlckRvbmUoY2FsbGJhY2ssIHRyaWVzICsgMSlcbiAgICB9LCAxNTAgKiB0cmllcylcbiAgfVxuXG4gIHdhaXRGb3JTb2NrZXRDbG9zZWQoY2FsbGJhY2ssIHRyaWVzID0gMSl7XG4gICAgaWYodHJpZXMgPT09IDUgfHwgIXRoaXMuY29ubiB8fCB0aGlzLmNvbm4ucmVhZHlTdGF0ZSA9PT0gU09DS0VUX1NUQVRFUy5jbG9zZWQpe1xuICAgICAgY2FsbGJhY2soKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLndhaXRGb3JTb2NrZXRDbG9zZWQoY2FsbGJhY2ssIHRyaWVzICsgMSlcbiAgICB9LCAxNTAgKiB0cmllcylcbiAgfVxuXG4gIG9uQ29ubkNsb3NlKGV2ZW50KXtcbiAgICBsZXQgY2xvc2VDb2RlID0gZXZlbnQgJiYgZXZlbnQuY29kZVxuICAgIGlmKHRoaXMuaGFzTG9nZ2VyKCkpIHRoaXMubG9nKFwidHJhbnNwb3J0XCIsIFwiY2xvc2VcIiwgZXZlbnQpXG4gICAgdGhpcy50cmlnZ2VyQ2hhbkVycm9yKClcbiAgICB0aGlzLmNsZWFySGVhcnRiZWF0cygpXG4gICAgaWYoIXRoaXMuY2xvc2VXYXNDbGVhbiAmJiBjbG9zZUNvZGUgIT09IDEwMDApe1xuICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKVxuICAgIH1cbiAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmNsb3NlLmZvckVhY2goKFssIGNhbGxiYWNrXSkgPT4gY2FsbGJhY2soZXZlbnQpKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkNvbm5FcnJvcihlcnJvcil7XG4gICAgaWYodGhpcy5oYXNMb2dnZXIoKSkgdGhpcy5sb2coXCJ0cmFuc3BvcnRcIiwgZXJyb3IpXG4gICAgbGV0IHRyYW5zcG9ydEJlZm9yZSA9IHRoaXMudHJhbnNwb3J0XG4gICAgbGV0IGVzdGFibGlzaGVkQmVmb3JlID0gdGhpcy5lc3RhYmxpc2hlZENvbm5lY3Rpb25zXG4gICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5lcnJvci5mb3JFYWNoKChbLCBjYWxsYmFja10pID0+IHtcbiAgICAgIGNhbGxiYWNrKGVycm9yLCB0cmFuc3BvcnRCZWZvcmUsIGVzdGFibGlzaGVkQmVmb3JlKVxuICAgIH0pXG4gICAgaWYodHJhbnNwb3J0QmVmb3JlID09PSB0aGlzLnRyYW5zcG9ydCB8fCBlc3RhYmxpc2hlZEJlZm9yZSA+IDApe1xuICAgICAgdGhpcy50cmlnZ2VyQ2hhbkVycm9yKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRyaWdnZXJDaGFuRXJyb3IoKXtcbiAgICB0aGlzLmNoYW5uZWxzLmZvckVhY2goY2hhbm5lbCA9PiB7XG4gICAgICBpZighKGNoYW5uZWwuaXNFcnJvcmVkKCkgfHwgY2hhbm5lbC5pc0xlYXZpbmcoKSB8fCBjaGFubmVsLmlzQ2xvc2VkKCkpKXtcbiAgICAgICAgY2hhbm5lbC50cmlnZ2VyKENIQU5ORUxfRVZFTlRTLmVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGNvbm5lY3Rpb25TdGF0ZSgpe1xuICAgIHN3aXRjaCh0aGlzLmNvbm4gJiYgdGhpcy5jb25uLnJlYWR5U3RhdGUpe1xuICAgICAgY2FzZSBTT0NLRVRfU1RBVEVTLmNvbm5lY3Rpbmc6IHJldHVybiBcImNvbm5lY3RpbmdcIlxuICAgICAgY2FzZSBTT0NLRVRfU1RBVEVTLm9wZW46IHJldHVybiBcIm9wZW5cIlxuICAgICAgY2FzZSBTT0NLRVRfU1RBVEVTLmNsb3Npbmc6IHJldHVybiBcImNsb3NpbmdcIlxuICAgICAgZGVmYXVsdDogcmV0dXJuIFwiY2xvc2VkXCJcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0Nvbm5lY3RlZCgpeyByZXR1cm4gdGhpcy5jb25uZWN0aW9uU3RhdGUoKSA9PT0gXCJvcGVuXCIgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge0NoYW5uZWx9XG4gICAqL1xuICByZW1vdmUoY2hhbm5lbCl7XG4gICAgdGhpcy5vZmYoY2hhbm5lbC5zdGF0ZUNoYW5nZVJlZnMpXG4gICAgdGhpcy5jaGFubmVscyA9IHRoaXMuY2hhbm5lbHMuZmlsdGVyKGMgPT4gYy5qb2luUmVmKCkgIT09IGNoYW5uZWwuam9pblJlZigpKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYG9uT3BlbmAsIGBvbkNsb3NlYCwgYG9uRXJyb3IsYCBhbmQgYG9uTWVzc2FnZWAgcmVnaXN0cmF0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtyZWZzfSAtIGxpc3Qgb2YgcmVmcyByZXR1cm5lZCBieSBjYWxscyB0b1xuICAgKiAgICAgICAgICAgICAgICAgYG9uT3BlbmAsIGBvbkNsb3NlYCwgYG9uRXJyb3IsYCBhbmQgYG9uTWVzc2FnZWBcbiAgICovXG4gIG9mZihyZWZzKXtcbiAgICBmb3IobGV0IGtleSBpbiB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzKXtcbiAgICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3Nba2V5XSA9IHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3Nba2V5XS5maWx0ZXIoKFtyZWZdKSA9PiB7XG4gICAgICAgIHJldHVybiByZWZzLmluZGV4T2YocmVmKSA9PT0gLTFcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyBhIG5ldyBjaGFubmVsIGZvciB0aGUgZ2l2ZW4gdG9waWNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjaGFuUGFyYW1zIC0gUGFyYW1ldGVycyBmb3IgdGhlIGNoYW5uZWxcbiAgICogQHJldHVybnMge0NoYW5uZWx9XG4gICAqL1xuICBjaGFubmVsKHRvcGljLCBjaGFuUGFyYW1zID0ge30pe1xuICAgIGxldCBjaGFuID0gbmV3IENoYW5uZWwodG9waWMsIGNoYW5QYXJhbXMsIHRoaXMpXG4gICAgdGhpcy5jaGFubmVscy5wdXNoKGNoYW4pXG4gICAgcmV0dXJuIGNoYW5cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgKi9cbiAgcHVzaChkYXRhKXtcbiAgICBpZih0aGlzLmhhc0xvZ2dlcigpKXtcbiAgICAgIGxldCB7dG9waWMsIGV2ZW50LCBwYXlsb2FkLCByZWYsIGpvaW5fcmVmfSA9IGRhdGFcbiAgICAgIHRoaXMubG9nKFwicHVzaFwiLCBgJHt0b3BpY30gJHtldmVudH0gKCR7am9pbl9yZWZ9LCAke3JlZn0pYCwgcGF5bG9hZClcbiAgICB9XG5cbiAgICBpZih0aGlzLmlzQ29ubmVjdGVkKCkpe1xuICAgICAgdGhpcy5lbmNvZGUoZGF0YSwgcmVzdWx0ID0+IHRoaXMuY29ubi5zZW5kKHJlc3VsdCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VuZEJ1ZmZlci5wdXNoKCgpID0+IHRoaXMuZW5jb2RlKGRhdGEsIHJlc3VsdCA9PiB0aGlzLmNvbm4uc2VuZChyZXN1bHQpKSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBuZXh0IG1lc3NhZ2UgcmVmLCBhY2NvdW50aW5nIGZvciBvdmVyZmxvd3NcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIG1ha2VSZWYoKXtcbiAgICBsZXQgbmV3UmVmID0gdGhpcy5yZWYgKyAxXG4gICAgaWYobmV3UmVmID09PSB0aGlzLnJlZil7IHRoaXMucmVmID0gMCB9IGVsc2UgeyB0aGlzLnJlZiA9IG5ld1JlZiB9XG5cbiAgICByZXR1cm4gdGhpcy5yZWYudG9TdHJpbmcoKVxuICB9XG5cbiAgc2VuZEhlYXJ0YmVhdCgpe1xuICAgIGlmKHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZiAmJiAhdGhpcy5pc0Nvbm5lY3RlZCgpKXsgcmV0dXJuIH1cbiAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSB0aGlzLm1ha2VSZWYoKVxuICAgIHRoaXMucHVzaCh7dG9waWM6IFwicGhvZW5peFwiLCBldmVudDogXCJoZWFydGJlYXRcIiwgcGF5bG9hZDoge30sIHJlZjogdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmfSlcbiAgICB0aGlzLmhlYXJ0YmVhdFRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5oZWFydGJlYXRUaW1lb3V0KCksIHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxNcylcbiAgfVxuXG4gIGZsdXNoU2VuZEJ1ZmZlcigpe1xuICAgIGlmKHRoaXMuaXNDb25uZWN0ZWQoKSAmJiB0aGlzLnNlbmRCdWZmZXIubGVuZ3RoID4gMCl7XG4gICAgICB0aGlzLnNlbmRCdWZmZXIuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKVxuICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW11cbiAgICB9XG4gIH1cblxuICBvbkNvbm5NZXNzYWdlKHJhd01lc3NhZ2Upe1xuICAgIHRoaXMuZGVjb2RlKHJhd01lc3NhZ2UuZGF0YSwgbXNnID0+IHtcbiAgICAgIGxldCB7dG9waWMsIGV2ZW50LCBwYXlsb2FkLCByZWYsIGpvaW5fcmVmfSA9IG1zZ1xuICAgICAgaWYocmVmICYmIHJlZiA9PT0gdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmKXtcbiAgICAgICAgdGhpcy5jbGVhckhlYXJ0YmVhdHMoKVxuICAgICAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSBudWxsXG4gICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2VuZEhlYXJ0YmVhdCgpLCB0aGlzLmhlYXJ0YmVhdEludGVydmFsTXMpXG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMuaGFzTG9nZ2VyKCkpIHRoaXMubG9nKFwicmVjZWl2ZVwiLCBgJHtwYXlsb2FkLnN0YXR1cyB8fCBcIlwifSAke3RvcGljfSAke2V2ZW50fSAke3JlZiAmJiBcIihcIiArIHJlZiArIFwiKVwiIHx8IFwiXCJ9YCwgcGF5bG9hZClcblxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuY2hhbm5lbHMubGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tpXVxuICAgICAgICBpZighY2hhbm5lbC5pc01lbWJlcih0b3BpYywgZXZlbnQsIHBheWxvYWQsIGpvaW5fcmVmKSl7IGNvbnRpbnVlIH1cbiAgICAgICAgY2hhbm5lbC50cmlnZ2VyKGV2ZW50LCBwYXlsb2FkLCByZWYsIGpvaW5fcmVmKVxuICAgICAgfVxuXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5tZXNzYWdlLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgbGV0IFssIGNhbGxiYWNrXSA9IHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MubWVzc2FnZVtpXVxuICAgICAgICBjYWxsYmFjayhtc2cpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGxlYXZlT3BlblRvcGljKHRvcGljKXtcbiAgICBsZXQgZHVwQ2hhbm5lbCA9IHRoaXMuY2hhbm5lbHMuZmluZChjID0+IGMudG9waWMgPT09IHRvcGljICYmIChjLmlzSm9pbmVkKCkgfHwgYy5pc0pvaW5pbmcoKSkpXG4gICAgaWYoZHVwQ2hhbm5lbCl7XG4gICAgICBpZih0aGlzLmhhc0xvZ2dlcigpKSB0aGlzLmxvZyhcInRyYW5zcG9ydFwiLCBgbGVhdmluZyBkdXBsaWNhdGUgdG9waWMgXCIke3RvcGljfVwiYClcbiAgICAgIGR1cENoYW5uZWwubGVhdmUoKVxuICAgIH1cbiAgfVxufVxuIiwgImV4cG9ydCBjb25zdCBDT05TRUNVVElWRV9SRUxPQURTID0gXCJjb25zZWN1dGl2ZS1yZWxvYWRzXCJcbmV4cG9ydCBjb25zdCBNQVhfUkVMT0FEUyA9IDEwXG5leHBvcnQgY29uc3QgUkVMT0FEX0pJVFRFUl9NSU4gPSA1MDAwXG5leHBvcnQgY29uc3QgUkVMT0FEX0pJVFRFUl9NQVggPSAxMDAwMFxuZXhwb3J0IGNvbnN0IEZBSUxTQUZFX0pJVFRFUiA9IDMwMDAwXG5leHBvcnQgY29uc3QgUEhYX0VWRU5UX0NMQVNTRVMgPSBbXG4gIFwicGh4LWNsaWNrLWxvYWRpbmdcIiwgXCJwaHgtY2hhbmdlLWxvYWRpbmdcIiwgXCJwaHgtc3VibWl0LWxvYWRpbmdcIixcbiAgXCJwaHgta2V5ZG93bi1sb2FkaW5nXCIsIFwicGh4LWtleXVwLWxvYWRpbmdcIiwgXCJwaHgtYmx1ci1sb2FkaW5nXCIsIFwicGh4LWZvY3VzLWxvYWRpbmdcIlxuXVxuZXhwb3J0IGNvbnN0IFBIWF9DT01QT05FTlQgPSBcImRhdGEtcGh4LWNvbXBvbmVudFwiXG5leHBvcnQgY29uc3QgUEhYX0xJVkVfTElOSyA9IFwiZGF0YS1waHgtbGlua1wiXG5leHBvcnQgY29uc3QgUEhYX1RSQUNLX1NUQVRJQyA9IFwidHJhY2stc3RhdGljXCJcbmV4cG9ydCBjb25zdCBQSFhfTElOS19TVEFURSA9IFwiZGF0YS1waHgtbGluay1zdGF0ZVwiXG5leHBvcnQgY29uc3QgUEhYX1JFRiA9IFwiZGF0YS1waHgtcmVmXCJcbmV4cG9ydCBjb25zdCBQSFhfUkVGX1NSQyA9IFwiZGF0YS1waHgtcmVmLXNyY1wiXG5leHBvcnQgY29uc3QgUEhYX1RSQUNLX1VQTE9BRFMgPSBcInRyYWNrLXVwbG9hZHNcIlxuZXhwb3J0IGNvbnN0IFBIWF9VUExPQURfUkVGID0gXCJkYXRhLXBoeC11cGxvYWQtcmVmXCJcbmV4cG9ydCBjb25zdCBQSFhfUFJFRkxJR0hURURfUkVGUyA9IFwiZGF0YS1waHgtcHJlZmxpZ2h0ZWQtcmVmc1wiXG5leHBvcnQgY29uc3QgUEhYX0RPTkVfUkVGUyA9IFwiZGF0YS1waHgtZG9uZS1yZWZzXCJcbmV4cG9ydCBjb25zdCBQSFhfRFJPUF9UQVJHRVQgPSBcImRyb3AtdGFyZ2V0XCJcbmV4cG9ydCBjb25zdCBQSFhfQUNUSVZFX0VOVFJZX1JFRlMgPSBcImRhdGEtcGh4LWFjdGl2ZS1yZWZzXCJcbmV4cG9ydCBjb25zdCBQSFhfTElWRV9GSUxFX1VQREFURUQgPSBcInBoeDpsaXZlLWZpbGU6dXBkYXRlZFwiXG5leHBvcnQgY29uc3QgUEhYX1NLSVAgPSBcImRhdGEtcGh4LXNraXBcIlxuZXhwb3J0IGNvbnN0IFBIWF9QUlVORSA9IFwiZGF0YS1waHgtcHJ1bmVcIlxuZXhwb3J0IGNvbnN0IFBIWF9QQUdFX0xPQURJTkcgPSBcInBhZ2UtbG9hZGluZ1wiXG5leHBvcnQgY29uc3QgUEhYX0NPTk5FQ1RFRF9DTEFTUyA9IFwicGh4LWNvbm5lY3RlZFwiXG5leHBvcnQgY29uc3QgUEhYX0xPQURJTkdfQ0xBU1MgPSBcInBoeC1sb2FkaW5nXCJcbmV4cG9ydCBjb25zdCBQSFhfTk9fRkVFREJBQ0tfQ0xBU1MgPSBcInBoeC1uby1mZWVkYmFja1wiXG5leHBvcnQgY29uc3QgUEhYX0VSUk9SX0NMQVNTID0gXCJwaHgtZXJyb3JcIlxuZXhwb3J0IGNvbnN0IFBIWF9DTElFTlRfRVJST1JfQ0xBU1MgPSBcInBoeC1jbGllbnQtZXJyb3JcIlxuZXhwb3J0IGNvbnN0IFBIWF9TRVJWRVJfRVJST1JfQ0xBU1MgPSBcInBoeC1zZXJ2ZXItZXJyb3JcIlxuZXhwb3J0IGNvbnN0IFBIWF9QQVJFTlRfSUQgPSBcImRhdGEtcGh4LXBhcmVudC1pZFwiXG5leHBvcnQgY29uc3QgUEhYX01BSU4gPSBcImRhdGEtcGh4LW1haW5cIlxuZXhwb3J0IGNvbnN0IFBIWF9ST09UX0lEID0gXCJkYXRhLXBoeC1yb290LWlkXCJcbmV4cG9ydCBjb25zdCBQSFhfVklFV1BPUlRfVE9QID0gXCJ2aWV3cG9ydC10b3BcIlxuZXhwb3J0IGNvbnN0IFBIWF9WSUVXUE9SVF9CT1RUT00gPSBcInZpZXdwb3J0LWJvdHRvbVwiXG5leHBvcnQgY29uc3QgUEhYX1RSSUdHRVJfQUNUSU9OID0gXCJ0cmlnZ2VyLWFjdGlvblwiXG5leHBvcnQgY29uc3QgUEhYX0ZFRURCQUNLX0ZPUiA9IFwiZmVlZGJhY2stZm9yXCJcbmV4cG9ydCBjb25zdCBQSFhfSEFTX0ZPQ1VTRUQgPSBcInBoeC1oYXMtZm9jdXNlZFwiXG5leHBvcnQgY29uc3QgRk9DVVNBQkxFX0lOUFVUUyA9IFtcInRleHRcIiwgXCJ0ZXh0YXJlYVwiLCBcIm51bWJlclwiLCBcImVtYWlsXCIsIFwicGFzc3dvcmRcIiwgXCJzZWFyY2hcIiwgXCJ0ZWxcIiwgXCJ1cmxcIiwgXCJkYXRlXCIsIFwidGltZVwiLCBcImRhdGV0aW1lLWxvY2FsXCIsIFwiY29sb3JcIiwgXCJyYW5nZVwiXVxuZXhwb3J0IGNvbnN0IENIRUNLQUJMRV9JTlBVVFMgPSBbXCJjaGVja2JveFwiLCBcInJhZGlvXCJdXG5leHBvcnQgY29uc3QgUEhYX0hBU19TVUJNSVRURUQgPSBcInBoeC1oYXMtc3VibWl0dGVkXCJcbmV4cG9ydCBjb25zdCBQSFhfU0VTU0lPTiA9IFwiZGF0YS1waHgtc2Vzc2lvblwiXG5leHBvcnQgY29uc3QgUEhYX1ZJRVdfU0VMRUNUT1IgPSBgWyR7UEhYX1NFU1NJT059XWBcbmV4cG9ydCBjb25zdCBQSFhfU1RJQ0tZID0gXCJkYXRhLXBoeC1zdGlja3lcIlxuZXhwb3J0IGNvbnN0IFBIWF9TVEFUSUMgPSBcImRhdGEtcGh4LXN0YXRpY1wiXG5leHBvcnQgY29uc3QgUEhYX1JFQURPTkxZID0gXCJkYXRhLXBoeC1yZWFkb25seVwiXG5leHBvcnQgY29uc3QgUEhYX0RJU0FCTEVEID0gXCJkYXRhLXBoeC1kaXNhYmxlZFwiXG5leHBvcnQgY29uc3QgUEhYX0RJU0FCTEVfV0lUSCA9IFwiZGlzYWJsZS13aXRoXCJcbmV4cG9ydCBjb25zdCBQSFhfRElTQUJMRV9XSVRIX1JFU1RPUkUgPSBcImRhdGEtcGh4LWRpc2FibGUtd2l0aC1yZXN0b3JlXCJcbmV4cG9ydCBjb25zdCBQSFhfSE9PSyA9IFwiaG9va1wiXG5leHBvcnQgY29uc3QgUEhYX0RFQk9VTkNFID0gXCJkZWJvdW5jZVwiXG5leHBvcnQgY29uc3QgUEhYX1RIUk9UVExFID0gXCJ0aHJvdHRsZVwiXG5leHBvcnQgY29uc3QgUEhYX1VQREFURSA9IFwidXBkYXRlXCJcbmV4cG9ydCBjb25zdCBQSFhfU1RSRUFNID0gXCJzdHJlYW1cIlxuZXhwb3J0IGNvbnN0IFBIWF9TVFJFQU1fUkVGID0gXCJkYXRhLXBoeC1zdHJlYW1cIlxuZXhwb3J0IGNvbnN0IFBIWF9LRVkgPSBcImtleVwiXG5leHBvcnQgY29uc3QgUEhYX1BSSVZBVEUgPSBcInBoeFByaXZhdGVcIlxuZXhwb3J0IGNvbnN0IFBIWF9BVVRPX1JFQ09WRVIgPSBcImF1dG8tcmVjb3ZlclwiXG5leHBvcnQgY29uc3QgUEhYX0xWX0RFQlVHID0gXCJwaHg6bGl2ZS1zb2NrZXQ6ZGVidWdcIlxuZXhwb3J0IGNvbnN0IFBIWF9MVl9QUk9GSUxFID0gXCJwaHg6bGl2ZS1zb2NrZXQ6cHJvZmlsaW5nXCJcbmV4cG9ydCBjb25zdCBQSFhfTFZfTEFURU5DWV9TSU0gPSBcInBoeDpsaXZlLXNvY2tldDpsYXRlbmN5LXNpbVwiXG5leHBvcnQgY29uc3QgUEhYX1BST0dSRVNTID0gXCJwcm9ncmVzc1wiXG5leHBvcnQgY29uc3QgUEhYX01PVU5URUQgPSBcIm1vdW50ZWRcIlxuZXhwb3J0IGNvbnN0IExPQURFUl9USU1FT1VUID0gMVxuZXhwb3J0IGNvbnN0IEJFRk9SRV9VTkxPQURfTE9BREVSX1RJTUVPVVQgPSAyMDBcbmV4cG9ydCBjb25zdCBCSU5ESU5HX1BSRUZJWCA9IFwicGh4LVwiXG5leHBvcnQgY29uc3QgUFVTSF9USU1FT1VUID0gMzAwMDBcbmV4cG9ydCBjb25zdCBMSU5LX0hFQURFUiA9IFwieC1yZXF1ZXN0ZWQtd2l0aFwiXG5leHBvcnQgY29uc3QgUkVTUE9OU0VfVVJMX0hFQURFUiA9IFwieC1yZXNwb25zZS11cmxcIlxuZXhwb3J0IGNvbnN0IERFQk9VTkNFX1RSSUdHRVIgPSBcImRlYm91bmNlLXRyaWdnZXJcIlxuZXhwb3J0IGNvbnN0IFRIUk9UVExFRCA9IFwidGhyb3R0bGVkXCJcbmV4cG9ydCBjb25zdCBERUJPVU5DRV9QUkVWX0tFWSA9IFwiZGVib3VuY2UtcHJldi1rZXlcIlxuZXhwb3J0IGNvbnN0IERFRkFVTFRTID0ge1xuICBkZWJvdW5jZTogMzAwLFxuICB0aHJvdHRsZTogMzAwXG59XG5cbi8vIFJlbmRlcmVkXG5leHBvcnQgY29uc3QgRFlOQU1JQ1MgPSBcImRcIlxuZXhwb3J0IGNvbnN0IFNUQVRJQyA9IFwic1wiXG5leHBvcnQgY29uc3QgQ09NUE9ORU5UUyA9IFwiY1wiXG5leHBvcnQgY29uc3QgRVZFTlRTID0gXCJlXCJcbmV4cG9ydCBjb25zdCBSRVBMWSA9IFwiclwiXG5leHBvcnQgY29uc3QgVElUTEUgPSBcInRcIlxuZXhwb3J0IGNvbnN0IFRFTVBMQVRFUyA9IFwicFwiXG5leHBvcnQgY29uc3QgU1RSRUFNID0gXCJzdHJlYW1cIlxuIiwgImltcG9ydCB7XG4gIGxvZ0Vycm9yXG59IGZyb20gXCIuL3V0aWxzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50cnlVcGxvYWRlciB7XG4gIGNvbnN0cnVjdG9yKGVudHJ5LCBjaHVua1NpemUsIGxpdmVTb2NrZXQpe1xuICAgIHRoaXMubGl2ZVNvY2tldCA9IGxpdmVTb2NrZXRcbiAgICB0aGlzLmVudHJ5ID0gZW50cnlcbiAgICB0aGlzLm9mZnNldCA9IDBcbiAgICB0aGlzLmNodW5rU2l6ZSA9IGNodW5rU2l6ZVxuICAgIHRoaXMuY2h1bmtUaW1lciA9IG51bGxcbiAgICB0aGlzLmVycm9yZWQgPSBmYWxzZVxuICAgIHRoaXMudXBsb2FkQ2hhbm5lbCA9IGxpdmVTb2NrZXQuY2hhbm5lbChgbHZ1OiR7ZW50cnkucmVmfWAsIHt0b2tlbjogZW50cnkubWV0YWRhdGEoKX0pXG4gIH1cblxuICBlcnJvcihyZWFzb24pe1xuICAgIGlmKHRoaXMuZXJyb3JlZCl7IHJldHVybiB9XG4gICAgdGhpcy5lcnJvcmVkID0gdHJ1ZVxuICAgIGNsZWFyVGltZW91dCh0aGlzLmNodW5rVGltZXIpXG4gICAgdGhpcy5lbnRyeS5lcnJvcihyZWFzb24pXG4gIH1cblxuICB1cGxvYWQoKXtcbiAgICB0aGlzLnVwbG9hZENoYW5uZWwub25FcnJvcihyZWFzb24gPT4gdGhpcy5lcnJvcihyZWFzb24pKVxuICAgIHRoaXMudXBsb2FkQ2hhbm5lbC5qb2luKClcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgX2RhdGEgPT4gdGhpcy5yZWFkTmV4dENodW5rKCkpXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsIHJlYXNvbiA9PiB0aGlzLmVycm9yKHJlYXNvbikpXG4gIH1cblxuICBpc0RvbmUoKXsgcmV0dXJuIHRoaXMub2Zmc2V0ID49IHRoaXMuZW50cnkuZmlsZS5zaXplIH1cblxuICByZWFkTmV4dENodW5rKCl7XG4gICAgbGV0IHJlYWRlciA9IG5ldyB3aW5kb3cuRmlsZVJlYWRlcigpXG4gICAgbGV0IGJsb2IgPSB0aGlzLmVudHJ5LmZpbGUuc2xpY2UodGhpcy5vZmZzZXQsIHRoaXMuY2h1bmtTaXplICsgdGhpcy5vZmZzZXQpXG4gICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgICBpZihlLnRhcmdldC5lcnJvciA9PT0gbnVsbCl7XG4gICAgICAgIHRoaXMub2Zmc2V0ICs9IGUudGFyZ2V0LnJlc3VsdC5ieXRlTGVuZ3RoXG4gICAgICAgIHRoaXMucHVzaENodW5rKGUudGFyZ2V0LnJlc3VsdClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBsb2dFcnJvcihcIlJlYWQgZXJyb3I6IFwiICsgZS50YXJnZXQuZXJyb3IpXG4gICAgICB9XG4gICAgfVxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICB9XG5cbiAgcHVzaENodW5rKGNodW5rKXtcbiAgICBpZighdGhpcy51cGxvYWRDaGFubmVsLmlzSm9pbmVkKCkpeyByZXR1cm4gfVxuICAgIHRoaXMudXBsb2FkQ2hhbm5lbC5wdXNoKFwiY2h1bmtcIiwgY2h1bmspXG4gICAgICAucmVjZWl2ZShcIm9rXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5lbnRyeS5wcm9ncmVzcygodGhpcy5vZmZzZXQgLyB0aGlzLmVudHJ5LmZpbGUuc2l6ZSkgKiAxMDApXG4gICAgICAgIGlmKCF0aGlzLmlzRG9uZSgpKXtcbiAgICAgICAgICB0aGlzLmNodW5rVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMucmVhZE5leHRDaHVuaygpLCB0aGlzLmxpdmVTb2NrZXQuZ2V0TGF0ZW5jeVNpbSgpIHx8IDApXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsICh7cmVhc29ufSkgPT4gdGhpcy5lcnJvcihyZWFzb24pKVxuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgUEhYX1ZJRVdfU0VMRUNUT1Jcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IEVudHJ5VXBsb2FkZXIgZnJvbSBcIi4vZW50cnlfdXBsb2FkZXJcIlxuXG5leHBvcnQgbGV0IGxvZ0Vycm9yID0gKG1zZywgb2JqKSA9PiBjb25zb2xlLmVycm9yICYmIGNvbnNvbGUuZXJyb3IobXNnLCBvYmopXG5cbmV4cG9ydCBsZXQgaXNDaWQgPSAoY2lkKSA9PiB7XG4gIGxldCB0eXBlID0gdHlwZW9mKGNpZClcbiAgcmV0dXJuIHR5cGUgPT09IFwibnVtYmVyXCIgfHwgKHR5cGUgPT09IFwic3RyaW5nXCIgJiYgL14oMHxbMS05XVxcZCopJC8udGVzdChjaWQpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0RHVwbGljYXRlSWRzKCl7XG4gIGxldCBpZHMgPSBuZXcgU2V0KClcbiAgbGV0IGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIipbaWRdXCIpXG4gIGZvcihsZXQgaSA9IDAsIGxlbiA9IGVsZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbiAgICBpZihpZHMuaGFzKGVsZW1zW2ldLmlkKSl7XG4gICAgICBjb25zb2xlLmVycm9yKGBNdWx0aXBsZSBJRHMgZGV0ZWN0ZWQ6ICR7ZWxlbXNbaV0uaWR9LiBFbnN1cmUgdW5pcXVlIGVsZW1lbnQgaWRzLmApXG4gICAgfSBlbHNlIHtcbiAgICAgIGlkcy5hZGQoZWxlbXNbaV0uaWQpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBsZXQgZGVidWcgPSAodmlldywga2luZCwgbXNnLCBvYmopID0+IHtcbiAgaWYodmlldy5saXZlU29ja2V0LmlzRGVidWdFbmFibGVkKCkpe1xuICAgIGNvbnNvbGUubG9nKGAke3ZpZXcuaWR9ICR7a2luZH06ICR7bXNnfSAtIGAsIG9iailcbiAgfVxufVxuXG4vLyB3cmFwcyB2YWx1ZSBpbiBjbG9zdXJlIG9yIHJldHVybnMgY2xvc3VyZVxuZXhwb3J0IGxldCBjbG9zdXJlID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiID8gdmFsIDogZnVuY3Rpb24gKCl7IHJldHVybiB2YWwgfVxuXG5leHBvcnQgbGV0IGNsb25lID0gKG9iaikgPT4geyByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKSB9XG5cbmV4cG9ydCBsZXQgY2xvc2VzdFBoeEJpbmRpbmcgPSAoZWwsIGJpbmRpbmcsIGJvcmRlckVsKSA9PiB7XG4gIGRvIHtcbiAgICBpZihlbC5tYXRjaGVzKGBbJHtiaW5kaW5nfV1gKSAmJiAhZWwuZGlzYWJsZWQpeyByZXR1cm4gZWwgfVxuICAgIGVsID0gZWwucGFyZW50RWxlbWVudCB8fCBlbC5wYXJlbnROb2RlXG4gIH0gd2hpbGUoZWwgIT09IG51bGwgJiYgZWwubm9kZVR5cGUgPT09IDEgJiYgISgoYm9yZGVyRWwgJiYgYm9yZGVyRWwuaXNTYW1lTm9kZShlbCkpIHx8IGVsLm1hdGNoZXMoUEhYX1ZJRVdfU0VMRUNUT1IpKSlcbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IGxldCBpc09iamVjdCA9IChvYmopID0+IHtcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmICEob2JqIGluc3RhbmNlb2YgQXJyYXkpXG59XG5cbmV4cG9ydCBsZXQgaXNFcXVhbE9iaiA9IChvYmoxLCBvYmoyKSA9PiBKU09OLnN0cmluZ2lmeShvYmoxKSA9PT0gSlNPTi5zdHJpbmdpZnkob2JqMilcblxuZXhwb3J0IGxldCBpc0VtcHR5ID0gKG9iaikgPT4ge1xuICBmb3IobGV0IHggaW4gb2JqKXsgcmV0dXJuIGZhbHNlIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuZXhwb3J0IGxldCBtYXliZSA9IChlbCwgY2FsbGJhY2spID0+IGVsICYmIGNhbGxiYWNrKGVsKVxuXG5leHBvcnQgbGV0IGNoYW5uZWxVcGxvYWRlciA9IGZ1bmN0aW9uIChlbnRyaWVzLCBvbkVycm9yLCByZXNwLCBsaXZlU29ja2V0KXtcbiAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICBsZXQgZW50cnlVcGxvYWRlciA9IG5ldyBFbnRyeVVwbG9hZGVyKGVudHJ5LCByZXNwLmNvbmZpZy5jaHVua19zaXplLCBsaXZlU29ja2V0KVxuICAgIGVudHJ5VXBsb2FkZXIudXBsb2FkKClcbiAgfSlcbn1cbiIsICJsZXQgQnJvd3NlciA9IHtcbiAgY2FuUHVzaFN0YXRlKCl7IHJldHVybiAodHlwZW9mIChoaXN0b3J5LnB1c2hTdGF0ZSkgIT09IFwidW5kZWZpbmVkXCIpIH0sXG5cbiAgZHJvcExvY2FsKGxvY2FsU3RvcmFnZSwgbmFtZXNwYWNlLCBzdWJrZXkpe1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmxvY2FsS2V5KG5hbWVzcGFjZSwgc3Via2V5KSlcbiAgfSxcblxuICB1cGRhdGVMb2NhbChsb2NhbFN0b3JhZ2UsIG5hbWVzcGFjZSwgc3Via2V5LCBpbml0aWFsLCBmdW5jKXtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMuZ2V0TG9jYWwobG9jYWxTdG9yYWdlLCBuYW1lc3BhY2UsIHN1YmtleSlcbiAgICBsZXQga2V5ID0gdGhpcy5sb2NhbEtleShuYW1lc3BhY2UsIHN1YmtleSlcbiAgICBsZXQgbmV3VmFsID0gY3VycmVudCA9PT0gbnVsbCA/IGluaXRpYWwgOiBmdW5jKGN1cnJlbnQpXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShuZXdWYWwpKVxuICAgIHJldHVybiBuZXdWYWxcbiAgfSxcblxuICBnZXRMb2NhbChsb2NhbFN0b3JhZ2UsIG5hbWVzcGFjZSwgc3Via2V5KXtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmxvY2FsS2V5KG5hbWVzcGFjZSwgc3Via2V5KSkpXG4gIH0sXG5cbiAgdXBkYXRlQ3VycmVudFN0YXRlKGNhbGxiYWNrKXtcbiAgICBpZighdGhpcy5jYW5QdXNoU3RhdGUoKSl7IHJldHVybiB9XG4gICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoY2FsbGJhY2soaGlzdG9yeS5zdGF0ZSB8fCB7fSksIFwiXCIsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKVxuICB9LFxuXG4gIHB1c2hTdGF0ZShraW5kLCBtZXRhLCB0byl7XG4gICAgaWYodGhpcy5jYW5QdXNoU3RhdGUoKSl7XG4gICAgICBpZih0byAhPT0gd2luZG93LmxvY2F0aW9uLmhyZWYpe1xuICAgICAgICBpZihtZXRhLnR5cGUgPT0gXCJyZWRpcmVjdFwiICYmIG1ldGEuc2Nyb2xsKXtcbiAgICAgICAgICAvLyBJZiB3ZSdyZSByZWRpcmVjdGluZyBzdG9yZSB0aGUgY3VycmVudCBzY3JvbGxZIGZvciB0aGUgY3VycmVudCBoaXN0b3J5IHN0YXRlLlxuICAgICAgICAgIGxldCBjdXJyZW50U3RhdGUgPSBoaXN0b3J5LnN0YXRlIHx8IHt9XG4gICAgICAgICAgY3VycmVudFN0YXRlLnNjcm9sbCA9IG1ldGEuc2Nyb2xsXG4gICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoY3VycmVudFN0YXRlLCBcIlwiLCB3aW5kb3cubG9jYXRpb24uaHJlZilcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBtZXRhLnNjcm9sbCAvLyBPbmx5IHN0b3JlIHRoZSBzY3JvbGwgaW4gdGhlIHJlZGlyZWN0IGNhc2UuXG4gICAgICAgIGhpc3Rvcnlba2luZCArIFwiU3RhdGVcIl0obWV0YSwgXCJcIiwgdG8gfHwgbnVsbCkgLy8gSUUgd2lsbCBjb2VyY2UgdW5kZWZpbmVkIHRvIHN0cmluZ1xuICAgICAgICBsZXQgaGFzaEVsID0gdGhpcy5nZXRIYXNoVGFyZ2V0RWwod2luZG93LmxvY2F0aW9uLmhhc2gpXG5cbiAgICAgICAgaWYoaGFzaEVsKXtcbiAgICAgICAgICBoYXNoRWwuc2Nyb2xsSW50b1ZpZXcoKVxuICAgICAgICB9IGVsc2UgaWYobWV0YS50eXBlID09PSBcInJlZGlyZWN0XCIpe1xuICAgICAgICAgIHdpbmRvdy5zY3JvbGwoMCwgMClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZGlyZWN0KHRvKVxuICAgIH1cbiAgfSxcblxuICBzZXRDb29raWUobmFtZSwgdmFsdWUpe1xuICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWV9PSR7dmFsdWV9YFxuICB9LFxuXG4gIGdldENvb2tpZShuYW1lKXtcbiAgICByZXR1cm4gZG9jdW1lbnQuY29va2llLnJlcGxhY2UobmV3IFJlZ0V4cChgKD86KD86XnwuKjtcXHMqKSR7bmFtZX1cXHMqXFw9XFxzKihbXjtdKikuKiQpfF4uKiRgKSwgXCIkMVwiKVxuICB9LFxuXG4gIHJlZGlyZWN0KHRvVVJMLCBmbGFzaCl7XG4gICAgaWYoZmxhc2gpeyBCcm93c2VyLnNldENvb2tpZShcIl9fcGhvZW5peF9mbGFzaF9fXCIsIGZsYXNoICsgXCI7IG1heC1hZ2U9NjAwMDA7IHBhdGg9L1wiKSB9XG4gICAgd2luZG93LmxvY2F0aW9uID0gdG9VUkxcbiAgfSxcblxuICBsb2NhbEtleShuYW1lc3BhY2UsIHN1YmtleSl7IHJldHVybiBgJHtuYW1lc3BhY2V9LSR7c3Via2V5fWAgfSxcblxuICBnZXRIYXNoVGFyZ2V0RWwobWF5YmVIYXNoKXtcbiAgICBsZXQgaGFzaCA9IG1heWJlSGFzaC50b1N0cmluZygpLnN1YnN0cmluZygxKVxuICAgIGlmKGhhc2ggPT09IFwiXCIpeyByZXR1cm4gfVxuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoKSB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBhW25hbWU9XCIke2hhc2h9XCJdYClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCcm93c2VyXG4iLCAiaW1wb3J0IHtcbiAgQ0hFQ0tBQkxFX0lOUFVUUyxcbiAgREVCT1VOQ0VfUFJFVl9LRVksXG4gIERFQk9VTkNFX1RSSUdHRVIsXG4gIEZPQ1VTQUJMRV9JTlBVVFMsXG4gIFBIWF9DT01QT05FTlQsXG4gIFBIWF9FVkVOVF9DTEFTU0VTLFxuICBQSFhfSEFTX0ZPQ1VTRUQsXG4gIFBIWF9IQVNfU1VCTUlUVEVELFxuICBQSFhfTUFJTixcbiAgUEhYX05PX0ZFRURCQUNLX0NMQVNTLFxuICBQSFhfUEFSRU5UX0lELFxuICBQSFhfUFJJVkFURSxcbiAgUEhYX1JFRixcbiAgUEhYX1JFRl9TUkMsXG4gIFBIWF9ST09UX0lELFxuICBQSFhfU0VTU0lPTixcbiAgUEhYX1NUQVRJQyxcbiAgUEhYX1VQTE9BRF9SRUYsXG4gIFBIWF9WSUVXX1NFTEVDVE9SLFxuICBQSFhfU1RJQ0tZLFxuICBUSFJPVFRMRURcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbiAgbG9nRXJyb3Jcbn0gZnJvbSBcIi4vdXRpbHNcIlxuXG5sZXQgRE9NID0ge1xuICBieUlkKGlkKXsgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSB8fCBsb2dFcnJvcihgbm8gaWQgZm91bmQgZm9yICR7aWR9YCkgfSxcblxuICByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKXtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSlcbiAgICBpZihlbC5jbGFzc0xpc3QubGVuZ3RoID09PSAwKXsgZWwucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIikgfVxuICB9LFxuXG4gIGFsbChub2RlLCBxdWVyeSwgY2FsbGJhY2spe1xuICAgIGlmKCFub2RlKXsgcmV0dXJuIFtdIH1cbiAgICBsZXQgYXJyYXkgPSBBcnJheS5mcm9tKG5vZGUucXVlcnlTZWxlY3RvckFsbChxdWVyeSkpXG4gICAgcmV0dXJuIGNhbGxiYWNrID8gYXJyYXkuZm9yRWFjaChjYWxsYmFjaykgOiBhcnJheVxuICB9LFxuXG4gIGNoaWxkTm9kZUxlbmd0aChodG1sKXtcbiAgICBsZXQgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIilcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sXG4gICAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuY2hpbGRFbGVtZW50Q291bnRcbiAgfSxcblxuICBpc1VwbG9hZElucHV0KGVsKXsgcmV0dXJuIGVsLnR5cGUgPT09IFwiZmlsZVwiICYmIGVsLmdldEF0dHJpYnV0ZShQSFhfVVBMT0FEX1JFRikgIT09IG51bGwgfSxcblxuICBpc0F1dG9VcGxvYWQoaW5wdXRFbCl7IHJldHVybiBpbnB1dEVsLmhhc0F0dHJpYnV0ZShcImRhdGEtcGh4LWF1dG8tdXBsb2FkXCIpIH0sXG5cbiAgZmluZFVwbG9hZElucHV0cyhub2RlKXsgcmV0dXJuIHRoaXMuYWxsKG5vZGUsIGBpbnB1dFt0eXBlPVwiZmlsZVwiXVske1BIWF9VUExPQURfUkVGfV1gKSB9LFxuXG4gIGZpbmRDb21wb25lbnROb2RlTGlzdChub2RlLCBjaWQpe1xuICAgIHJldHVybiB0aGlzLmZpbHRlcldpdGhpblNhbWVMaXZlVmlldyh0aGlzLmFsbChub2RlLCBgWyR7UEhYX0NPTVBPTkVOVH09XCIke2NpZH1cIl1gKSwgbm9kZSlcbiAgfSxcblxuICBpc1BoeERlc3Ryb3llZChub2RlKXtcbiAgICByZXR1cm4gbm9kZS5pZCAmJiBET00ucHJpdmF0ZShub2RlLCBcImRlc3Ryb3llZFwiKSA/IHRydWUgOiBmYWxzZVxuICB9LFxuXG4gIHdhbnRzTmV3VGFiKGUpe1xuICAgIGxldCB3YW50c05ld1RhYiA9IGUuY3RybEtleSB8fCBlLnNoaWZ0S2V5IHx8IGUubWV0YUtleSB8fCAoZS5idXR0b24gJiYgZS5idXR0b24gPT09IDEpXG4gICAgbGV0IGlzRG93bmxvYWQgPSAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MQW5jaG9yRWxlbWVudCAmJiBlLnRhcmdldC5oYXNBdHRyaWJ1dGUoXCJkb3dubG9hZFwiKSlcbiAgICBsZXQgaXNUYXJnZXRCbGFuayA9IGUudGFyZ2V0Lmhhc0F0dHJpYnV0ZShcInRhcmdldFwiKSAmJiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIikudG9Mb3dlckNhc2UoKSA9PT0gXCJfYmxhbmtcIlxuICAgIHJldHVybiB3YW50c05ld1RhYiB8fCBpc1RhcmdldEJsYW5rIHx8IGlzRG93bmxvYWRcbiAgfSxcblxuICBpc1VubG9hZGFibGVGb3JtU3VibWl0KGUpe1xuICAgIC8vIElnbm9yZSBmb3JtIHN1Ym1pc3Npb25zIGludGVuZGVkIHRvIGNsb3NlIGEgbmF0aXZlIDxkaWFsb2c+IGVsZW1lbnRcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvZGlhbG9nI3VzYWdlX25vdGVzXG4gICAgbGV0IGlzRGlhbG9nU3VibWl0ID0gKGUudGFyZ2V0ICYmIGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcIm1ldGhvZFwiKSA9PT0gXCJkaWFsb2dcIikgfHxcbiAgICAgIChlLnN1Ym1pdHRlciAmJiBlLnN1Ym1pdHRlci5nZXRBdHRyaWJ1dGUoXCJmb3JtbWV0aG9kXCIpID09PSBcImRpYWxvZ1wiKVxuXG4gICAgaWYoaXNEaWFsb2dTdWJtaXQpe1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAhZS5kZWZhdWx0UHJldmVudGVkICYmICF0aGlzLndhbnRzTmV3VGFiKGUpXG4gICAgfVxuICB9LFxuXG4gIGlzTmV3UGFnZUNsaWNrKGUsIGN1cnJlbnRMb2NhdGlvbil7XG4gICAgbGV0IGhyZWYgPSBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50ID8gZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA6IG51bGxcbiAgICBsZXQgdXJsXG5cbiAgICBpZihlLmRlZmF1bHRQcmV2ZW50ZWQgfHwgaHJlZiA9PT0gbnVsbCB8fCB0aGlzLndhbnRzTmV3VGFiKGUpKXsgcmV0dXJuIGZhbHNlIH1cbiAgICBpZihocmVmLnN0YXJ0c1dpdGgoXCJtYWlsdG86XCIpIHx8IGhyZWYuc3RhcnRzV2l0aChcInRlbDpcIikpeyByZXR1cm4gZmFsc2UgfVxuICAgIGlmKGUudGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlKXsgcmV0dXJuIGZhbHNlIH1cblxuICAgIHRyeSB7XG4gICAgICB1cmwgPSBuZXcgVVJMKGhyZWYpXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB1cmwgPSBuZXcgVVJMKGhyZWYsIGN1cnJlbnRMb2NhdGlvbilcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAvLyBiYWQgVVJMLCBmYWxsYmFjayB0byBsZXQgYnJvd3NlciB0cnkgaXQgYXMgZXh0ZXJuYWxcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZih1cmwuaG9zdCA9PT0gY3VycmVudExvY2F0aW9uLmhvc3QgJiYgdXJsLnByb3RvY29sID09PSBjdXJyZW50TG9jYXRpb24ucHJvdG9jb2wpe1xuICAgICAgaWYodXJsLnBhdGhuYW1lID09PSBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUgJiYgdXJsLnNlYXJjaCA9PT0gY3VycmVudExvY2F0aW9uLnNlYXJjaCl7XG4gICAgICAgIHJldHVybiB1cmwuaGFzaCA9PT0gXCJcIiAmJiAhdXJsLmhyZWYuZW5kc1dpdGgoXCIjXCIpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cmwucHJvdG9jb2wuc3RhcnRzV2l0aChcImh0dHBcIilcbiAgfSxcblxuICBtYXJrUGh4Q2hpbGREZXN0cm95ZWQoZWwpe1xuICAgIGlmKHRoaXMuaXNQaHhDaGlsZChlbCkpeyBlbC5zZXRBdHRyaWJ1dGUoUEhYX1NFU1NJT04sIFwiXCIpIH1cbiAgICB0aGlzLnB1dFByaXZhdGUoZWwsIFwiZGVzdHJveWVkXCIsIHRydWUpXG4gIH0sXG5cbiAgZmluZFBoeENoaWxkcmVuSW5GcmFnbWVudChodG1sLCBwYXJlbnRJZCl7XG4gICAgbGV0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpXG4gICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gaHRtbFxuICAgIHJldHVybiB0aGlzLmZpbmRQaHhDaGlsZHJlbih0ZW1wbGF0ZS5jb250ZW50LCBwYXJlbnRJZClcbiAgfSxcblxuICBpc0lnbm9yZWQoZWwsIHBoeFVwZGF0ZSl7XG4gICAgcmV0dXJuIChlbC5nZXRBdHRyaWJ1dGUocGh4VXBkYXRlKSB8fCBlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBoeC11cGRhdGVcIikpID09PSBcImlnbm9yZVwiXG4gIH0sXG5cbiAgaXNQaHhVcGRhdGUoZWwsIHBoeFVwZGF0ZSwgdXBkYXRlVHlwZXMpe1xuICAgIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUgJiYgdXBkYXRlVHlwZXMuaW5kZXhPZihlbC5nZXRBdHRyaWJ1dGUocGh4VXBkYXRlKSkgPj0gMFxuICB9LFxuXG4gIGZpbmRQaHhTdGlja3koZWwpeyByZXR1cm4gdGhpcy5hbGwoZWwsIGBbJHtQSFhfU1RJQ0tZfV1gKSB9LFxuXG4gIGZpbmRQaHhDaGlsZHJlbihlbCwgcGFyZW50SWQpe1xuICAgIHJldHVybiB0aGlzLmFsbChlbCwgYCR7UEhYX1ZJRVdfU0VMRUNUT1J9WyR7UEhYX1BBUkVOVF9JRH09XCIke3BhcmVudElkfVwiXWApXG4gIH0sXG5cbiAgZmluZFBhcmVudENJRHMobm9kZSwgY2lkcyl7XG4gICAgbGV0IGluaXRpYWwgPSBuZXcgU2V0KGNpZHMpXG4gICAgbGV0IHBhcmVudENpZHMgPVxuICAgICAgY2lkcy5yZWR1Y2UoKGFjYywgY2lkKSA9PiB7XG4gICAgICAgIGxldCBzZWxlY3RvciA9IGBbJHtQSFhfQ09NUE9ORU5UfT1cIiR7Y2lkfVwiXSBbJHtQSFhfQ09NUE9ORU5UfV1gXG5cbiAgICAgICAgdGhpcy5maWx0ZXJXaXRoaW5TYW1lTGl2ZVZpZXcodGhpcy5hbGwobm9kZSwgc2VsZWN0b3IpLCBub2RlKVxuICAgICAgICAgIC5tYXAoZWwgPT4gcGFyc2VJbnQoZWwuZ2V0QXR0cmlidXRlKFBIWF9DT01QT05FTlQpKSlcbiAgICAgICAgICAuZm9yRWFjaChjaGlsZENJRCA9PiBhY2MuZGVsZXRlKGNoaWxkQ0lEKSlcblxuICAgICAgICByZXR1cm4gYWNjXG4gICAgICB9LCBpbml0aWFsKVxuXG4gICAgcmV0dXJuIHBhcmVudENpZHMuc2l6ZSA9PT0gMCA/IG5ldyBTZXQoY2lkcykgOiBwYXJlbnRDaWRzXG4gIH0sXG5cbiAgZmlsdGVyV2l0aGluU2FtZUxpdmVWaWV3KG5vZGVzLCBwYXJlbnQpe1xuICAgIGlmKHBhcmVudC5xdWVyeVNlbGVjdG9yKFBIWF9WSUVXX1NFTEVDVE9SKSl7XG4gICAgICByZXR1cm4gbm9kZXMuZmlsdGVyKGVsID0+IHRoaXMud2l0aGluU2FtZUxpdmVWaWV3KGVsLCBwYXJlbnQpKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbm9kZXNcbiAgICB9XG4gIH0sXG5cbiAgd2l0aGluU2FtZUxpdmVWaWV3KG5vZGUsIHBhcmVudCl7XG4gICAgd2hpbGUobm9kZSA9IG5vZGUucGFyZW50Tm9kZSl7XG4gICAgICBpZihub2RlLmlzU2FtZU5vZGUocGFyZW50KSl7IHJldHVybiB0cnVlIH1cbiAgICAgIGlmKG5vZGUuZ2V0QXR0cmlidXRlKFBIWF9TRVNTSU9OKSAhPT0gbnVsbCl7IHJldHVybiBmYWxzZSB9XG4gICAgfVxuICB9LFxuXG4gIHByaXZhdGUoZWwsIGtleSl7IHJldHVybiBlbFtQSFhfUFJJVkFURV0gJiYgZWxbUEhYX1BSSVZBVEVdW2tleV0gfSxcblxuICBkZWxldGVQcml2YXRlKGVsLCBrZXkpeyBlbFtQSFhfUFJJVkFURV0gJiYgZGVsZXRlIChlbFtQSFhfUFJJVkFURV1ba2V5XSkgfSxcblxuICBwdXRQcml2YXRlKGVsLCBrZXksIHZhbHVlKXtcbiAgICBpZighZWxbUEhYX1BSSVZBVEVdKXsgZWxbUEhYX1BSSVZBVEVdID0ge30gfVxuICAgIGVsW1BIWF9QUklWQVRFXVtrZXldID0gdmFsdWVcbiAgfSxcblxuICB1cGRhdGVQcml2YXRlKGVsLCBrZXksIGRlZmF1bHRWYWwsIHVwZGF0ZUZ1bmMpe1xuICAgIGxldCBleGlzdGluZyA9IHRoaXMucHJpdmF0ZShlbCwga2V5KVxuICAgIGlmKGV4aXN0aW5nID09PSB1bmRlZmluZWQpe1xuICAgICAgdGhpcy5wdXRQcml2YXRlKGVsLCBrZXksIHVwZGF0ZUZ1bmMoZGVmYXVsdFZhbCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHV0UHJpdmF0ZShlbCwga2V5LCB1cGRhdGVGdW5jKGV4aXN0aW5nKSlcbiAgICB9XG4gIH0sXG5cbiAgY29weVByaXZhdGVzKHRhcmdldCwgc291cmNlKXtcbiAgICBpZihzb3VyY2VbUEhYX1BSSVZBVEVdKXtcbiAgICAgIHRhcmdldFtQSFhfUFJJVkFURV0gPSBzb3VyY2VbUEhYX1BSSVZBVEVdXG4gICAgfVxuICB9LFxuXG4gIHB1dFRpdGxlKHN0cil7XG4gICAgbGV0IHRpdGxlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwidGl0bGVcIilcbiAgICBpZih0aXRsZUVsKXtcbiAgICAgIGxldCB7cHJlZml4LCBzdWZmaXh9ID0gdGl0bGVFbC5kYXRhc2V0XG4gICAgICBkb2N1bWVudC50aXRsZSA9IGAke3ByZWZpeCB8fCBcIlwifSR7c3RyfSR7c3VmZml4IHx8IFwiXCJ9YFxuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC50aXRsZSA9IHN0clxuICAgIH1cbiAgfSxcblxuICBkZWJvdW5jZShlbCwgZXZlbnQsIHBoeERlYm91bmNlLCBkZWZhdWx0RGVib3VuY2UsIHBoeFRocm90dGxlLCBkZWZhdWx0VGhyb3R0bGUsIGFzeW5jRmlsdGVyLCBjYWxsYmFjayl7XG4gICAgbGV0IGRlYm91bmNlID0gZWwuZ2V0QXR0cmlidXRlKHBoeERlYm91bmNlKVxuICAgIGxldCB0aHJvdHRsZSA9IGVsLmdldEF0dHJpYnV0ZShwaHhUaHJvdHRsZSlcblxuICAgIGlmKGRlYm91bmNlID09PSBcIlwiKXsgZGVib3VuY2UgPSBkZWZhdWx0RGVib3VuY2UgfVxuICAgIGlmKHRocm90dGxlID09PSBcIlwiKXsgdGhyb3R0bGUgPSBkZWZhdWx0VGhyb3R0bGUgfVxuICAgIGxldCB2YWx1ZSA9IGRlYm91bmNlIHx8IHRocm90dGxlXG4gICAgc3dpdGNoKHZhbHVlKXtcbiAgICAgIGNhc2UgbnVsbDogcmV0dXJuIGNhbGxiYWNrKClcblxuICAgICAgY2FzZSBcImJsdXJcIjpcbiAgICAgICAgaWYodGhpcy5vbmNlKGVsLCBcImRlYm91bmNlLWJsdXJcIikpe1xuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsICgpID0+IGNhbGxiYWNrKCkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxldCB0aW1lb3V0ID0gcGFyc2VJbnQodmFsdWUpXG4gICAgICAgIGxldCB0cmlnZ2VyID0gKCkgPT4gdGhyb3R0bGUgPyB0aGlzLmRlbGV0ZVByaXZhdGUoZWwsIFRIUk9UVExFRCkgOiBjYWxsYmFjaygpXG4gICAgICAgIGxldCBjdXJyZW50Q3ljbGUgPSB0aGlzLmluY0N5Y2xlKGVsLCBERUJPVU5DRV9UUklHR0VSLCB0cmlnZ2VyKVxuICAgICAgICBpZihpc05hTih0aW1lb3V0KSl7IHJldHVybiBsb2dFcnJvcihgaW52YWxpZCB0aHJvdHRsZS9kZWJvdW5jZSB2YWx1ZTogJHt2YWx1ZX1gKSB9XG4gICAgICAgIGlmKHRocm90dGxlKXtcbiAgICAgICAgICBsZXQgbmV3S2V5RG93biA9IGZhbHNlXG4gICAgICAgICAgaWYoZXZlbnQudHlwZSA9PT0gXCJrZXlkb3duXCIpe1xuICAgICAgICAgICAgbGV0IHByZXZLZXkgPSB0aGlzLnByaXZhdGUoZWwsIERFQk9VTkNFX1BSRVZfS0VZKVxuICAgICAgICAgICAgdGhpcy5wdXRQcml2YXRlKGVsLCBERUJPVU5DRV9QUkVWX0tFWSwgZXZlbnQua2V5KVxuICAgICAgICAgICAgbmV3S2V5RG93biA9IHByZXZLZXkgIT09IGV2ZW50LmtleVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKCFuZXdLZXlEb3duICYmIHRoaXMucHJpdmF0ZShlbCwgVEhST1RUTEVEKSl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICAgICAgdGhpcy5wdXRQcml2YXRlKGVsLCBUSFJPVFRMRUQsIHRydWUpXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgaWYoYXN5bmNGaWx0ZXIoKSl7IHRoaXMudHJpZ2dlckN5Y2xlKGVsLCBERUJPVU5DRV9UUklHR0VSKSB9XG4gICAgICAgICAgICB9LCB0aW1lb3V0KVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmKGFzeW5jRmlsdGVyKCkpeyB0aGlzLnRyaWdnZXJDeWNsZShlbCwgREVCT1VOQ0VfVFJJR0dFUiwgY3VycmVudEN5Y2xlKSB9XG4gICAgICAgICAgfSwgdGltZW91dClcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmb3JtID0gZWwuZm9ybVxuICAgICAgICBpZihmb3JtICYmIHRoaXMub25jZShmb3JtLCBcImJpbmQtZGVib3VuY2VcIikpe1xuICAgICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBBcnJheS5mcm9tKChuZXcgRm9ybURhdGEoZm9ybSkpLmVudHJpZXMoKSwgKFtuYW1lXSkgPT4ge1xuICAgICAgICAgICAgICBsZXQgaW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtuYW1lfVwiXWApXG4gICAgICAgICAgICAgIHRoaXMuaW5jQ3ljbGUoaW5wdXQsIERFQk9VTkNFX1RSSUdHRVIpXG4gICAgICAgICAgICAgIHRoaXMuZGVsZXRlUHJpdmF0ZShpbnB1dCwgVEhST1RUTEVEKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMub25jZShlbCwgXCJiaW5kLWRlYm91bmNlXCIpKXtcbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoKSA9PiB0aGlzLnRyaWdnZXJDeWNsZShlbCwgREVCT1VOQ0VfVFJJR0dFUikpXG4gICAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgdHJpZ2dlckN5Y2xlKGVsLCBrZXksIGN1cnJlbnRDeWNsZSl7XG4gICAgbGV0IFtjeWNsZSwgdHJpZ2dlcl0gPSB0aGlzLnByaXZhdGUoZWwsIGtleSlcbiAgICBpZighY3VycmVudEN5Y2xlKXsgY3VycmVudEN5Y2xlID0gY3ljbGUgfVxuICAgIGlmKGN1cnJlbnRDeWNsZSA9PT0gY3ljbGUpe1xuICAgICAgdGhpcy5pbmNDeWNsZShlbCwga2V5KVxuICAgICAgdHJpZ2dlcigpXG4gICAgfVxuICB9LFxuXG4gIG9uY2UoZWwsIGtleSl7XG4gICAgaWYodGhpcy5wcml2YXRlKGVsLCBrZXkpID09PSB0cnVlKXsgcmV0dXJuIGZhbHNlIH1cbiAgICB0aGlzLnB1dFByaXZhdGUoZWwsIGtleSwgdHJ1ZSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9LFxuXG4gIGluY0N5Y2xlKGVsLCBrZXksIHRyaWdnZXIgPSBmdW5jdGlvbiAoKXsgfSl7XG4gICAgbGV0IFtjdXJyZW50Q3ljbGVdID0gdGhpcy5wcml2YXRlKGVsLCBrZXkpIHx8IFswLCB0cmlnZ2VyXVxuICAgIGN1cnJlbnRDeWNsZSsrXG4gICAgdGhpcy5wdXRQcml2YXRlKGVsLCBrZXksIFtjdXJyZW50Q3ljbGUsIHRyaWdnZXJdKVxuICAgIHJldHVybiBjdXJyZW50Q3ljbGVcbiAgfSxcblxuICBtYXliZUFkZFByaXZhdGVIb29rcyhlbCwgcGh4Vmlld3BvcnRUb3AsIHBoeFZpZXdwb3J0Qm90dG9tKXtcbiAgICBpZihlbC5oYXNBdHRyaWJ1dGUgJiYgKGVsLmhhc0F0dHJpYnV0ZShwaHhWaWV3cG9ydFRvcCkgfHwgZWwuaGFzQXR0cmlidXRlKHBoeFZpZXdwb3J0Qm90dG9tKSkpe1xuICAgICAgZWwuc2V0QXR0cmlidXRlKFwiZGF0YS1waHgtaG9va1wiLCBcIlBob2VuaXguSW5maW5pdGVTY3JvbGxcIilcbiAgICB9XG4gIH0sXG5cbiAgbWF5YmVIaWRlRmVlZGJhY2soY29udGFpbmVyLCBpbnB1dCwgcGh4RmVlZGJhY2tGb3Ipe1xuICAgIGlmKCEodGhpcy5wcml2YXRlKGlucHV0LCBQSFhfSEFTX0ZPQ1VTRUQpIHx8IHRoaXMucHJpdmF0ZShpbnB1dCwgUEhYX0hBU19TVUJNSVRURUQpKSl7XG4gICAgICBsZXQgZmVlZGJhY2tzID0gW2lucHV0Lm5hbWVdXG4gICAgICBpZihpbnB1dC5uYW1lLmVuZHNXaXRoKFwiW11cIikpeyBmZWVkYmFja3MucHVzaChpbnB1dC5uYW1lLnNsaWNlKDAsIC0yKSkgfVxuICAgICAgbGV0IHNlbGVjdG9yID0gZmVlZGJhY2tzLm1hcChmID0+IGBbJHtwaHhGZWVkYmFja0Zvcn09XCIke2Z9XCJdYCkuam9pbihcIiwgXCIpXG4gICAgICBET00uYWxsKGNvbnRhaW5lciwgc2VsZWN0b3IsIGVsID0+IGVsLmNsYXNzTGlzdC5hZGQoUEhYX05PX0ZFRURCQUNLX0NMQVNTKSlcbiAgICB9XG4gIH0sXG5cbiAgcmVzZXRGb3JtKGZvcm0sIHBoeEZlZWRiYWNrRm9yKXtcbiAgICBBcnJheS5mcm9tKGZvcm0uZWxlbWVudHMpLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgbGV0IHF1ZXJ5ID0gYFske3BoeEZlZWRiYWNrRm9yfT1cIiR7aW5wdXQuaWR9XCJdLFxuICAgICAgICAgICAgICAgICAgIFske3BoeEZlZWRiYWNrRm9yfT1cIiR7aW5wdXQubmFtZX1cIl0sXG4gICAgICAgICAgICAgICAgICAgWyR7cGh4RmVlZGJhY2tGb3J9PVwiJHtpbnB1dC5uYW1lLnJlcGxhY2UoL1xcW1xcXSQvLCBcIlwiKX1cIl1gXG5cbiAgICAgIHRoaXMuZGVsZXRlUHJpdmF0ZShpbnB1dCwgUEhYX0hBU19GT0NVU0VEKVxuICAgICAgdGhpcy5kZWxldGVQcml2YXRlKGlucHV0LCBQSFhfSEFTX1NVQk1JVFRFRClcbiAgICAgIHRoaXMuYWxsKGRvY3VtZW50LCBxdWVyeSwgZmVlZGJhY2tFbCA9PiB7XG4gICAgICAgIGZlZWRiYWNrRWwuY2xhc3NMaXN0LmFkZChQSFhfTk9fRkVFREJBQ0tfQ0xBU1MpXG4gICAgICB9KVxuICAgIH0pXG4gIH0sXG5cbiAgc2hvd0Vycm9yKGlucHV0RWwsIHBoeEZlZWRiYWNrRm9yKXtcbiAgICBpZihpbnB1dEVsLmlkIHx8IGlucHV0RWwubmFtZSl7XG4gICAgICB0aGlzLmFsbChpbnB1dEVsLmZvcm0sIGBbJHtwaHhGZWVkYmFja0Zvcn09XCIke2lucHV0RWwuaWR9XCJdLCBbJHtwaHhGZWVkYmFja0Zvcn09XCIke2lucHV0RWwubmFtZX1cIl1gLCAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcyhlbCwgUEhYX05PX0ZFRURCQUNLX0NMQVNTKVxuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgaXNQaHhDaGlsZChub2RlKXtcbiAgICByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoUEhYX1BBUkVOVF9JRClcbiAgfSxcblxuICBpc1BoeFN0aWNreShub2RlKXtcbiAgICByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoUEhYX1NUSUNLWSkgIT09IG51bGxcbiAgfSxcblxuICBmaXJzdFBoeENoaWxkKGVsKXtcbiAgICByZXR1cm4gdGhpcy5pc1BoeENoaWxkKGVsKSA/IGVsIDogdGhpcy5hbGwoZWwsIGBbJHtQSFhfUEFSRU5UX0lEfV1gKVswXVxuICB9LFxuXG4gIGRpc3BhdGNoRXZlbnQodGFyZ2V0LCBuYW1lLCBvcHRzID0ge30pe1xuICAgIGxldCBidWJibGVzID0gb3B0cy5idWJibGVzID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFvcHRzLmJ1YmJsZXNcbiAgICBsZXQgZXZlbnRPcHRzID0ge2J1YmJsZXM6IGJ1YmJsZXMsIGNhbmNlbGFibGU6IHRydWUsIGRldGFpbDogb3B0cy5kZXRhaWwgfHwge319XG4gICAgbGV0IGV2ZW50ID0gbmFtZSA9PT0gXCJjbGlja1wiID8gbmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiLCBldmVudE9wdHMpIDogbmV3IEN1c3RvbUV2ZW50KG5hbWUsIGV2ZW50T3B0cylcbiAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChldmVudClcbiAgfSxcblxuICBjbG9uZU5vZGUobm9kZSwgaHRtbCl7XG4gICAgaWYodHlwZW9mIChodG1sKSA9PT0gXCJ1bmRlZmluZWRcIil7XG4gICAgICByZXR1cm4gbm9kZS5jbG9uZU5vZGUodHJ1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGNsb25lZCA9IG5vZGUuY2xvbmVOb2RlKGZhbHNlKVxuICAgICAgY2xvbmVkLmlubmVySFRNTCA9IGh0bWxcbiAgICAgIHJldHVybiBjbG9uZWRcbiAgICB9XG4gIH0sXG5cbiAgbWVyZ2VBdHRycyh0YXJnZXQsIHNvdXJjZSwgb3B0cyA9IHt9KXtcbiAgICBsZXQgZXhjbHVkZSA9IG9wdHMuZXhjbHVkZSB8fCBbXVxuICAgIGxldCBpc0lnbm9yZWQgPSBvcHRzLmlzSWdub3JlZFxuICAgIGxldCBzb3VyY2VBdHRycyA9IHNvdXJjZS5hdHRyaWJ1dGVzXG4gICAgZm9yKGxldCBpID0gc291cmNlQXR0cnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pe1xuICAgICAgbGV0IG5hbWUgPSBzb3VyY2VBdHRyc1tpXS5uYW1lXG4gICAgICBpZihleGNsdWRlLmluZGV4T2YobmFtZSkgPCAwKXsgdGFyZ2V0LnNldEF0dHJpYnV0ZShuYW1lLCBzb3VyY2UuZ2V0QXR0cmlidXRlKG5hbWUpKSB9XG4gICAgfVxuXG4gICAgbGV0IHRhcmdldEF0dHJzID0gdGFyZ2V0LmF0dHJpYnV0ZXNcbiAgICBmb3IobGV0IGkgPSB0YXJnZXRBdHRycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG4gICAgICBsZXQgbmFtZSA9IHRhcmdldEF0dHJzW2ldLm5hbWVcbiAgICAgIGlmKGlzSWdub3JlZCl7XG4gICAgICAgIGlmKG5hbWUuc3RhcnRzV2l0aChcImRhdGEtXCIpICYmICFzb3VyY2UuaGFzQXR0cmlidXRlKG5hbWUpKXsgdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShuYW1lKSB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZighc291cmNlLmhhc0F0dHJpYnV0ZShuYW1lKSl7IHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUobmFtZSkgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBtZXJnZUZvY3VzZWRJbnB1dCh0YXJnZXQsIHNvdXJjZSl7XG4gICAgLy8gc2tpcCBzZWxlY3RzIGJlY2F1c2UgRkYgd2lsbCByZXNldCBoaWdobGlnaHRlZCBpbmRleCBmb3IgYW55IHNldEF0dHJpYnV0ZVxuICAgIGlmKCEodGFyZ2V0IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQpKXsgRE9NLm1lcmdlQXR0cnModGFyZ2V0LCBzb3VyY2UsIHtleGNsdWRlOiBbXCJ2YWx1ZVwiXX0pIH1cbiAgICBpZihzb3VyY2UucmVhZE9ubHkpe1xuICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZShcInJlYWRvbmx5XCIsIHRydWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoXCJyZWFkb25seVwiKVxuICAgIH1cbiAgfSxcblxuICBoYXNTZWxlY3Rpb25SYW5nZShlbCl7XG4gICAgcmV0dXJuIGVsLnNldFNlbGVjdGlvblJhbmdlICYmIChlbC50eXBlID09PSBcInRleHRcIiB8fCBlbC50eXBlID09PSBcInRleHRhcmVhXCIpXG4gIH0sXG5cbiAgcmVzdG9yZUZvY3VzKGZvY3VzZWQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpe1xuICAgIGlmKCFET00uaXNUZXh0dWFsSW5wdXQoZm9jdXNlZCkpeyByZXR1cm4gfVxuICAgIGxldCB3YXNGb2N1c2VkID0gZm9jdXNlZC5tYXRjaGVzKFwiOmZvY3VzXCIpXG4gICAgaWYoZm9jdXNlZC5yZWFkT25seSl7IGZvY3VzZWQuYmx1cigpIH1cbiAgICBpZighd2FzRm9jdXNlZCl7IGZvY3VzZWQuZm9jdXMoKSB9XG4gICAgaWYodGhpcy5oYXNTZWxlY3Rpb25SYW5nZShmb2N1c2VkKSl7XG4gICAgICBmb2N1c2VkLnNldFNlbGVjdGlvblJhbmdlKHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpXG4gICAgfVxuICB9LFxuXG4gIGlzRm9ybUlucHV0KGVsKXsgcmV0dXJuIC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhKSQvaS50ZXN0KGVsLnRhZ05hbWUpICYmIGVsLnR5cGUgIT09IFwiYnV0dG9uXCIgfSxcblxuICBzeW5jQXR0cnNUb1Byb3BzKGVsKXtcbiAgICBpZihlbCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgQ0hFQ0tBQkxFX0lOUFVUUy5pbmRleE9mKGVsLnR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKSkgPj0gMCl7XG4gICAgICBlbC5jaGVja2VkID0gZWwuZ2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiKSAhPT0gbnVsbFxuICAgIH1cbiAgfSxcblxuICBpc1RleHR1YWxJbnB1dChlbCl7IHJldHVybiBGT0NVU0FCTEVfSU5QVVRTLmluZGV4T2YoZWwudHlwZSkgPj0gMCB9LFxuXG4gIGlzTm93VHJpZ2dlckZvcm1FeHRlcm5hbChlbCwgcGh4VHJpZ2dlckV4dGVybmFsKXtcbiAgICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlICYmIGVsLmdldEF0dHJpYnV0ZShwaHhUcmlnZ2VyRXh0ZXJuYWwpICE9PSBudWxsXG4gIH0sXG5cbiAgc3luY1BlbmRpbmdSZWYoZnJvbUVsLCB0b0VsLCBkaXNhYmxlV2l0aCl7XG4gICAgbGV0IHJlZiA9IGZyb21FbC5nZXRBdHRyaWJ1dGUoUEhYX1JFRilcbiAgICBpZihyZWYgPT09IG51bGwpeyByZXR1cm4gdHJ1ZSB9XG4gICAgbGV0IHJlZlNyYyA9IGZyb21FbC5nZXRBdHRyaWJ1dGUoUEhYX1JFRl9TUkMpXG5cbiAgICBpZihET00uaXNGb3JtSW5wdXQoZnJvbUVsKSB8fCBmcm9tRWwuZ2V0QXR0cmlidXRlKGRpc2FibGVXaXRoKSAhPT0gbnVsbCl7XG4gICAgICBpZihET00uaXNVcGxvYWRJbnB1dChmcm9tRWwpKXsgRE9NLm1lcmdlQXR0cnMoZnJvbUVsLCB0b0VsLCB7aXNJZ25vcmVkOiB0cnVlfSkgfVxuICAgICAgRE9NLnB1dFByaXZhdGUoZnJvbUVsLCBQSFhfUkVGLCB0b0VsKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIFBIWF9FVkVOVF9DTEFTU0VTLmZvckVhY2goY2xhc3NOYW1lID0+IHtcbiAgICAgICAgZnJvbUVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpICYmIHRvRWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpXG4gICAgICB9KVxuICAgICAgdG9FbC5zZXRBdHRyaWJ1dGUoUEhYX1JFRiwgcmVmKVxuICAgICAgdG9FbC5zZXRBdHRyaWJ1dGUoUEhYX1JFRl9TUkMsIHJlZlNyYylcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9LFxuXG4gIGNsZWFuQ2hpbGROb2Rlcyhjb250YWluZXIsIHBoeFVwZGF0ZSl7XG4gICAgaWYoRE9NLmlzUGh4VXBkYXRlKGNvbnRhaW5lciwgcGh4VXBkYXRlLCBbXCJhcHBlbmRcIiwgXCJwcmVwZW5kXCJdKSl7XG4gICAgICBsZXQgdG9SZW1vdmUgPSBbXVxuICAgICAgY29udGFpbmVyLmNoaWxkTm9kZXMuZm9yRWFjaChjaGlsZE5vZGUgPT4ge1xuICAgICAgICBpZighY2hpbGROb2RlLmlkKXtcbiAgICAgICAgICAvLyBTa2lwIHdhcm5pbmcgaWYgaXQncyBhbiBlbXB0eSB0ZXh0IG5vZGUgKGUuZy4gYSBuZXctbGluZSlcbiAgICAgICAgICBsZXQgaXNFbXB0eVRleHROb2RlID0gY2hpbGROb2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSAmJiBjaGlsZE5vZGUubm9kZVZhbHVlLnRyaW0oKSA9PT0gXCJcIlxuICAgICAgICAgIGlmKCFpc0VtcHR5VGV4dE5vZGUpe1xuICAgICAgICAgICAgbG9nRXJyb3IoXCJvbmx5IEhUTUwgZWxlbWVudCB0YWdzIHdpdGggYW4gaWQgYXJlIGFsbG93ZWQgaW5zaWRlIGNvbnRhaW5lcnMgd2l0aCBwaHgtdXBkYXRlLlxcblxcblwiICtcbiAgICAgICAgICAgICAgYHJlbW92aW5nIGlsbGVnYWwgbm9kZTogXCIkeyhjaGlsZE5vZGUub3V0ZXJIVE1MIHx8IGNoaWxkTm9kZS5ub2RlVmFsdWUpLnRyaW0oKX1cIlxcblxcbmApXG4gICAgICAgICAgfVxuICAgICAgICAgIHRvUmVtb3ZlLnB1c2goY2hpbGROb2RlKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgdG9SZW1vdmUuZm9yRWFjaChjaGlsZE5vZGUgPT4gY2hpbGROb2RlLnJlbW92ZSgpKVxuICAgIH1cbiAgfSxcblxuICByZXBsYWNlUm9vdENvbnRhaW5lcihjb250YWluZXIsIHRhZ05hbWUsIGF0dHJzKXtcbiAgICBsZXQgcmV0YWluZWRBdHRycyA9IG5ldyBTZXQoW1wiaWRcIiwgUEhYX1NFU1NJT04sIFBIWF9TVEFUSUMsIFBIWF9NQUlOLCBQSFhfUk9PVF9JRF0pXG4gICAgaWYoY29udGFpbmVyLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpKXtcbiAgICAgIEFycmF5LmZyb20oY29udGFpbmVyLmF0dHJpYnV0ZXMpXG4gICAgICAgIC5maWx0ZXIoYXR0ciA9PiAhcmV0YWluZWRBdHRycy5oYXMoYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCkpKVxuICAgICAgICAuZm9yRWFjaChhdHRyID0+IGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoYXR0ci5uYW1lKSlcblxuICAgICAgT2JqZWN0LmtleXMoYXR0cnMpXG4gICAgICAgIC5maWx0ZXIobmFtZSA9PiAhcmV0YWluZWRBdHRycy5oYXMobmFtZS50b0xvd2VyQ2FzZSgpKSlcbiAgICAgICAgLmZvckVhY2goYXR0ciA9PiBjb250YWluZXIuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJzW2F0dHJdKSlcblxuICAgICAgcmV0dXJuIGNvbnRhaW5lclxuXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBuZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpXG4gICAgICBPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChhdHRyID0+IG5ld0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoYXR0ciwgYXR0cnNbYXR0cl0pKVxuICAgICAgcmV0YWluZWRBdHRycy5mb3JFYWNoKGF0dHIgPT4gbmV3Q29udGFpbmVyLnNldEF0dHJpYnV0ZShhdHRyLCBjb250YWluZXIuZ2V0QXR0cmlidXRlKGF0dHIpKSlcbiAgICAgIG5ld0NvbnRhaW5lci5pbm5lckhUTUwgPSBjb250YWluZXIuaW5uZXJIVE1MXG4gICAgICBjb250YWluZXIucmVwbGFjZVdpdGgobmV3Q29udGFpbmVyKVxuICAgICAgcmV0dXJuIG5ld0NvbnRhaW5lclxuICAgIH1cbiAgfSxcblxuICBnZXRTdGlja3koZWwsIG5hbWUsIGRlZmF1bHRWYWwpe1xuICAgIGxldCBvcCA9IChET00ucHJpdmF0ZShlbCwgXCJzdGlja3lcIikgfHwgW10pLmZpbmQoKFtleGlzdGluZ05hbWUsIF0pID0+IG5hbWUgPT09IGV4aXN0aW5nTmFtZSlcbiAgICBpZihvcCl7XG4gICAgICBsZXQgW19uYW1lLCBfb3AsIHN0YXNoZWRSZXN1bHRdID0gb3BcbiAgICAgIHJldHVybiBzdGFzaGVkUmVzdWx0XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0eXBlb2YoZGVmYXVsdFZhbCkgPT09IFwiZnVuY3Rpb25cIiA/IGRlZmF1bHRWYWwoKSA6IGRlZmF1bHRWYWxcbiAgICB9XG4gIH0sXG5cbiAgZGVsZXRlU3RpY2t5KGVsLCBuYW1lKXtcbiAgICB0aGlzLnVwZGF0ZVByaXZhdGUoZWwsIFwic3RpY2t5XCIsIFtdLCBvcHMgPT4ge1xuICAgICAgcmV0dXJuIG9wcy5maWx0ZXIoKFtleGlzdGluZ05hbWUsIF9dKSA9PiBleGlzdGluZ05hbWUgIT09IG5hbWUpXG4gICAgfSlcbiAgfSxcblxuICBwdXRTdGlja3koZWwsIG5hbWUsIG9wKXtcbiAgICBsZXQgc3Rhc2hlZFJlc3VsdCA9IG9wKGVsKVxuICAgIHRoaXMudXBkYXRlUHJpdmF0ZShlbCwgXCJzdGlja3lcIiwgW10sIG9wcyA9PiB7XG4gICAgICBsZXQgZXhpc3RpbmdJbmRleCA9IG9wcy5maW5kSW5kZXgoKFtleGlzdGluZ05hbWUsIF0pID0+IG5hbWUgPT09IGV4aXN0aW5nTmFtZSlcbiAgICAgIGlmKGV4aXN0aW5nSW5kZXggPj0gMCl7XG4gICAgICAgIG9wc1tleGlzdGluZ0luZGV4XSA9IFtuYW1lLCBvcCwgc3Rhc2hlZFJlc3VsdF1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wcy5wdXNoKFtuYW1lLCBvcCwgc3Rhc2hlZFJlc3VsdF0pXG4gICAgICB9XG4gICAgICByZXR1cm4gb3BzXG4gICAgfSlcbiAgfSxcblxuICBhcHBseVN0aWNreU9wZXJhdGlvbnMoZWwpe1xuICAgIGxldCBvcHMgPSBET00ucHJpdmF0ZShlbCwgXCJzdGlja3lcIilcbiAgICBpZighb3BzKXsgcmV0dXJuIH1cblxuICAgIG9wcy5mb3JFYWNoKChbbmFtZSwgb3AsIF9zdGFzaGVkXSkgPT4gdGhpcy5wdXRTdGlja3koZWwsIG5hbWUsIG9wKSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBET01cbiIsICJpbXBvcnQge1xuICBQSFhfQUNUSVZFX0VOVFJZX1JFRlMsXG4gIFBIWF9MSVZFX0ZJTEVfVVBEQVRFRCxcbiAgUEhYX1BSRUZMSUdIVEVEX1JFRlNcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbiAgY2hhbm5lbFVwbG9hZGVyLFxuICBsb2dFcnJvclxufSBmcm9tIFwiLi91dGlsc1wiXG5cbmltcG9ydCBMaXZlVXBsb2FkZXIgZnJvbSBcIi4vbGl2ZV91cGxvYWRlclwiXG5pbXBvcnQgRE9NIGZyb20gXCIuL2RvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVwbG9hZEVudHJ5IHtcbiAgc3RhdGljIGlzQWN0aXZlKGZpbGVFbCwgZmlsZSl7XG4gICAgbGV0IGlzTmV3ID0gZmlsZS5fcGh4UmVmID09PSB1bmRlZmluZWRcbiAgICBsZXQgYWN0aXZlUmVmcyA9IGZpbGVFbC5nZXRBdHRyaWJ1dGUoUEhYX0FDVElWRV9FTlRSWV9SRUZTKS5zcGxpdChcIixcIilcbiAgICBsZXQgaXNBY3RpdmUgPSBhY3RpdmVSZWZzLmluZGV4T2YoTGl2ZVVwbG9hZGVyLmdlbkZpbGVSZWYoZmlsZSkpID49IDBcbiAgICByZXR1cm4gZmlsZS5zaXplID4gMCAmJiAoaXNOZXcgfHwgaXNBY3RpdmUpXG4gIH1cblxuICBzdGF0aWMgaXNQcmVmbGlnaHRlZChmaWxlRWwsIGZpbGUpe1xuICAgIGxldCBwcmVmbGlnaHRlZFJlZnMgPSBmaWxlRWwuZ2V0QXR0cmlidXRlKFBIWF9QUkVGTElHSFRFRF9SRUZTKS5zcGxpdChcIixcIilcbiAgICBsZXQgaXNQcmVmbGlnaHRlZCA9IHByZWZsaWdodGVkUmVmcy5pbmRleE9mKExpdmVVcGxvYWRlci5nZW5GaWxlUmVmKGZpbGUpKSA+PSAwXG4gICAgcmV0dXJuIGlzUHJlZmxpZ2h0ZWQgJiYgdGhpcy5pc0FjdGl2ZShmaWxlRWwsIGZpbGUpXG4gIH1cblxuICBjb25zdHJ1Y3RvcihmaWxlRWwsIGZpbGUsIHZpZXcpe1xuICAgIHRoaXMucmVmID0gTGl2ZVVwbG9hZGVyLmdlbkZpbGVSZWYoZmlsZSlcbiAgICB0aGlzLmZpbGVFbCA9IGZpbGVFbFxuICAgIHRoaXMuZmlsZSA9IGZpbGVcbiAgICB0aGlzLnZpZXcgPSB2aWV3XG4gICAgdGhpcy5tZXRhID0gbnVsbFxuICAgIHRoaXMuX2lzQ2FuY2VsbGVkID0gZmFsc2VcbiAgICB0aGlzLl9pc0RvbmUgPSBmYWxzZVxuICAgIHRoaXMuX3Byb2dyZXNzID0gMFxuICAgIHRoaXMuX2xhc3RQcm9ncmVzc1NlbnQgPSAtMVxuICAgIHRoaXMuX29uRG9uZSA9IGZ1bmN0aW9uICgpeyB9XG4gICAgdGhpcy5fb25FbFVwZGF0ZWQgPSB0aGlzLm9uRWxVcGRhdGVkLmJpbmQodGhpcylcbiAgICB0aGlzLmZpbGVFbC5hZGRFdmVudExpc3RlbmVyKFBIWF9MSVZFX0ZJTEVfVVBEQVRFRCwgdGhpcy5fb25FbFVwZGF0ZWQpXG4gIH1cblxuICBtZXRhZGF0YSgpeyByZXR1cm4gdGhpcy5tZXRhIH1cblxuICBwcm9ncmVzcyhwcm9ncmVzcyl7XG4gICAgdGhpcy5fcHJvZ3Jlc3MgPSBNYXRoLmZsb29yKHByb2dyZXNzKVxuICAgIGlmKHRoaXMuX3Byb2dyZXNzID4gdGhpcy5fbGFzdFByb2dyZXNzU2VudCl7XG4gICAgICBpZih0aGlzLl9wcm9ncmVzcyA+PSAxMDApe1xuICAgICAgICB0aGlzLl9wcm9ncmVzcyA9IDEwMFxuICAgICAgICB0aGlzLl9sYXN0UHJvZ3Jlc3NTZW50ID0gMTAwXG4gICAgICAgIHRoaXMuX2lzRG9uZSA9IHRydWVcbiAgICAgICAgdGhpcy52aWV3LnB1c2hGaWxlUHJvZ3Jlc3ModGhpcy5maWxlRWwsIHRoaXMucmVmLCAxMDAsICgpID0+IHtcbiAgICAgICAgICBMaXZlVXBsb2FkZXIudW50cmFja0ZpbGUodGhpcy5maWxlRWwsIHRoaXMuZmlsZSlcbiAgICAgICAgICB0aGlzLl9vbkRvbmUoKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbGFzdFByb2dyZXNzU2VudCA9IHRoaXMuX3Byb2dyZXNzXG4gICAgICAgIHRoaXMudmlldy5wdXNoRmlsZVByb2dyZXNzKHRoaXMuZmlsZUVsLCB0aGlzLnJlZiwgdGhpcy5fcHJvZ3Jlc3MpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2FuY2VsKCl7XG4gICAgdGhpcy5faXNDYW5jZWxsZWQgPSB0cnVlXG4gICAgdGhpcy5faXNEb25lID0gdHJ1ZVxuICAgIHRoaXMuX29uRG9uZSgpXG4gIH1cblxuICBpc0RvbmUoKXsgcmV0dXJuIHRoaXMuX2lzRG9uZSB9XG5cbiAgZXJyb3IocmVhc29uID0gXCJmYWlsZWRcIil7XG4gICAgdGhpcy5maWxlRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihQSFhfTElWRV9GSUxFX1VQREFURUQsIHRoaXMuX29uRWxVcGRhdGVkKVxuICAgIHRoaXMudmlldy5wdXNoRmlsZVByb2dyZXNzKHRoaXMuZmlsZUVsLCB0aGlzLnJlZiwge2Vycm9yOiByZWFzb259KVxuICAgIGlmKCFET00uaXNBdXRvVXBsb2FkKHRoaXMuZmlsZUVsKSl7IExpdmVVcGxvYWRlci5jbGVhckZpbGVzKHRoaXMuZmlsZUVsKSB9XG4gIH1cblxuICAvL3ByaXZhdGVcblxuICBvbkRvbmUoY2FsbGJhY2spe1xuICAgIHRoaXMuX29uRG9uZSA9ICgpID0+IHtcbiAgICAgIHRoaXMuZmlsZUVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoUEhYX0xJVkVfRklMRV9VUERBVEVELCB0aGlzLl9vbkVsVXBkYXRlZClcbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICBvbkVsVXBkYXRlZCgpe1xuICAgIGxldCBhY3RpdmVSZWZzID0gdGhpcy5maWxlRWwuZ2V0QXR0cmlidXRlKFBIWF9BQ1RJVkVfRU5UUllfUkVGUykuc3BsaXQoXCIsXCIpXG4gICAgaWYoYWN0aXZlUmVmcy5pbmRleE9mKHRoaXMucmVmKSA9PT0gLTEpeyB0aGlzLmNhbmNlbCgpIH1cbiAgfVxuXG4gIHRvUHJlZmxpZ2h0UGF5bG9hZCgpe1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X21vZGlmaWVkOiB0aGlzLmZpbGUubGFzdE1vZGlmaWVkLFxuICAgICAgbmFtZTogdGhpcy5maWxlLm5hbWUsXG4gICAgICByZWxhdGl2ZV9wYXRoOiB0aGlzLmZpbGUud2Via2l0UmVsYXRpdmVQYXRoLFxuICAgICAgc2l6ZTogdGhpcy5maWxlLnNpemUsXG4gICAgICB0eXBlOiB0aGlzLmZpbGUudHlwZSxcbiAgICAgIHJlZjogdGhpcy5yZWYsXG4gICAgICBtZXRhOiB0eXBlb2YodGhpcy5maWxlLm1ldGEpID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzLmZpbGUubWV0YSgpIDogdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgdXBsb2FkZXIodXBsb2FkZXJzKXtcbiAgICBpZih0aGlzLm1ldGEudXBsb2FkZXIpe1xuICAgICAgbGV0IGNhbGxiYWNrID0gdXBsb2FkZXJzW3RoaXMubWV0YS51cGxvYWRlcl0gfHwgbG9nRXJyb3IoYG5vIHVwbG9hZGVyIGNvbmZpZ3VyZWQgZm9yICR7dGhpcy5tZXRhLnVwbG9hZGVyfWApXG4gICAgICByZXR1cm4ge25hbWU6IHRoaXMubWV0YS51cGxvYWRlciwgY2FsbGJhY2s6IGNhbGxiYWNrfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge25hbWU6IFwiY2hhbm5lbFwiLCBjYWxsYmFjazogY2hhbm5lbFVwbG9hZGVyfVxuICAgIH1cbiAgfVxuXG4gIHppcFBvc3RGbGlnaHQocmVzcCl7XG4gICAgdGhpcy5tZXRhID0gcmVzcC5lbnRyaWVzW3RoaXMucmVmXVxuICAgIGlmKCF0aGlzLm1ldGEpeyBsb2dFcnJvcihgbm8gcHJlZmxpZ2h0IHVwbG9hZCByZXNwb25zZSByZXR1cm5lZCB3aXRoIHJlZiAke3RoaXMucmVmfWAsIHtpbnB1dDogdGhpcy5maWxlRWwsIHJlc3BvbnNlOiByZXNwfSkgfVxuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgUEhYX0RPTkVfUkVGUyxcbiAgUEhYX1BSRUZMSUdIVEVEX1JFRlMsXG4gIFBIWF9VUExPQURfUkVGXG59IGZyb20gXCIuL2NvbnN0YW50c1wiXG5cbmltcG9ydCB7XG59IGZyb20gXCIuL3V0aWxzXCJcblxuaW1wb3J0IERPTSBmcm9tIFwiLi9kb21cIlxuaW1wb3J0IFVwbG9hZEVudHJ5IGZyb20gXCIuL3VwbG9hZF9lbnRyeVwiXG5cbmxldCBsaXZlVXBsb2FkZXJGaWxlUmVmID0gMFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXZlVXBsb2FkZXIge1xuICBzdGF0aWMgZ2VuRmlsZVJlZihmaWxlKXtcbiAgICBsZXQgcmVmID0gZmlsZS5fcGh4UmVmXG4gICAgaWYocmVmICE9PSB1bmRlZmluZWQpe1xuICAgICAgcmV0dXJuIHJlZlxuICAgIH0gZWxzZSB7XG4gICAgICBmaWxlLl9waHhSZWYgPSAobGl2ZVVwbG9hZGVyRmlsZVJlZisrKS50b1N0cmluZygpXG4gICAgICByZXR1cm4gZmlsZS5fcGh4UmVmXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldEVudHJ5RGF0YVVSTChpbnB1dEVsLCByZWYsIGNhbGxiYWNrKXtcbiAgICBsZXQgZmlsZSA9IHRoaXMuYWN0aXZlRmlsZXMoaW5wdXRFbCkuZmluZChmaWxlID0+IHRoaXMuZ2VuRmlsZVJlZihmaWxlKSA9PT0gcmVmKVxuICAgIGNhbGxiYWNrKFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSkpXG4gIH1cblxuICBzdGF0aWMgaGFzVXBsb2Fkc0luUHJvZ3Jlc3MoZm9ybUVsKXtcbiAgICBsZXQgYWN0aXZlID0gMFxuICAgIERPTS5maW5kVXBsb2FkSW5wdXRzKGZvcm1FbCkuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBpZihpbnB1dC5nZXRBdHRyaWJ1dGUoUEhYX1BSRUZMSUdIVEVEX1JFRlMpICE9PSBpbnB1dC5nZXRBdHRyaWJ1dGUoUEhYX0RPTkVfUkVGUykpe1xuICAgICAgICBhY3RpdmUrK1xuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGFjdGl2ZSA+IDBcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemVVcGxvYWRzKGlucHV0RWwpe1xuICAgIGxldCBmaWxlcyA9IHRoaXMuYWN0aXZlRmlsZXMoaW5wdXRFbClcbiAgICBsZXQgZmlsZURhdGEgPSB7fVxuICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICBsZXQgZW50cnkgPSB7cGF0aDogaW5wdXRFbC5uYW1lfVxuICAgICAgbGV0IHVwbG9hZFJlZiA9IGlucHV0RWwuZ2V0QXR0cmlidXRlKFBIWF9VUExPQURfUkVGKVxuICAgICAgZmlsZURhdGFbdXBsb2FkUmVmXSA9IGZpbGVEYXRhW3VwbG9hZFJlZl0gfHwgW11cbiAgICAgIGVudHJ5LnJlZiA9IHRoaXMuZ2VuRmlsZVJlZihmaWxlKVxuICAgICAgZW50cnkubGFzdF9tb2RpZmllZCA9IGZpbGUubGFzdE1vZGlmaWVkXG4gICAgICBlbnRyeS5uYW1lID0gZmlsZS5uYW1lIHx8IGVudHJ5LnJlZlxuICAgICAgZW50cnkucmVsYXRpdmVfcGF0aCA9IGZpbGUud2Via2l0UmVsYXRpdmVQYXRoXG4gICAgICBlbnRyeS50eXBlID0gZmlsZS50eXBlXG4gICAgICBlbnRyeS5zaXplID0gZmlsZS5zaXplXG4gICAgICBpZih0eXBlb2YoZmlsZS5tZXRhKSA9PT0gXCJmdW5jdGlvblwiKXsgZW50cnkubWV0YSA9IGZpbGUubWV0YSgpIH1cbiAgICAgIGZpbGVEYXRhW3VwbG9hZFJlZl0ucHVzaChlbnRyeSlcbiAgICB9KVxuICAgIHJldHVybiBmaWxlRGF0YVxuICB9XG5cbiAgc3RhdGljIGNsZWFyRmlsZXMoaW5wdXRFbCl7XG4gICAgaW5wdXRFbC52YWx1ZSA9IG51bGxcbiAgICBpbnB1dEVsLnJlbW92ZUF0dHJpYnV0ZShQSFhfVVBMT0FEX1JFRilcbiAgICBET00ucHV0UHJpdmF0ZShpbnB1dEVsLCBcImZpbGVzXCIsIFtdKVxuICB9XG5cbiAgc3RhdGljIHVudHJhY2tGaWxlKGlucHV0RWwsIGZpbGUpe1xuICAgIERPTS5wdXRQcml2YXRlKGlucHV0RWwsIFwiZmlsZXNcIiwgRE9NLnByaXZhdGUoaW5wdXRFbCwgXCJmaWxlc1wiKS5maWx0ZXIoZiA9PiAhT2JqZWN0LmlzKGYsIGZpbGUpKSlcbiAgfVxuXG4gIHN0YXRpYyB0cmFja0ZpbGVzKGlucHV0RWwsIGZpbGVzLCBkYXRhVHJhbnNmZXIpe1xuICAgIGlmKGlucHV0RWwuZ2V0QXR0cmlidXRlKFwibXVsdGlwbGVcIikgIT09IG51bGwpe1xuICAgICAgbGV0IG5ld0ZpbGVzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gIXRoaXMuYWN0aXZlRmlsZXMoaW5wdXRFbCkuZmluZChmID0+IE9iamVjdC5pcyhmLCBmaWxlKSkpXG4gICAgICBET00ucHV0UHJpdmF0ZShpbnB1dEVsLCBcImZpbGVzXCIsIHRoaXMuYWN0aXZlRmlsZXMoaW5wdXRFbCkuY29uY2F0KG5ld0ZpbGVzKSlcbiAgICAgIGlucHV0RWwudmFsdWUgPSBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlc2V0IGlucHV0RWwgZmlsZXMgdG8gYWxpZ24gb3V0cHV0IHdpdGggcHJvZ3JhbW1hdGljIGNoYW5nZXMgKGkuZS4gZHJhZyBhbmQgZHJvcClcbiAgICAgIGlmKGRhdGFUcmFuc2ZlciAmJiBkYXRhVHJhbnNmZXIuZmlsZXMubGVuZ3RoID4gMCl7IGlucHV0RWwuZmlsZXMgPSBkYXRhVHJhbnNmZXIuZmlsZXMgfVxuICAgICAgRE9NLnB1dFByaXZhdGUoaW5wdXRFbCwgXCJmaWxlc1wiLCBmaWxlcylcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYWN0aXZlRmlsZUlucHV0cyhmb3JtRWwpe1xuICAgIGxldCBmaWxlSW5wdXRzID0gRE9NLmZpbmRVcGxvYWRJbnB1dHMoZm9ybUVsKVxuICAgIHJldHVybiBBcnJheS5mcm9tKGZpbGVJbnB1dHMpLmZpbHRlcihlbCA9PiBlbC5maWxlcyAmJiB0aGlzLmFjdGl2ZUZpbGVzKGVsKS5sZW5ndGggPiAwKVxuICB9XG5cbiAgc3RhdGljIGFjdGl2ZUZpbGVzKGlucHV0KXtcbiAgICByZXR1cm4gKERPTS5wcml2YXRlKGlucHV0LCBcImZpbGVzXCIpIHx8IFtdKS5maWx0ZXIoZiA9PiBVcGxvYWRFbnRyeS5pc0FjdGl2ZShpbnB1dCwgZikpXG4gIH1cblxuICBzdGF0aWMgaW5wdXRzQXdhaXRpbmdQcmVmbGlnaHQoZm9ybUVsKXtcbiAgICBsZXQgZmlsZUlucHV0cyA9IERPTS5maW5kVXBsb2FkSW5wdXRzKGZvcm1FbClcbiAgICByZXR1cm4gQXJyYXkuZnJvbShmaWxlSW5wdXRzKS5maWx0ZXIoaW5wdXQgPT4gdGhpcy5maWxlc0F3YWl0aW5nUHJlZmxpZ2h0KGlucHV0KS5sZW5ndGggPiAwKVxuICB9XG5cbiAgc3RhdGljIGZpbGVzQXdhaXRpbmdQcmVmbGlnaHQoaW5wdXQpe1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZUZpbGVzKGlucHV0KS5maWx0ZXIoZiA9PiAhVXBsb2FkRW50cnkuaXNQcmVmbGlnaHRlZChpbnB1dCwgZikpXG4gIH1cblxuICBjb25zdHJ1Y3RvcihpbnB1dEVsLCB2aWV3LCBvbkNvbXBsZXRlKXtcbiAgICB0aGlzLnZpZXcgPSB2aWV3XG4gICAgdGhpcy5vbkNvbXBsZXRlID0gb25Db21wbGV0ZVxuICAgIHRoaXMuX2VudHJpZXMgPVxuICAgICAgQXJyYXkuZnJvbShMaXZlVXBsb2FkZXIuZmlsZXNBd2FpdGluZ1ByZWZsaWdodChpbnB1dEVsKSB8fCBbXSlcbiAgICAgICAgLm1hcChmaWxlID0+IG5ldyBVcGxvYWRFbnRyeShpbnB1dEVsLCBmaWxlLCB2aWV3KSlcblxuICAgIHRoaXMubnVtRW50cmllc0luUHJvZ3Jlc3MgPSB0aGlzLl9lbnRyaWVzLmxlbmd0aFxuICB9XG5cbiAgZW50cmllcygpeyByZXR1cm4gdGhpcy5fZW50cmllcyB9XG5cbiAgaW5pdEFkYXB0ZXJVcGxvYWQocmVzcCwgb25FcnJvciwgbGl2ZVNvY2tldCl7XG4gICAgdGhpcy5fZW50cmllcyA9XG4gICAgICB0aGlzLl9lbnRyaWVzLm1hcChlbnRyeSA9PiB7XG4gICAgICAgIGVudHJ5LnppcFBvc3RGbGlnaHQocmVzcClcbiAgICAgICAgZW50cnkub25Eb25lKCgpID0+IHtcbiAgICAgICAgICB0aGlzLm51bUVudHJpZXNJblByb2dyZXNzLS1cbiAgICAgICAgICBpZih0aGlzLm51bUVudHJpZXNJblByb2dyZXNzID09PSAwKXsgdGhpcy5vbkNvbXBsZXRlKCkgfVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gZW50cnlcbiAgICAgIH0pXG5cbiAgICBsZXQgZ3JvdXBlZEVudHJpZXMgPSB0aGlzLl9lbnRyaWVzLnJlZHVjZSgoYWNjLCBlbnRyeSkgPT4ge1xuICAgICAgaWYoIWVudHJ5Lm1ldGEpeyByZXR1cm4gYWNjIH1cbiAgICAgIGxldCB7bmFtZSwgY2FsbGJhY2t9ID0gZW50cnkudXBsb2FkZXIobGl2ZVNvY2tldC51cGxvYWRlcnMpXG4gICAgICBhY2NbbmFtZV0gPSBhY2NbbmFtZV0gfHwge2NhbGxiYWNrOiBjYWxsYmFjaywgZW50cmllczogW119XG4gICAgICBhY2NbbmFtZV0uZW50cmllcy5wdXNoKGVudHJ5KVxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sIHt9KVxuXG4gICAgZm9yKGxldCBuYW1lIGluIGdyb3VwZWRFbnRyaWVzKXtcbiAgICAgIGxldCB7Y2FsbGJhY2ssIGVudHJpZXN9ID0gZ3JvdXBlZEVudHJpZXNbbmFtZV1cbiAgICAgIGNhbGxiYWNrKGVudHJpZXMsIG9uRXJyb3IsIHJlc3AsIGxpdmVTb2NrZXQpXG4gICAgfVxuICB9XG59XG4iLCAibGV0IEFSSUEgPSB7XG4gIGZvY3VzTWFpbigpe1xuICAgIGxldCB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpbiBoMSwgbWFpbiwgaDFcIilcbiAgICBpZih0YXJnZXQpe1xuICAgICAgbGV0IG9yaWdUYWJJbmRleCA9IHRhcmdldC50YWJJbmRleFxuICAgICAgdGFyZ2V0LnRhYkluZGV4ID0gLTFcbiAgICAgIHRhcmdldC5mb2N1cygpXG4gICAgICB0YXJnZXQudGFiSW5kZXggPSBvcmlnVGFiSW5kZXhcbiAgICB9XG4gIH0sXG5cbiAgYW55T2YoaW5zdGFuY2UsIGNsYXNzZXMpeyByZXR1cm4gY2xhc3Nlcy5maW5kKG5hbWUgPT4gaW5zdGFuY2UgaW5zdGFuY2VvZiBuYW1lKSB9LFxuXG4gIGlzRm9jdXNhYmxlKGVsLCBpbnRlcmFjdGl2ZU9ubHkpe1xuICAgIHJldHVybihcbiAgICAgIChlbCBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50ICYmIGVsLnJlbCAhPT0gXCJpZ25vcmVcIikgfHxcbiAgICAgIChlbCBpbnN0YW5jZW9mIEhUTUxBcmVhRWxlbWVudCAmJiBlbC5ocmVmICE9PSB1bmRlZmluZWQpIHx8XG4gICAgICAoIWVsLmRpc2FibGVkICYmICh0aGlzLmFueU9mKGVsLCBbSFRNTElucHV0RWxlbWVudCwgSFRNTFNlbGVjdEVsZW1lbnQsIEhUTUxUZXh0QXJlYUVsZW1lbnQsIEhUTUxCdXR0b25FbGVtZW50XSkpKSB8fFxuICAgICAgKGVsIGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnQpIHx8XG4gICAgICAoZWwudGFiSW5kZXggPiAwIHx8ICghaW50ZXJhY3RpdmVPbmx5ICYmIGVsLnRhYkluZGV4ID09PSAwICYmIGVsLmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpICE9PSBudWxsICYmIGVsLmdldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpICE9PSBcInRydWVcIikpXG4gICAgKVxuICB9LFxuXG4gIGF0dGVtcHRGb2N1cyhlbCwgaW50ZXJhY3RpdmVPbmx5KXtcbiAgICBpZih0aGlzLmlzRm9jdXNhYmxlKGVsLCBpbnRlcmFjdGl2ZU9ubHkpKXsgdHJ5eyBlbC5mb2N1cygpIH0gY2F0Y2goZSl7fSB9XG4gICAgcmV0dXJuICEhZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmlzU2FtZU5vZGUoZWwpXG4gIH0sXG5cbiAgZm9jdXNGaXJzdEludGVyYWN0aXZlKGVsKXtcbiAgICBsZXQgY2hpbGQgPSBlbC5maXJzdEVsZW1lbnRDaGlsZFxuICAgIHdoaWxlKGNoaWxkKXtcbiAgICAgIGlmKHRoaXMuYXR0ZW1wdEZvY3VzKGNoaWxkLCB0cnVlKSB8fCB0aGlzLmZvY3VzRmlyc3RJbnRlcmFjdGl2ZShjaGlsZCwgdHJ1ZSkpe1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0RWxlbWVudFNpYmxpbmdcbiAgICB9XG4gIH0sXG5cbiAgZm9jdXNGaXJzdChlbCl7XG4gICAgbGV0IGNoaWxkID0gZWwuZmlyc3RFbGVtZW50Q2hpbGRcbiAgICB3aGlsZShjaGlsZCl7XG4gICAgICBpZih0aGlzLmF0dGVtcHRGb2N1cyhjaGlsZCkgfHwgdGhpcy5mb2N1c0ZpcnN0KGNoaWxkKSl7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgICBjaGlsZCA9IGNoaWxkLm5leHRFbGVtZW50U2libGluZ1xuICAgIH1cbiAgfSxcblxuICBmb2N1c0xhc3QoZWwpe1xuICAgIGxldCBjaGlsZCA9IGVsLmxhc3RFbGVtZW50Q2hpbGRcbiAgICB3aGlsZShjaGlsZCl7XG4gICAgICBpZih0aGlzLmF0dGVtcHRGb2N1cyhjaGlsZCkgfHwgdGhpcy5mb2N1c0xhc3QoY2hpbGQpKXtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQucHJldmlvdXNFbGVtZW50U2libGluZ1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgQVJJQSIsICJpbXBvcnQge1xuICBQSFhfQUNUSVZFX0VOVFJZX1JFRlMsXG4gIFBIWF9MSVZFX0ZJTEVfVVBEQVRFRCxcbiAgUEhYX1BSRUZMSUdIVEVEX1JFRlMsXG4gIFBIWF9VUExPQURfUkVGXG59IGZyb20gXCIuL2NvbnN0YW50c1wiXG5cbmltcG9ydCBMaXZlVXBsb2FkZXIgZnJvbSBcIi4vbGl2ZV91cGxvYWRlclwiXG5pbXBvcnQgQVJJQSBmcm9tIFwiLi9hcmlhXCJcblxubGV0IEhvb2tzID0ge1xuICBMaXZlRmlsZVVwbG9hZDoge1xuICAgIGFjdGl2ZVJlZnMoKXsgcmV0dXJuIHRoaXMuZWwuZ2V0QXR0cmlidXRlKFBIWF9BQ1RJVkVfRU5UUllfUkVGUykgfSxcblxuICAgIHByZWZsaWdodGVkUmVmcygpeyByZXR1cm4gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoUEhYX1BSRUZMSUdIVEVEX1JFRlMpIH0sXG5cbiAgICBtb3VudGVkKCl7IHRoaXMucHJlZmxpZ2h0ZWRXYXMgPSB0aGlzLnByZWZsaWdodGVkUmVmcygpIH0sXG5cbiAgICB1cGRhdGVkKCl7XG4gICAgICBsZXQgbmV3UHJlZmxpZ2h0cyA9IHRoaXMucHJlZmxpZ2h0ZWRSZWZzKClcbiAgICAgIGlmKHRoaXMucHJlZmxpZ2h0ZWRXYXMgIT09IG5ld1ByZWZsaWdodHMpe1xuICAgICAgICB0aGlzLnByZWZsaWdodGVkV2FzID0gbmV3UHJlZmxpZ2h0c1xuICAgICAgICBpZihuZXdQcmVmbGlnaHRzID09PSBcIlwiKXtcbiAgICAgICAgICB0aGlzLl9fdmlldy5jYW5jZWxTdWJtaXQodGhpcy5lbC5mb3JtKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMuYWN0aXZlUmVmcygpID09PSBcIlwiKXsgdGhpcy5lbC52YWx1ZSA9IG51bGwgfVxuICAgICAgdGhpcy5lbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChQSFhfTElWRV9GSUxFX1VQREFURUQpKVxuICAgIH1cbiAgfSxcblxuICBMaXZlSW1nUHJldmlldzoge1xuICAgIG1vdW50ZWQoKXtcbiAgICAgIHRoaXMucmVmID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBoeC1lbnRyeS1yZWZcIilcbiAgICAgIHRoaXMuaW5wdXRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWwuZ2V0QXR0cmlidXRlKFBIWF9VUExPQURfUkVGKSlcbiAgICAgIExpdmVVcGxvYWRlci5nZXRFbnRyeURhdGFVUkwodGhpcy5pbnB1dEVsLCB0aGlzLnJlZiwgdXJsID0+IHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmxcbiAgICAgICAgdGhpcy5lbC5zcmMgPSB1cmxcbiAgICAgIH0pXG4gICAgfSxcbiAgICBkZXN0cm95ZWQoKXtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy51cmwpXG4gICAgfVxuICB9LFxuICBGb2N1c1dyYXA6IHtcbiAgICBtb3VudGVkKCl7XG4gICAgICB0aGlzLmZvY3VzU3RhcnQgPSB0aGlzLmVsLmZpcnN0RWxlbWVudENoaWxkXG4gICAgICB0aGlzLmZvY3VzRW5kID0gdGhpcy5lbC5sYXN0RWxlbWVudENoaWxkXG4gICAgICB0aGlzLmZvY3VzU3RhcnQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsICgpID0+IEFSSUEuZm9jdXNMYXN0KHRoaXMuZWwpKVxuICAgICAgdGhpcy5mb2N1c0VuZC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgKCkgPT4gQVJJQS5mb2N1c0ZpcnN0KHRoaXMuZWwpKVxuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKFwicGh4OnNob3ctZW5kXCIsICgpID0+IHRoaXMuZWwuZm9jdXMoKSlcbiAgICAgIGlmKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWwpLmRpc3BsYXkgIT09IFwibm9uZVwiKXtcbiAgICAgICAgQVJJQS5mb2N1c0ZpcnN0KHRoaXMuZWwpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmxldCBzY3JvbGxUb3AgPSAoKSA9PiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wXG5sZXQgd2luSGVpZ2h0ID0gKCkgPT4gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcblxubGV0IGlzQXRWaWV3cG9ydFRvcCA9IChlbCkgPT4ge1xuICBsZXQgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gIHJldHVybiByZWN0LnRvcCA+PSAwICYmIHJlY3QubGVmdCA+PSAwICYmIHJlY3QudG9wIDw9IHdpbkhlaWdodCgpXG59XG5cbmxldCBpc0F0Vmlld3BvcnRCb3R0b20gPSAoZWwpID0+IHtcbiAgbGV0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICByZXR1cm4gcmVjdC5yaWdodCA+PSAwICYmIHJlY3QubGVmdCA+PSAwICYmIHJlY3QuYm90dG9tIDw9IHdpbkhlaWdodCgpXG59XG5cbmxldCBpc1dpdGhpblZpZXdwb3J0ID0gKGVsKSA9PiB7XG4gIGxldCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgcmV0dXJuIHJlY3QudG9wID49IDAgJiYgcmVjdC5sZWZ0ID49IDAgJiYgcmVjdC50b3AgPD0gd2luSGVpZ2h0KClcbn1cblxuSG9va3MuSW5maW5pdGVTY3JvbGwgPSB7XG4gIG1vdW50ZWQoKXtcbiAgICBsZXQgc2Nyb2xsQmVmb3JlID0gc2Nyb2xsVG9wKClcbiAgICBsZXQgdG9wT3ZlcnJhbiA9IGZhbHNlXG4gICAgbGV0IHRocm90dGxlSW50ZXJ2YWwgPSA1MDBcbiAgICBsZXQgcGVuZGluZ09wID0gbnVsbFxuXG4gICAgbGV0IG9uVG9wT3ZlcnJ1biA9IHRoaXMudGhyb3R0bGUodGhyb3R0bGVJbnRlcnZhbCwgKHRvcEV2ZW50LCBmaXJzdENoaWxkKSA9PiB7XG4gICAgICBwZW5kaW5nT3AgPSAoKSA9PiB0cnVlXG4gICAgICB0aGlzLmxpdmVTb2NrZXQuZXhlY0pTSG9va1B1c2godGhpcy5lbCwgdG9wRXZlbnQsIHtpZDogZmlyc3RDaGlsZC5pZCwgX292ZXJyYW46IHRydWV9LCAoKSA9PiB7XG4gICAgICAgIHBlbmRpbmdPcCA9IG51bGxcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGxldCBvbkZpcnN0Q2hpbGRBdFRvcCA9IHRoaXMudGhyb3R0bGUodGhyb3R0bGVJbnRlcnZhbCwgKHRvcEV2ZW50LCBmaXJzdENoaWxkKSA9PiB7XG4gICAgICBwZW5kaW5nT3AgPSAoKSA9PiBmaXJzdENoaWxkLnNjcm9sbEludG9WaWV3KHtibG9jazogXCJzdGFydFwifSlcbiAgICAgIHRoaXMubGl2ZVNvY2tldC5leGVjSlNIb29rUHVzaCh0aGlzLmVsLCB0b3BFdmVudCwge2lkOiBmaXJzdENoaWxkLmlkfSwgKCkgPT4ge1xuICAgICAgICBwZW5kaW5nT3AgPSBudWxsXG4gICAgICAgIGlmKCFpc1dpdGhpblZpZXdwb3J0KGZpcnN0Q2hpbGQpKXsgZmlyc3RDaGlsZC5zY3JvbGxJbnRvVmlldyh7YmxvY2s6IFwic3RhcnRcIn0pIH1cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGxldCBvbkxhc3RDaGlsZEF0Qm90dG9tID0gdGhpcy50aHJvdHRsZSh0aHJvdHRsZUludGVydmFsLCAoYm90dG9tRXZlbnQsIGxhc3RDaGlsZCkgPT4ge1xuICAgICAgcGVuZGluZ09wID0gKCkgPT4gbGFzdENoaWxkLnNjcm9sbEludG9WaWV3KHtibG9jazogXCJlbmRcIn0pXG4gICAgICB0aGlzLmxpdmVTb2NrZXQuZXhlY0pTSG9va1B1c2godGhpcy5lbCwgYm90dG9tRXZlbnQsIHtpZDogbGFzdENoaWxkLmlkfSwgKCkgPT4ge1xuICAgICAgICBwZW5kaW5nT3AgPSBudWxsXG4gICAgICAgIGlmKCFpc1dpdGhpblZpZXdwb3J0KGxhc3RDaGlsZCkpeyBsYXN0Q2hpbGQuc2Nyb2xsSW50b1ZpZXcoe2Jsb2NrOiBcImVuZFwifSkgfVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGhpcy5vblNjcm9sbCA9IChlKSA9PiB7XG4gICAgICBsZXQgc2Nyb2xsTm93ID0gc2Nyb2xsVG9wKClcblxuICAgICAgaWYocGVuZGluZ09wKXtcbiAgICAgICAgc2Nyb2xsQmVmb3JlID0gc2Nyb2xsTm93XG4gICAgICAgIHJldHVybiBwZW5kaW5nT3AoKVxuICAgICAgfVxuICAgICAgbGV0IHJlY3QgPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBsZXQgdG9wRXZlbnQgPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSh0aGlzLmxpdmVTb2NrZXQuYmluZGluZyhcInZpZXdwb3J0LXRvcFwiKSlcbiAgICAgIGxldCBib3R0b21FdmVudCA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKHRoaXMubGl2ZVNvY2tldC5iaW5kaW5nKFwidmlld3BvcnQtYm90dG9tXCIpKVxuICAgICAgbGV0IGxhc3RDaGlsZCA9IHRoaXMuZWwubGFzdEVsZW1lbnRDaGlsZFxuICAgICAgbGV0IGZpcnN0Q2hpbGQgPSB0aGlzLmVsLmZpcnN0RWxlbWVudENoaWxkXG4gICAgICBsZXQgaXNTY3JvbGxpbmdVcCA9IHNjcm9sbE5vdyA8IHNjcm9sbEJlZm9yZVxuICAgICAgbGV0IGlzU2Nyb2xsaW5nRG93biA9IHNjcm9sbE5vdyA+IHNjcm9sbEJlZm9yZVxuXG4gICAgICAvLyBlbCBvdmVycmFuIHdoaWxlIHNjcm9sbGluZyB1cFxuICAgICAgaWYoaXNTY3JvbGxpbmdVcCAmJiB0b3BFdmVudCAmJiAhdG9wT3ZlcnJhbiAmJiByZWN0LnRvcCA+PSAwKXtcbiAgICAgICAgdG9wT3ZlcnJhbiA9IHRydWVcbiAgICAgICAgb25Ub3BPdmVycnVuKHRvcEV2ZW50LCBmaXJzdENoaWxkKVxuICAgICAgfSBlbHNlIGlmKGlzU2Nyb2xsaW5nRG93biAmJiB0b3BPdmVycmFuICYmIHJlY3QudG9wIDw9IDApe1xuICAgICAgICB0b3BPdmVycmFuID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgaWYodG9wRXZlbnQgJiYgaXNTY3JvbGxpbmdVcCAmJiBpc0F0Vmlld3BvcnRUb3AoZmlyc3RDaGlsZCkpe1xuICAgICAgICBvbkZpcnN0Q2hpbGRBdFRvcCh0b3BFdmVudCwgZmlyc3RDaGlsZClcbiAgICAgIH0gZWxzZSBpZihib3R0b21FdmVudCAmJiBpc1Njcm9sbGluZ0Rvd24gJiYgaXNBdFZpZXdwb3J0Qm90dG9tKGxhc3RDaGlsZCkpe1xuICAgICAgICBvbkxhc3RDaGlsZEF0Qm90dG9tKGJvdHRvbUV2ZW50LCBsYXN0Q2hpbGQpXG4gICAgICB9XG4gICAgICBzY3JvbGxCZWZvcmUgPSBzY3JvbGxOb3dcbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbClcbiAgfSxcbiAgZGVzdHJveWVkKCl7IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpIH0sXG5cbiAgdGhyb3R0bGUoaW50ZXJ2YWwsIGNhbGxiYWNrKXtcbiAgICBsZXQgbGFzdENhbGxBdCA9IDBcbiAgICBsZXQgdGltZXJcblxuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgbGV0IG5vdyA9IERhdGUubm93KClcbiAgICAgIGxldCByZW1haW5pbmdUaW1lID0gaW50ZXJ2YWwgLSAobm93IC0gbGFzdENhbGxBdClcblxuICAgICAgaWYocmVtYWluaW5nVGltZSA8PSAwIHx8IHJlbWFpbmluZ1RpbWUgPiBpbnRlcnZhbCl7XG4gICAgICAgIGlmKHRpbWVyKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKVxuICAgICAgICAgIHRpbWVyID0gbnVsbFxuICAgICAgICB9XG4gICAgICAgIGxhc3RDYWxsQXQgPSBub3dcbiAgICAgICAgY2FsbGJhY2soLi4uYXJncylcbiAgICAgIH0gZWxzZSBpZighdGltZXIpe1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGxhc3RDYWxsQXQgPSBEYXRlLm5vdygpXG4gICAgICAgICAgdGltZXIgPSBudWxsXG4gICAgICAgICAgY2FsbGJhY2soLi4uYXJncylcbiAgICAgICAgfSwgcmVtYWluaW5nVGltZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEhvb2tzXG4iLCAiaW1wb3J0IHtcbiAgbWF5YmVcbn0gZnJvbSBcIi4vdXRpbHNcIlxuXG5pbXBvcnQgRE9NIGZyb20gXCIuL2RvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERPTVBvc3RNb3JwaFJlc3RvcmVyIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyQmVmb3JlLCBjb250YWluZXJBZnRlciwgdXBkYXRlVHlwZSl7XG4gICAgbGV0IGlkc0JlZm9yZSA9IG5ldyBTZXQoKVxuICAgIGxldCBpZHNBZnRlciA9IG5ldyBTZXQoWy4uLmNvbnRhaW5lckFmdGVyLmNoaWxkcmVuXS5tYXAoY2hpbGQgPT4gY2hpbGQuaWQpKVxuXG4gICAgbGV0IGVsZW1lbnRzVG9Nb2RpZnkgPSBbXVxuXG4gICAgQXJyYXkuZnJvbShjb250YWluZXJCZWZvcmUuY2hpbGRyZW4pLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgaWYoY2hpbGQuaWQpeyAvLyBhbGwgb2Ygb3VyIGNoaWxkcmVuIHNob3VsZCBiZSBlbGVtZW50cyB3aXRoIGlkc1xuICAgICAgICBpZHNCZWZvcmUuYWRkKGNoaWxkLmlkKVxuICAgICAgICBpZihpZHNBZnRlci5oYXMoY2hpbGQuaWQpKXtcbiAgICAgICAgICBsZXQgcHJldmlvdXNFbGVtZW50SWQgPSBjaGlsZC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIGNoaWxkLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuaWRcbiAgICAgICAgICBlbGVtZW50c1RvTW9kaWZ5LnB1c2goe2VsZW1lbnRJZDogY2hpbGQuaWQsIHByZXZpb3VzRWxlbWVudElkOiBwcmV2aW91c0VsZW1lbnRJZH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5jb250YWluZXJJZCA9IGNvbnRhaW5lckFmdGVyLmlkXG4gICAgdGhpcy51cGRhdGVUeXBlID0gdXBkYXRlVHlwZVxuICAgIHRoaXMuZWxlbWVudHNUb01vZGlmeSA9IGVsZW1lbnRzVG9Nb2RpZnlcbiAgICB0aGlzLmVsZW1lbnRJZHNUb0FkZCA9IFsuLi5pZHNBZnRlcl0uZmlsdGVyKGlkID0+ICFpZHNCZWZvcmUuaGFzKGlkKSlcbiAgfVxuXG4gIC8vIFdlIGRvIHRoZSBmb2xsb3dpbmcgdG8gb3B0aW1pemUgYXBwZW5kL3ByZXBlbmQgb3BlcmF0aW9uczpcbiAgLy8gICAxKSBUcmFjayBpZHMgb2YgbW9kaWZpZWQgZWxlbWVudHMgJiBvZiBuZXcgZWxlbWVudHNcbiAgLy8gICAyKSBBbGwgdGhlIG1vZGlmaWVkIGVsZW1lbnRzIGFyZSBwdXQgYmFjayBpbiB0aGUgY29ycmVjdCBwb3NpdGlvbiBpbiB0aGUgRE9NIHRyZWVcbiAgLy8gICAgICBieSBzdG9yaW5nIHRoZSBpZCBvZiB0aGVpciBwcmV2aW91cyBzaWJsaW5nXG4gIC8vICAgMykgTmV3IGVsZW1lbnRzIGFyZSBnb2luZyB0byBiZSBwdXQgaW4gdGhlIHJpZ2h0IHBsYWNlIGJ5IG1vcnBoZG9tIGR1cmluZyBhcHBlbmQuXG4gIC8vICAgICAgRm9yIHByZXBlbmQsIHdlIG1vdmUgdGhlbSB0byB0aGUgZmlyc3QgcG9zaXRpb24gaW4gdGhlIGNvbnRhaW5lclxuICBwZXJmb3JtKCl7XG4gICAgbGV0IGNvbnRhaW5lciA9IERPTS5ieUlkKHRoaXMuY29udGFpbmVySWQpXG4gICAgdGhpcy5lbGVtZW50c1RvTW9kaWZ5LmZvckVhY2goZWxlbWVudFRvTW9kaWZ5ID0+IHtcbiAgICAgIGlmKGVsZW1lbnRUb01vZGlmeS5wcmV2aW91c0VsZW1lbnRJZCl7XG4gICAgICAgIG1heWJlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRUb01vZGlmeS5wcmV2aW91c0VsZW1lbnRJZCksIHByZXZpb3VzRWxlbSA9PiB7XG4gICAgICAgICAgbWF5YmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudFRvTW9kaWZ5LmVsZW1lbnRJZCksIGVsZW0gPT4ge1xuICAgICAgICAgICAgbGV0IGlzSW5SaWdodFBsYWNlID0gZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZy5pZCA9PSBwcmV2aW91c0VsZW0uaWRcbiAgICAgICAgICAgIGlmKCFpc0luUmlnaHRQbGFjZSl7XG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBlbGVtKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBjb250YWluZXJcbiAgICAgICAgbWF5YmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudFRvTW9kaWZ5LmVsZW1lbnRJZCksIGVsZW0gPT4ge1xuICAgICAgICAgIGxldCBpc0luUmlnaHRQbGFjZSA9IGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsXG4gICAgICAgICAgaWYoIWlzSW5SaWdodFBsYWNlKXtcbiAgICAgICAgICAgIGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIsIGVsZW0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZih0aGlzLnVwZGF0ZVR5cGUgPT0gXCJwcmVwZW5kXCIpe1xuICAgICAgdGhpcy5lbGVtZW50SWRzVG9BZGQucmV2ZXJzZSgpLmZvckVhY2goZWxlbUlkID0+IHtcbiAgICAgICAgbWF5YmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbUlkKSwgZWxlbSA9PiBjb250YWluZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJiZWdpblwiLCBlbGVtKSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG4iLCAidmFyIERPQ1VNRU5UX0ZSQUdNRU5UX05PREUgPSAxMTtcblxuZnVuY3Rpb24gbW9ycGhBdHRycyhmcm9tTm9kZSwgdG9Ob2RlKSB7XG4gICAgdmFyIHRvTm9kZUF0dHJzID0gdG9Ob2RlLmF0dHJpYnV0ZXM7XG4gICAgdmFyIGF0dHI7XG4gICAgdmFyIGF0dHJOYW1lO1xuICAgIHZhciBhdHRyTmFtZXNwYWNlVVJJO1xuICAgIHZhciBhdHRyVmFsdWU7XG4gICAgdmFyIGZyb21WYWx1ZTtcblxuICAgIC8vIGRvY3VtZW50LWZyYWdtZW50cyBkb250IGhhdmUgYXR0cmlidXRlcyBzbyBsZXRzIG5vdCBkbyBhbnl0aGluZ1xuICAgIGlmICh0b05vZGUubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREUgfHwgZnJvbU5vZGUubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgYXR0cmlidXRlcyBvbiBvcmlnaW5hbCBET00gZWxlbWVudFxuICAgIGZvciAodmFyIGkgPSB0b05vZGVBdHRycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBhdHRyID0gdG9Ob2RlQXR0cnNbaV07XG4gICAgICAgIGF0dHJOYW1lID0gYXR0ci5uYW1lO1xuICAgICAgICBhdHRyTmFtZXNwYWNlVVJJID0gYXR0ci5uYW1lc3BhY2VVUkk7XG4gICAgICAgIGF0dHJWYWx1ZSA9IGF0dHIudmFsdWU7XG5cbiAgICAgICAgaWYgKGF0dHJOYW1lc3BhY2VVUkkpIHtcbiAgICAgICAgICAgIGF0dHJOYW1lID0gYXR0ci5sb2NhbE5hbWUgfHwgYXR0ck5hbWU7XG4gICAgICAgICAgICBmcm9tVmFsdWUgPSBmcm9tTm9kZS5nZXRBdHRyaWJ1dGVOUyhhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChmcm9tVmFsdWUgIT09IGF0dHJWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyLnByZWZpeCA9PT0gJ3htbG5zJyl7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJOYW1lID0gYXR0ci5uYW1lOyAvLyBJdCdzIG5vdCBhbGxvd2VkIHRvIHNldCBhbiBhdHRyaWJ1dGUgd2l0aCB0aGUgWE1MTlMgbmFtZXNwYWNlIHdpdGhvdXQgc3BlY2lmeWluZyB0aGUgYHhtbG5zYCBwcmVmaXhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnJvbU5vZGUuc2V0QXR0cmlidXRlTlMoYXR0ck5hbWVzcGFjZVVSSSwgYXR0ck5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tVmFsdWUgPSBmcm9tTm9kZS5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuXG4gICAgICAgICAgICBpZiAoZnJvbVZhbHVlICE9PSBhdHRyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBmcm9tTm9kZS5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYW55IGV4dHJhIGF0dHJpYnV0ZXMgZm91bmQgb24gdGhlIG9yaWdpbmFsIERPTSBlbGVtZW50IHRoYXRcbiAgICAvLyB3ZXJlbid0IGZvdW5kIG9uIHRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICB2YXIgZnJvbU5vZGVBdHRycyA9IGZyb21Ob2RlLmF0dHJpYnV0ZXM7XG5cbiAgICBmb3IgKHZhciBkID0gZnJvbU5vZGVBdHRycy5sZW5ndGggLSAxOyBkID49IDA7IGQtLSkge1xuICAgICAgICBhdHRyID0gZnJvbU5vZGVBdHRyc1tkXTtcbiAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgIGF0dHJOYW1lc3BhY2VVUkkgPSBhdHRyLm5hbWVzcGFjZVVSSTtcblxuICAgICAgICBpZiAoYXR0ck5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLmxvY2FsTmFtZSB8fCBhdHRyTmFtZTtcblxuICAgICAgICAgICAgaWYgKCF0b05vZGUuaGFzQXR0cmlidXRlTlMoYXR0ck5hbWVzcGFjZVVSSSwgYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZnJvbU5vZGUucmVtb3ZlQXR0cmlidXRlTlMoYXR0ck5hbWVzcGFjZVVSSSwgYXR0ck5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0b05vZGUuaGFzQXR0cmlidXRlKGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICAgIGZyb21Ob2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciByYW5nZTsgLy8gQ3JlYXRlIGEgcmFuZ2Ugb2JqZWN0IGZvciBlZmZpY2VudGx5IHJlbmRlcmluZyBzdHJpbmdzIHRvIGVsZW1lbnRzLlxudmFyIE5TX1hIVE1MID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnO1xuXG52YXIgZG9jID0gdHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IGRvY3VtZW50O1xudmFyIEhBU19URU1QTEFURV9TVVBQT1JUID0gISFkb2MgJiYgJ2NvbnRlbnQnIGluIGRvYy5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xudmFyIEhBU19SQU5HRV9TVVBQT1JUID0gISFkb2MgJiYgZG9jLmNyZWF0ZVJhbmdlICYmICdjcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQnIGluIGRvYy5jcmVhdGVSYW5nZSgpO1xuXG5mdW5jdGlvbiBjcmVhdGVGcmFnbWVudEZyb21UZW1wbGF0ZShzdHIpIHtcbiAgICB2YXIgdGVtcGxhdGUgPSBkb2MuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBzdHI7XG4gICAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuY2hpbGROb2Rlc1swXTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRnJhZ21lbnRGcm9tUmFuZ2Uoc3RyKSB7XG4gICAgaWYgKCFyYW5nZSkge1xuICAgICAgICByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgICAgICByYW5nZS5zZWxlY3ROb2RlKGRvYy5ib2R5KTtcbiAgICB9XG5cbiAgICB2YXIgZnJhZ21lbnQgPSByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoc3RyKTtcbiAgICByZXR1cm4gZnJhZ21lbnQuY2hpbGROb2Rlc1swXTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRnJhZ21lbnRGcm9tV3JhcChzdHIpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2MuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgIGZyYWdtZW50LmlubmVySFRNTCA9IHN0cjtcbiAgICByZXR1cm4gZnJhZ21lbnQuY2hpbGROb2Rlc1swXTtcbn1cblxuLyoqXG4gKiBUaGlzIGlzIGFib3V0IHRoZSBzYW1lXG4gKiB2YXIgaHRtbCA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoc3RyLCAndGV4dC9odG1sJyk7XG4gKiByZXR1cm4gaHRtbC5ib2R5LmZpcnN0Q2hpbGQ7XG4gKlxuICogQG1ldGhvZCB0b0VsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqL1xuZnVuY3Rpb24gdG9FbGVtZW50KHN0cikge1xuICAgIHN0ciA9IHN0ci50cmltKCk7XG4gICAgaWYgKEhBU19URU1QTEFURV9TVVBQT1JUKSB7XG4gICAgICAvLyBhdm9pZCByZXN0cmljdGlvbnMgb24gY29udGVudCBmb3IgdGhpbmdzIGxpa2UgYDx0cj48dGg+SGk8L3RoPjwvdHI+YCB3aGljaFxuICAgICAgLy8gY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50IGRvZXNuJ3Qgc3VwcG9ydFxuICAgICAgLy8gPHRlbXBsYXRlPiBzdXBwb3J0IG5vdCBhdmFpbGFibGUgaW4gSUVcbiAgICAgIHJldHVybiBjcmVhdGVGcmFnbWVudEZyb21UZW1wbGF0ZShzdHIpO1xuICAgIH0gZWxzZSBpZiAoSEFTX1JBTkdFX1NVUFBPUlQpIHtcbiAgICAgIHJldHVybiBjcmVhdGVGcmFnbWVudEZyb21SYW5nZShzdHIpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVGcmFnbWVudEZyb21XcmFwKHN0cik7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHR3byBub2RlJ3MgbmFtZXMgYXJlIHRoZSBzYW1lLlxuICpcbiAqIE5PVEU6IFdlIGRvbid0IGJvdGhlciBjaGVja2luZyBgbmFtZXNwYWNlVVJJYCBiZWNhdXNlIHlvdSB3aWxsIG5ldmVyIGZpbmQgdHdvIEhUTUwgZWxlbWVudHMgd2l0aCB0aGUgc2FtZVxuICogICAgICAgbm9kZU5hbWUgYW5kIGRpZmZlcmVudCBuYW1lc3BhY2UgVVJJcy5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcbiAqIEBwYXJhbSB7RWxlbWVudH0gYiBUaGUgdGFyZ2V0IGVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVOb2RlTmFtZXMoZnJvbUVsLCB0b0VsKSB7XG4gICAgdmFyIGZyb21Ob2RlTmFtZSA9IGZyb21FbC5ub2RlTmFtZTtcbiAgICB2YXIgdG9Ob2RlTmFtZSA9IHRvRWwubm9kZU5hbWU7XG4gICAgdmFyIGZyb21Db2RlU3RhcnQsIHRvQ29kZVN0YXJ0O1xuXG4gICAgaWYgKGZyb21Ob2RlTmFtZSA9PT0gdG9Ob2RlTmFtZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmcm9tQ29kZVN0YXJ0ID0gZnJvbU5vZGVOYW1lLmNoYXJDb2RlQXQoMCk7XG4gICAgdG9Db2RlU3RhcnQgPSB0b05vZGVOYW1lLmNoYXJDb2RlQXQoMCk7XG5cbiAgICAvLyBJZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgYSB2aXJ0dWFsIERPTSBub2RlIG9yIFNWRyBub2RlIHRoZW4gd2UgbWF5XG4gICAgLy8gbmVlZCB0byBub3JtYWxpemUgdGhlIHRhZyBuYW1lIGJlZm9yZSBjb21wYXJpbmcuIE5vcm1hbCBIVE1MIGVsZW1lbnRzIHRoYXQgYXJlXG4gICAgLy8gaW4gdGhlIFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiXG4gICAgLy8gYXJlIGNvbnZlcnRlZCB0byB1cHBlciBjYXNlXG4gICAgaWYgKGZyb21Db2RlU3RhcnQgPD0gOTAgJiYgdG9Db2RlU3RhcnQgPj0gOTcpIHsgLy8gZnJvbSBpcyB1cHBlciBhbmQgdG8gaXMgbG93ZXJcbiAgICAgICAgcmV0dXJuIGZyb21Ob2RlTmFtZSA9PT0gdG9Ob2RlTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgIH0gZWxzZSBpZiAodG9Db2RlU3RhcnQgPD0gOTAgJiYgZnJvbUNvZGVTdGFydCA+PSA5NykgeyAvLyB0byBpcyB1cHBlciBhbmQgZnJvbSBpcyBsb3dlclxuICAgICAgICByZXR1cm4gdG9Ob2RlTmFtZSA9PT0gZnJvbU5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gZWxlbWVudCwgb3B0aW9uYWxseSB3aXRoIGEga25vd24gbmFtZXNwYWNlIFVSSS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgZWxlbWVudCBuYW1lLCBlLmcuICdkaXYnIG9yICdzdmcnXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVzcGFjZVVSSV0gdGhlIGVsZW1lbnQncyBuYW1lc3BhY2UgVVJJLCBpLmUuIHRoZSB2YWx1ZSBvZlxuICogaXRzIGB4bWxuc2AgYXR0cmlidXRlIG9yIGl0cyBpbmZlcnJlZCBuYW1lc3BhY2UuXG4gKlxuICogQHJldHVybiB7RWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudE5TKG5hbWUsIG5hbWVzcGFjZVVSSSkge1xuICAgIHJldHVybiAhbmFtZXNwYWNlVVJJIHx8IG5hbWVzcGFjZVVSSSA9PT0gTlNfWEhUTUwgP1xuICAgICAgICBkb2MuY3JlYXRlRWxlbWVudChuYW1lKSA6XG4gICAgICAgIGRvYy5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlVVJJLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIGNoaWxkcmVuIG9mIG9uZSBET00gZWxlbWVudCB0byBhbm90aGVyIERPTSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIG1vdmVDaGlsZHJlbihmcm9tRWwsIHRvRWwpIHtcbiAgICB2YXIgY3VyQ2hpbGQgPSBmcm9tRWwuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcbiAgICAgICAgdmFyIG5leHRDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICB0b0VsLmFwcGVuZENoaWxkKGN1ckNoaWxkKTtcbiAgICAgICAgY3VyQ2hpbGQgPSBuZXh0Q2hpbGQ7XG4gICAgfVxuICAgIHJldHVybiB0b0VsO1xufVxuXG5mdW5jdGlvbiBzeW5jQm9vbGVhbkF0dHJQcm9wKGZyb21FbCwgdG9FbCwgbmFtZSkge1xuICAgIGlmIChmcm9tRWxbbmFtZV0gIT09IHRvRWxbbmFtZV0pIHtcbiAgICAgICAgZnJvbUVsW25hbWVdID0gdG9FbFtuYW1lXTtcbiAgICAgICAgaWYgKGZyb21FbFtuYW1lXSkge1xuICAgICAgICAgICAgZnJvbUVsLnNldEF0dHJpYnV0ZShuYW1lLCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tRWwucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG52YXIgc3BlY2lhbEVsSGFuZGxlcnMgPSB7XG4gICAgT1BUSU9OOiBmdW5jdGlvbihmcm9tRWwsIHRvRWwpIHtcbiAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBmcm9tRWwucGFyZW50Tm9kZTtcbiAgICAgICAgaWYgKHBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnROYW1lID0gcGFyZW50Tm9kZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKHBhcmVudE5hbWUgPT09ICdPUFRHUk9VUCcpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIHBhcmVudE5hbWUgPSBwYXJlbnROb2RlICYmIHBhcmVudE5vZGUubm9kZU5hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJlbnROYW1lID09PSAnU0VMRUNUJyAmJiAhcGFyZW50Tm9kZS5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbUVsLmhhc0F0dHJpYnV0ZSgnc2VsZWN0ZWQnKSAmJiAhdG9FbC5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBNUyBFZGdlIGJ1ZyB3aGVyZSB0aGUgJ3NlbGVjdGVkJyBhdHRyaWJ1dGUgY2FuIG9ubHkgYmVcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlZCBpZiBzZXQgdG8gYSBub24tZW1wdHkgdmFsdWU6XG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzEyMDg3Njc5L1xuICAgICAgICAgICAgICAgICAgICBmcm9tRWwuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICBmcm9tRWwucmVtb3ZlQXR0cmlidXRlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHRvIHJlc2V0IHNlbGVjdCBlbGVtZW50J3Mgc2VsZWN0ZWRJbmRleCB0byAtMSwgb3RoZXJ3aXNlIHNldHRpbmdcbiAgICAgICAgICAgICAgICAvLyBmcm9tRWwuc2VsZWN0ZWQgdXNpbmcgdGhlIHN5bmNCb29sZWFuQXR0clByb3AgYmVsb3cgaGFzIG5vIGVmZmVjdC5cbiAgICAgICAgICAgICAgICAvLyBUaGUgY29ycmVjdCBzZWxlY3RlZEluZGV4IHdpbGwgYmUgc2V0IGluIHRoZSBTRUxFQ1Qgc3BlY2lhbCBoYW5kbGVyIGJlbG93LlxuICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN5bmNCb29sZWFuQXR0clByb3AoZnJvbUVsLCB0b0VsLCAnc2VsZWN0ZWQnKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRoZSBcInZhbHVlXCIgYXR0cmlidXRlIGlzIHNwZWNpYWwgZm9yIHRoZSA8aW5wdXQ+IGVsZW1lbnQgc2luY2UgaXQgc2V0c1xuICAgICAqIHRoZSBpbml0aWFsIHZhbHVlLiBDaGFuZ2luZyB0aGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSB3aXRob3V0IGNoYW5naW5nIHRoZVxuICAgICAqIFwidmFsdWVcIiBwcm9wZXJ0eSB3aWxsIGhhdmUgbm8gZWZmZWN0IHNpbmNlIGl0IGlzIG9ubHkgdXNlZCB0byB0aGUgc2V0IHRoZVxuICAgICAqIGluaXRpYWwgdmFsdWUuICBTaW1pbGFyIGZvciB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlLCBhbmQgXCJkaXNhYmxlZFwiLlxuICAgICAqL1xuICAgIElOUFVUOiBmdW5jdGlvbihmcm9tRWwsIHRvRWwpIHtcbiAgICAgICAgc3luY0Jvb2xlYW5BdHRyUHJvcChmcm9tRWwsIHRvRWwsICdjaGVja2VkJyk7XG4gICAgICAgIHN5bmNCb29sZWFuQXR0clByb3AoZnJvbUVsLCB0b0VsLCAnZGlzYWJsZWQnKTtcblxuICAgICAgICBpZiAoZnJvbUVsLnZhbHVlICE9PSB0b0VsLnZhbHVlKSB7XG4gICAgICAgICAgICBmcm9tRWwudmFsdWUgPSB0b0VsLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0b0VsLmhhc0F0dHJpYnV0ZSgndmFsdWUnKSkge1xuICAgICAgICAgICAgZnJvbUVsLnJlbW92ZUF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBURVhUQVJFQTogZnVuY3Rpb24oZnJvbUVsLCB0b0VsKSB7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IHRvRWwudmFsdWU7XG4gICAgICAgIGlmIChmcm9tRWwudmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBmcm9tRWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmaXJzdENoaWxkID0gZnJvbUVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChmaXJzdENoaWxkKSB7XG4gICAgICAgICAgICAvLyBOZWVkZWQgZm9yIElFLiBBcHBhcmVudGx5IElFIHNldHMgdGhlIHBsYWNlaG9sZGVyIGFzIHRoZVxuICAgICAgICAgICAgLy8gbm9kZSB2YWx1ZSBhbmQgdmlzZSB2ZXJzYS4gVGhpcyBpZ25vcmVzIGFuIGVtcHR5IHVwZGF0ZS5cbiAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IGZpcnN0Q2hpbGQubm9kZVZhbHVlO1xuXG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgPT0gbmV3VmFsdWUgfHwgKCFuZXdWYWx1ZSAmJiBvbGRWYWx1ZSA9PSBmcm9tRWwucGxhY2Vob2xkZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaXJzdENoaWxkLm5vZGVWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBTRUxFQ1Q6IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICBpZiAoIXRvRWwuaGFzQXR0cmlidXRlKCdtdWx0aXBsZScpKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSB0byBsb29wIHRocm91Z2ggY2hpbGRyZW4gb2YgZnJvbUVsLCBub3QgdG9FbCBzaW5jZSBub2RlcyBjYW4gYmUgbW92ZWRcbiAgICAgICAgICAgIC8vIGZyb20gdG9FbCB0byBmcm9tRWwgZGlyZWN0bHkgd2hlbiBtb3JwaGluZy5cbiAgICAgICAgICAgIC8vIEF0IHRoZSB0aW1lIHRoaXMgc3BlY2lhbCBoYW5kbGVyIGlzIGludm9rZWQsIGFsbCBjaGlsZHJlbiBoYXZlIGFscmVhZHkgYmVlbiBtb3JwaGVkXG4gICAgICAgICAgICAvLyBhbmQgYXBwZW5kZWQgdG8gLyByZW1vdmVkIGZyb20gZnJvbUVsLCBzbyB1c2luZyBmcm9tRWwgaGVyZSBpcyBzYWZlIGFuZCBjb3JyZWN0LlxuICAgICAgICAgICAgdmFyIGN1ckNoaWxkID0gZnJvbUVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB2YXIgb3B0Z3JvdXA7XG4gICAgICAgICAgICB2YXIgbm9kZU5hbWU7XG4gICAgICAgICAgICB3aGlsZShjdXJDaGlsZCkge1xuICAgICAgICAgICAgICAgIG5vZGVOYW1lID0gY3VyQ2hpbGQubm9kZU5hbWUgJiYgY3VyQ2hpbGQubm9kZU5hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZU5hbWUgPT09ICdPUFRHUk9VUCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0Z3JvdXAgPSBjdXJDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgY3VyQ2hpbGQgPSBvcHRncm91cC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlTmFtZSA9PT0gJ09QVElPTicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJDaGlsZC5oYXNBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1ckNoaWxkICYmIG9wdGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IG9wdGdyb3VwLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0Z3JvdXAgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcm9tRWwuc2VsZWN0ZWRJbmRleCA9IHNlbGVjdGVkSW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgRUxFTUVOVF9OT0RFID0gMTtcbnZhciBET0NVTUVOVF9GUkFHTUVOVF9OT0RFJDEgPSAxMTtcbnZhciBURVhUX05PREUgPSAzO1xudmFyIENPTU1FTlRfTk9ERSA9IDg7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBkZWZhdWx0R2V0Tm9kZUtleShub2RlKSB7XG4gIGlmIChub2RlKSB7XG4gICAgcmV0dXJuIChub2RlLmdldEF0dHJpYnV0ZSAmJiBub2RlLmdldEF0dHJpYnV0ZSgnaWQnKSkgfHwgbm9kZS5pZDtcbiAgfVxufVxuXG5mdW5jdGlvbiBtb3JwaGRvbUZhY3RvcnkobW9ycGhBdHRycykge1xuXG4gIHJldHVybiBmdW5jdGlvbiBtb3JwaGRvbShmcm9tTm9kZSwgdG9Ob2RlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0b05vZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoZnJvbU5vZGUubm9kZU5hbWUgPT09ICcjZG9jdW1lbnQnIHx8IGZyb21Ob2RlLm5vZGVOYW1lID09PSAnSFRNTCcgfHwgZnJvbU5vZGUubm9kZU5hbWUgPT09ICdCT0RZJykge1xuICAgICAgICB2YXIgdG9Ob2RlSHRtbCA9IHRvTm9kZTtcbiAgICAgICAgdG9Ob2RlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICAgICAgdG9Ob2RlLmlubmVySFRNTCA9IHRvTm9kZUh0bWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b05vZGUgPSB0b0VsZW1lbnQodG9Ob2RlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRvTm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERSQxKSB7XG4gICAgICB0b05vZGUgPSB0b05vZGUuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgfVxuXG4gICAgdmFyIGdldE5vZGVLZXkgPSBvcHRpb25zLmdldE5vZGVLZXkgfHwgZGVmYXVsdEdldE5vZGVLZXk7XG4gICAgdmFyIG9uQmVmb3JlTm9kZUFkZGVkID0gb3B0aW9ucy5vbkJlZm9yZU5vZGVBZGRlZCB8fCBub29wO1xuICAgIHZhciBvbk5vZGVBZGRlZCA9IG9wdGlvbnMub25Ob2RlQWRkZWQgfHwgbm9vcDtcbiAgICB2YXIgb25CZWZvcmVFbFVwZGF0ZWQgPSBvcHRpb25zLm9uQmVmb3JlRWxVcGRhdGVkIHx8IG5vb3A7XG4gICAgdmFyIG9uRWxVcGRhdGVkID0gb3B0aW9ucy5vbkVsVXBkYXRlZCB8fCBub29wO1xuICAgIHZhciBvbkJlZm9yZU5vZGVEaXNjYXJkZWQgPSBvcHRpb25zLm9uQmVmb3JlTm9kZURpc2NhcmRlZCB8fCBub29wO1xuICAgIHZhciBvbk5vZGVEaXNjYXJkZWQgPSBvcHRpb25zLm9uTm9kZURpc2NhcmRlZCB8fCBub29wO1xuICAgIHZhciBvbkJlZm9yZUVsQ2hpbGRyZW5VcGRhdGVkID0gb3B0aW9ucy5vbkJlZm9yZUVsQ2hpbGRyZW5VcGRhdGVkIHx8IG5vb3A7XG4gICAgdmFyIHNraXBGcm9tQ2hpbGRyZW4gPSBvcHRpb25zLnNraXBGcm9tQ2hpbGRyZW4gfHwgbm9vcDtcbiAgICB2YXIgYWRkQ2hpbGQgPSBvcHRpb25zLmFkZENoaWxkIHx8IGZ1bmN0aW9uKHBhcmVudCwgY2hpbGQpeyByZXR1cm4gcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKTsgfTtcbiAgICB2YXIgY2hpbGRyZW5Pbmx5ID0gb3B0aW9ucy5jaGlsZHJlbk9ubHkgPT09IHRydWU7XG5cbiAgICAvLyBUaGlzIG9iamVjdCBpcyB1c2VkIGFzIGEgbG9va3VwIHRvIHF1aWNrbHkgZmluZCBhbGwga2V5ZWQgZWxlbWVudHMgaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlLlxuICAgIHZhciBmcm9tTm9kZXNMb29rdXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHZhciBrZXllZFJlbW92YWxMaXN0ID0gW107XG5cbiAgICBmdW5jdGlvbiBhZGRLZXllZFJlbW92YWwoa2V5KSB7XG4gICAgICBrZXllZFJlbW92YWxMaXN0LnB1c2goa2V5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YWxrRGlzY2FyZGVkQ2hpbGROb2Rlcyhub2RlLCBza2lwS2V5ZWROb2Rlcykge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICB2YXIgY3VyQ2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlIChjdXJDaGlsZCkge1xuXG4gICAgICAgICAgdmFyIGtleSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChza2lwS2V5ZWROb2RlcyAmJiAoa2V5ID0gZ2V0Tm9kZUtleShjdXJDaGlsZCkpKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgc2tpcHBpbmcga2V5ZWQgbm9kZXMgdGhlbiB3ZSBhZGQgdGhlIGtleVxuICAgICAgICAgICAgLy8gdG8gYSBsaXN0IHNvIHRoYXQgaXQgY2FuIGJlIGhhbmRsZWQgYXQgdGhlIHZlcnkgZW5kLlxuICAgICAgICAgICAgYWRkS2V5ZWRSZW1vdmFsKGtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE9ubHkgcmVwb3J0IHRoZSBub2RlIGFzIGRpc2NhcmRlZCBpZiBpdCBpcyBub3Qga2V5ZWQuIFdlIGRvIHRoaXMgYmVjYXVzZVxuICAgICAgICAgICAgLy8gYXQgdGhlIGVuZCB3ZSBsb29wIHRocm91Z2ggYWxsIGtleWVkIGVsZW1lbnRzIHRoYXQgd2VyZSB1bm1hdGNoZWRcbiAgICAgICAgICAgIC8vIGFuZCB0aGVuIGRpc2NhcmQgdGhlbSBpbiBvbmUgZmluYWwgcGFzcy5cbiAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChjdXJDaGlsZCk7XG4gICAgICAgICAgICBpZiAoY3VyQ2hpbGQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICB3YWxrRGlzY2FyZGVkQ2hpbGROb2RlcyhjdXJDaGlsZCwgc2tpcEtleWVkTm9kZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGN1ckNoaWxkID0gY3VyQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFJlbW92ZXMgYSBET00gbm9kZSBvdXQgb2YgdGhlIG9yaWdpbmFsIERPTVxuICAgICpcbiAgICAqIEBwYXJhbSAge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlXG4gICAgKiBAcGFyYW0gIHtOb2RlfSBwYXJlbnROb2RlIFRoZSBub2RlcyBwYXJlbnRcbiAgICAqIEBwYXJhbSAge0Jvb2xlYW59IHNraXBLZXllZE5vZGVzIElmIHRydWUgdGhlbiBlbGVtZW50cyB3aXRoIGtleXMgd2lsbCBiZSBza2lwcGVkIGFuZCBub3QgZGlzY2FyZGVkLlxuICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlLCBwYXJlbnROb2RlLCBza2lwS2V5ZWROb2Rlcykge1xuICAgICAgaWYgKG9uQmVmb3JlTm9kZURpc2NhcmRlZChub2RlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgfVxuXG4gICAgICBvbk5vZGVEaXNjYXJkZWQobm9kZSk7XG4gICAgICB3YWxrRGlzY2FyZGVkQ2hpbGROb2Rlcyhub2RlLCBza2lwS2V5ZWROb2Rlcyk7XG4gICAgfVxuXG4gICAgLy8gLy8gVHJlZVdhbGtlciBpbXBsZW1lbnRhdGlvbiBpcyBubyBmYXN0ZXIsIGJ1dCBrZWVwaW5nIHRoaXMgYXJvdW5kIGluIGNhc2UgdGhpcyBjaGFuZ2VzIGluIHRoZSBmdXR1cmVcbiAgICAvLyBmdW5jdGlvbiBpbmRleFRyZWUocm9vdCkge1xuICAgIC8vICAgICB2YXIgdHJlZVdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoXG4gICAgLy8gICAgICAgICByb290LFxuICAgIC8vICAgICAgICAgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQpO1xuICAgIC8vXG4gICAgLy8gICAgIHZhciBlbDtcbiAgICAvLyAgICAgd2hpbGUoKGVsID0gdHJlZVdhbGtlci5uZXh0Tm9kZSgpKSkge1xuICAgIC8vICAgICAgICAgdmFyIGtleSA9IGdldE5vZGVLZXkoZWwpO1xuICAgIC8vICAgICAgICAgaWYgKGtleSkge1xuICAgIC8vICAgICAgICAgICAgIGZyb21Ob2Rlc0xvb2t1cFtrZXldID0gZWw7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyAvLyBOb2RlSXRlcmF0b3IgaW1wbGVtZW50YXRpb24gaXMgbm8gZmFzdGVyLCBidXQga2VlcGluZyB0aGlzIGFyb3VuZCBpbiBjYXNlIHRoaXMgY2hhbmdlcyBpbiB0aGUgZnV0dXJlXG4gICAgLy9cbiAgICAvLyBmdW5jdGlvbiBpbmRleFRyZWUobm9kZSkge1xuICAgIC8vICAgICB2YXIgbm9kZUl0ZXJhdG9yID0gZG9jdW1lbnQuY3JlYXRlTm9kZUl0ZXJhdG9yKG5vZGUsIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UKTtcbiAgICAvLyAgICAgdmFyIGVsO1xuICAgIC8vICAgICB3aGlsZSgoZWwgPSBub2RlSXRlcmF0b3IubmV4dE5vZGUoKSkpIHtcbiAgICAvLyAgICAgICAgIHZhciBrZXkgPSBnZXROb2RlS2V5KGVsKTtcbiAgICAvLyAgICAgICAgIGlmIChrZXkpIHtcbiAgICAvLyAgICAgICAgICAgICBmcm9tTm9kZXNMb29rdXBba2V5XSA9IGVsO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgZnVuY3Rpb24gaW5kZXhUcmVlKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUgfHwgbm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERSQxKSB7XG4gICAgICAgIHZhciBjdXJDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgd2hpbGUgKGN1ckNoaWxkKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGdldE5vZGVLZXkoY3VyQ2hpbGQpO1xuICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIGZyb21Ob2Rlc0xvb2t1cFtrZXldID0gY3VyQ2hpbGQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gV2FsayByZWN1cnNpdmVseVxuICAgICAgICAgIGluZGV4VHJlZShjdXJDaGlsZCk7XG5cbiAgICAgICAgICBjdXJDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5kZXhUcmVlKGZyb21Ob2RlKTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZU5vZGVBZGRlZChlbCkge1xuICAgICAgb25Ob2RlQWRkZWQoZWwpO1xuXG4gICAgICB2YXIgY3VyQ2hpbGQgPSBlbC5maXJzdENoaWxkO1xuICAgICAgd2hpbGUgKGN1ckNoaWxkKSB7XG4gICAgICAgIHZhciBuZXh0U2libGluZyA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuXG4gICAgICAgIHZhciBrZXkgPSBnZXROb2RlS2V5KGN1ckNoaWxkKTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgIHZhciB1bm1hdGNoZWRGcm9tRWwgPSBmcm9tTm9kZXNMb29rdXBba2V5XTtcbiAgICAgICAgICAvLyBpZiB3ZSBmaW5kIGEgZHVwbGljYXRlICNpZCBub2RlIGluIGNhY2hlLCByZXBsYWNlIGBlbGAgd2l0aCBjYWNoZSB2YWx1ZVxuICAgICAgICAgIC8vIGFuZCBtb3JwaCBpdCB0byB0aGUgY2hpbGQgbm9kZS5cbiAgICAgICAgICBpZiAodW5tYXRjaGVkRnJvbUVsICYmIGNvbXBhcmVOb2RlTmFtZXMoY3VyQ2hpbGQsIHVubWF0Y2hlZEZyb21FbCkpIHtcbiAgICAgICAgICAgIGN1ckNoaWxkLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHVubWF0Y2hlZEZyb21FbCwgY3VyQ2hpbGQpO1xuICAgICAgICAgICAgbW9ycGhFbCh1bm1hdGNoZWRGcm9tRWwsIGN1ckNoaWxkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlTm9kZUFkZGVkKGN1ckNoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcmVjdXJzaXZlbHkgY2FsbCBmb3IgY3VyQ2hpbGQgYW5kIGl0J3MgY2hpbGRyZW4gdG8gc2VlIGlmIHdlIGZpbmQgc29tZXRoaW5nIGluXG4gICAgICAgICAgLy8gZnJvbU5vZGVzTG9va3VwXG4gICAgICAgICAgaGFuZGxlTm9kZUFkZGVkKGN1ckNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1ckNoaWxkID0gbmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYW51cEZyb21FbChmcm9tRWwsIGN1ckZyb21Ob2RlQ2hpbGQsIGN1ckZyb21Ob2RlS2V5KSB7XG4gICAgICAvLyBXZSBoYXZlIHByb2Nlc3NlZCBhbGwgb2YgdGhlIFwidG8gbm9kZXNcIi4gSWYgY3VyRnJvbU5vZGVDaGlsZCBpc1xuICAgICAgLy8gbm9uLW51bGwgdGhlbiB3ZSBzdGlsbCBoYXZlIHNvbWUgZnJvbSBub2RlcyBsZWZ0IG92ZXIgdGhhdCBuZWVkXG4gICAgICAvLyB0byBiZSByZW1vdmVkXG4gICAgICB3aGlsZSAoY3VyRnJvbU5vZGVDaGlsZCkge1xuICAgICAgICB2YXIgZnJvbU5leHRTaWJsaW5nID0gY3VyRnJvbU5vZGVDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgaWYgKChjdXJGcm9tTm9kZUtleSA9IGdldE5vZGVLZXkoY3VyRnJvbU5vZGVDaGlsZCkpKSB7XG4gICAgICAgICAgLy8gU2luY2UgdGhlIG5vZGUgaXMga2V5ZWQgaXQgbWlnaHQgYmUgbWF0Y2hlZCB1cCBsYXRlciBzbyB3ZSBkZWZlclxuICAgICAgICAgIC8vIHRoZSBhY3R1YWwgcmVtb3ZhbCB0byBsYXRlclxuICAgICAgICAgIGFkZEtleWVkUmVtb3ZhbChjdXJGcm9tTm9kZUtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTk9URTogd2Ugc2tpcCBuZXN0ZWQga2V5ZWQgbm9kZXMgZnJvbSBiZWluZyByZW1vdmVkIHNpbmNlIHRoZXJlIGlzXG4gICAgICAgICAgLy8gICAgICAgc3RpbGwgYSBjaGFuY2UgdGhleSB3aWxsIGJlIG1hdGNoZWQgdXAgbGF0ZXJcbiAgICAgICAgICByZW1vdmVOb2RlKGN1ckZyb21Ob2RlQ2hpbGQsIGZyb21FbCwgdHJ1ZSAvKiBza2lwIGtleWVkIG5vZGVzICovKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vcnBoRWwoZnJvbUVsLCB0b0VsLCBjaGlsZHJlbk9ubHkpIHtcbiAgICAgIHZhciB0b0VsS2V5ID0gZ2V0Tm9kZUtleSh0b0VsKTtcblxuICAgICAgaWYgKHRvRWxLZXkpIHtcbiAgICAgICAgLy8gSWYgYW4gZWxlbWVudCB3aXRoIGFuIElEIGlzIGJlaW5nIG1vcnBoZWQgdGhlbiBpdCB3aWxsIGJlIGluIHRoZSBmaW5hbFxuICAgICAgICAvLyBET00gc28gY2xlYXIgaXQgb3V0IG9mIHRoZSBzYXZlZCBlbGVtZW50cyBjb2xsZWN0aW9uXG4gICAgICAgIGRlbGV0ZSBmcm9tTm9kZXNMb29rdXBbdG9FbEtleV07XG4gICAgICB9XG5cbiAgICAgIGlmICghY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAgIC8vIG9wdGlvbmFsXG4gICAgICAgIGlmIChvbkJlZm9yZUVsVXBkYXRlZChmcm9tRWwsIHRvRWwpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSBhdHRyaWJ1dGVzIG9uIG9yaWdpbmFsIERPTSBlbGVtZW50IGZpcnN0XG4gICAgICAgIG1vcnBoQXR0cnMoZnJvbUVsLCB0b0VsKTtcbiAgICAgICAgLy8gb3B0aW9uYWxcbiAgICAgICAgb25FbFVwZGF0ZWQoZnJvbUVsKTtcblxuICAgICAgICBpZiAob25CZWZvcmVFbENoaWxkcmVuVXBkYXRlZChmcm9tRWwsIHRvRWwpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZnJvbUVsLm5vZGVOYW1lICE9PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgIG1vcnBoQ2hpbGRyZW4oZnJvbUVsLCB0b0VsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwZWNpYWxFbEhhbmRsZXJzLlRFWFRBUkVBKGZyb21FbCwgdG9FbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9ycGhDaGlsZHJlbihmcm9tRWwsIHRvRWwpIHtcbiAgICAgIHZhciBza2lwRnJvbSA9IHNraXBGcm9tQ2hpbGRyZW4oZnJvbUVsKTtcbiAgICAgIHZhciBjdXJUb05vZGVDaGlsZCA9IHRvRWwuZmlyc3RDaGlsZDtcbiAgICAgIHZhciBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbUVsLmZpcnN0Q2hpbGQ7XG4gICAgICB2YXIgY3VyVG9Ob2RlS2V5O1xuICAgICAgdmFyIGN1ckZyb21Ob2RlS2V5O1xuXG4gICAgICB2YXIgZnJvbU5leHRTaWJsaW5nO1xuICAgICAgdmFyIHRvTmV4dFNpYmxpbmc7XG4gICAgICB2YXIgbWF0Y2hpbmdGcm9tRWw7XG5cbiAgICAgIC8vIHdhbGsgdGhlIGNoaWxkcmVuXG4gICAgICBvdXRlcjogd2hpbGUgKGN1clRvTm9kZUNoaWxkKSB7XG4gICAgICAgIHRvTmV4dFNpYmxpbmcgPSBjdXJUb05vZGVDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgY3VyVG9Ob2RlS2V5ID0gZ2V0Tm9kZUtleShjdXJUb05vZGVDaGlsZCk7XG5cbiAgICAgICAgLy8gd2FsayB0aGUgZnJvbU5vZGUgY2hpbGRyZW4gYWxsIHRoZSB3YXkgdGhyb3VnaFxuICAgICAgICB3aGlsZSAoIXNraXBGcm9tICYmIGN1ckZyb21Ob2RlQ2hpbGQpIHtcbiAgICAgICAgICBmcm9tTmV4dFNpYmxpbmcgPSBjdXJGcm9tTm9kZUNoaWxkLm5leHRTaWJsaW5nO1xuXG4gICAgICAgICAgaWYgKGN1clRvTm9kZUNoaWxkLmlzU2FtZU5vZGUgJiYgY3VyVG9Ob2RlQ2hpbGQuaXNTYW1lTm9kZShjdXJGcm9tTm9kZUNoaWxkKSkge1xuICAgICAgICAgICAgY3VyVG9Ob2RlQ2hpbGQgPSB0b05leHRTaWJsaW5nO1xuICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGN1ckZyb21Ob2RlS2V5ID0gZ2V0Tm9kZUtleShjdXJGcm9tTm9kZUNoaWxkKTtcblxuICAgICAgICAgIHZhciBjdXJGcm9tTm9kZVR5cGUgPSBjdXJGcm9tTm9kZUNoaWxkLm5vZGVUeXBlO1xuXG4gICAgICAgICAgLy8gdGhpcyBtZWFucyBpZiB0aGUgY3VyRnJvbU5vZGVDaGlsZCBkb2VzbnQgaGF2ZSBhIG1hdGNoIHdpdGggdGhlIGN1clRvTm9kZUNoaWxkXG4gICAgICAgICAgdmFyIGlzQ29tcGF0aWJsZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChjdXJGcm9tTm9kZVR5cGUgPT09IGN1clRvTm9kZUNoaWxkLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgLy8gQm90aCBub2RlcyBiZWluZyBjb21wYXJlZCBhcmUgRWxlbWVudCBub2Rlc1xuXG4gICAgICAgICAgICAgIGlmIChjdXJUb05vZGVLZXkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgdGFyZ2V0IG5vZGUgaGFzIGEga2V5IHNvIHdlIHdhbnQgdG8gbWF0Y2ggaXQgdXAgd2l0aCB0aGUgY29ycmVjdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgLy8gaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlXG4gICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUtleSAhPT0gY3VyRnJvbU5vZGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFRoZSBjdXJyZW50IGVsZW1lbnQgaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlIGRvZXMgbm90IGhhdmUgYSBtYXRjaGluZyBrZXkgc29cbiAgICAgICAgICAgICAgICAgIC8vIGxldCdzIGNoZWNrIG91ciBsb29rdXAgdG8gc2VlIGlmIHRoZXJlIGlzIGEgbWF0Y2hpbmcgZWxlbWVudCBpbiB0aGUgb3JpZ2luYWxcbiAgICAgICAgICAgICAgICAgIC8vIERPTSB0cmVlXG4gICAgICAgICAgICAgICAgICBpZiAoKG1hdGNoaW5nRnJvbUVsID0gZnJvbU5vZGVzTG9va3VwW2N1clRvTm9kZUtleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcm9tTmV4dFNpYmxpbmcgPT09IG1hdGNoaW5nRnJvbUVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBzaW5nbGUgZWxlbWVudCByZW1vdmFscy4gVG8gYXZvaWQgcmVtb3ZpbmcgdGhlIG9yaWdpbmFsXG4gICAgICAgICAgICAgICAgICAgICAgLy8gRE9NIG5vZGUgb3V0IG9mIHRoZSB0cmVlIChzaW5jZSB0aGF0IGNhbiBicmVhayBDU1MgdHJhbnNpdGlvbnMsIGV0Yy4pLFxuICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHdpbGwgaW5zdGVhZCBkaXNjYXJkIHRoZSBjdXJyZW50IG5vZGUgYW5kIHdhaXQgdW50aWwgdGhlIG5leHRcbiAgICAgICAgICAgICAgICAgICAgICAvLyBpdGVyYXRpb24gdG8gcHJvcGVybHkgbWF0Y2ggdXAgdGhlIGtleWVkIHRhcmdldCBlbGVtZW50IHdpdGggaXRzIG1hdGNoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudCBpbiB0aGUgb3JpZ2luYWwgdHJlZVxuICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2hpbmcga2V5ZWQgZWxlbWVudCBzb21ld2hlcmUgaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlLlxuICAgICAgICAgICAgICAgICAgICAgIC8vIExldCdzIG1vdmUgdGhlIG9yaWdpbmFsIERPTSBub2RlIGludG8gdGhlIGN1cnJlbnQgcG9zaXRpb24gYW5kIG1vcnBoXG4gICAgICAgICAgICAgICAgICAgICAgLy8gaXQuXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBXZSB1c2UgaW5zZXJ0QmVmb3JlIGluc3RlYWQgb2YgcmVwbGFjZUNoaWxkIGJlY2F1c2Ugd2Ugd2FudCB0byBnbyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGByZW1vdmVOb2RlKClgIGZ1bmN0aW9uIGZvciB0aGUgbm9kZSB0aGF0IGlzIGJlaW5nIGRpc2NhcmRlZCBzbyB0aGF0XG4gICAgICAgICAgICAgICAgICAgICAgLy8gYWxsIGxpZmVjeWNsZSBob29rcyBhcmUgY29ycmVjdGx5IGludm9rZWRcbiAgICAgICAgICAgICAgICAgICAgICBmcm9tRWwuaW5zZXJ0QmVmb3JlKG1hdGNoaW5nRnJvbUVsLCBjdXJGcm9tTm9kZUNoaWxkKTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIGZyb21OZXh0U2libGluZyA9IGN1ckZyb21Ob2RlQ2hpbGQubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBub2RlIGlzIGtleWVkIGl0IG1pZ2h0IGJlIG1hdGNoZWQgdXAgbGF0ZXIgc28gd2UgZGVmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBhY3R1YWwgcmVtb3ZhbCB0byBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkS2V5ZWRSZW1vdmFsKGN1ckZyb21Ob2RlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogd2Ugc2tpcCBuZXN0ZWQga2V5ZWQgbm9kZXMgZnJvbSBiZWluZyByZW1vdmVkIHNpbmNlIHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBzdGlsbCBhIGNoYW5jZSB0aGV5IHdpbGwgYmUgbWF0Y2hlZCB1cCBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTm9kZShjdXJGcm9tTm9kZUNoaWxkLCBmcm9tRWwsIHRydWUgLyogc2tpcCBrZXllZCBub2RlcyAqLyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IG1hdGNoaW5nRnJvbUVsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbm9kZXMgYXJlIG5vdCBjb21wYXRpYmxlIHNpbmNlIHRoZSBcInRvXCIgbm9kZSBoYXMgYSBrZXkgYW5kIHRoZXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIG5vIG1hdGNoaW5nIGtleWVkIG5vZGUgaW4gdGhlIHNvdXJjZSB0cmVlXG4gICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJGcm9tTm9kZUtleSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBvcmlnaW5hbCBoYXMgYSBrZXlcbiAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IGlzQ29tcGF0aWJsZSAhPT0gZmFsc2UgJiYgY29tcGFyZU5vZGVOYW1lcyhjdXJGcm9tTm9kZUNoaWxkLCBjdXJUb05vZGVDaGlsZCk7XG4gICAgICAgICAgICAgIGlmIChpc0NvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBjb21wYXRpYmxlIERPTSBlbGVtZW50cyBzbyB0cmFuc2Zvcm1cbiAgICAgICAgICAgICAgICAvLyB0aGUgY3VycmVudCBcImZyb21cIiBub2RlIHRvIG1hdGNoIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgLy8gdGFyZ2V0IERPTSBub2RlLlxuICAgICAgICAgICAgICAgIC8vIE1PUlBIXG4gICAgICAgICAgICAgICAgbW9ycGhFbChjdXJGcm9tTm9kZUNoaWxkLCBjdXJUb05vZGVDaGlsZCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJGcm9tTm9kZVR5cGUgPT09IFRFWFRfTk9ERSB8fCBjdXJGcm9tTm9kZVR5cGUgPT0gQ09NTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgIC8vIEJvdGggbm9kZXMgYmVpbmcgY29tcGFyZWQgYXJlIFRleHQgb3IgQ29tbWVudCBub2Rlc1xuICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAvLyBTaW1wbHkgdXBkYXRlIG5vZGVWYWx1ZSBvbiB0aGUgb3JpZ2luYWwgbm9kZSB0b1xuICAgICAgICAgICAgICAvLyBjaGFuZ2UgdGhlIHRleHQgdmFsdWVcbiAgICAgICAgICAgICAgaWYgKGN1ckZyb21Ob2RlQ2hpbGQubm9kZVZhbHVlICE9PSBjdXJUb05vZGVDaGlsZC5ub2RlVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkLm5vZGVWYWx1ZSA9IGN1clRvTm9kZUNoaWxkLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzQ29tcGF0aWJsZSkge1xuICAgICAgICAgICAgLy8gQWR2YW5jZSBib3RoIHRoZSBcInRvXCIgY2hpbGQgYW5kIHRoZSBcImZyb21cIiBjaGlsZCBzaW5jZSB3ZSBmb3VuZCBhIG1hdGNoXG4gICAgICAgICAgICAvLyBOb3RoaW5nIGVsc2UgdG8gZG8gYXMgd2UgYWxyZWFkeSByZWN1cnNpdmVseSBjYWxsZWQgbW9ycGhDaGlsZHJlbiBhYm92ZVxuICAgICAgICAgICAgY3VyVG9Ob2RlQ2hpbGQgPSB0b05leHRTaWJsaW5nO1xuICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE5vIGNvbXBhdGlibGUgbWF0Y2ggc28gcmVtb3ZlIHRoZSBvbGQgbm9kZSBmcm9tIHRoZSBET00gYW5kIGNvbnRpbnVlIHRyeWluZyB0byBmaW5kIGFcbiAgICAgICAgICAvLyBtYXRjaCBpbiB0aGUgb3JpZ2luYWwgRE9NLiBIb3dldmVyLCB3ZSBvbmx5IGRvIHRoaXMgaWYgdGhlIGZyb20gbm9kZSBpcyBub3Qga2V5ZWRcbiAgICAgICAgICAvLyBzaW5jZSBpdCBpcyBwb3NzaWJsZSB0aGF0IGEga2V5ZWQgbm9kZSBtaWdodCBtYXRjaCB1cCB3aXRoIGEgbm9kZSBzb21ld2hlcmUgZWxzZSBpbiB0aGVcbiAgICAgICAgICAvLyB0YXJnZXQgdHJlZSBhbmQgd2UgZG9uJ3Qgd2FudCB0byBkaXNjYXJkIGl0IGp1c3QgeWV0IHNpbmNlIGl0IHN0aWxsIG1pZ2h0IGZpbmQgYVxuICAgICAgICAgIC8vIGhvbWUgaW4gdGhlIGZpbmFsIERPTSB0cmVlLiBBZnRlciBldmVyeXRoaW5nIGlzIGRvbmUgd2Ugd2lsbCByZW1vdmUgYW55IGtleWVkIG5vZGVzXG4gICAgICAgICAgLy8gdGhhdCBkaWRuJ3QgZmluZCBhIGhvbWVcbiAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVLZXkpIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBub2RlIGlzIGtleWVkIGl0IG1pZ2h0IGJlIG1hdGNoZWQgdXAgbGF0ZXIgc28gd2UgZGVmZXJcbiAgICAgICAgICAgIC8vIHRoZSBhY3R1YWwgcmVtb3ZhbCB0byBsYXRlclxuICAgICAgICAgICAgYWRkS2V5ZWRSZW1vdmFsKGN1ckZyb21Ob2RlS2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTk9URTogd2Ugc2tpcCBuZXN0ZWQga2V5ZWQgbm9kZXMgZnJvbSBiZWluZyByZW1vdmVkIHNpbmNlIHRoZXJlIGlzXG4gICAgICAgICAgICAvLyAgICAgICBzdGlsbCBhIGNoYW5jZSB0aGV5IHdpbGwgYmUgbWF0Y2hlZCB1cCBsYXRlclxuICAgICAgICAgICAgcmVtb3ZlTm9kZShjdXJGcm9tTm9kZUNoaWxkLCBmcm9tRWwsIHRydWUgLyogc2tpcCBrZXllZCBub2RlcyAqLyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgfSAvLyBFTkQ6IHdoaWxlKGN1ckZyb21Ob2RlQ2hpbGQpIHt9XG5cbiAgICAgICAgLy8gSWYgd2UgZ290IHRoaXMgZmFyIHRoZW4gd2UgZGlkIG5vdCBmaW5kIGEgY2FuZGlkYXRlIG1hdGNoIGZvclxuICAgICAgICAvLyBvdXIgXCJ0byBub2RlXCIgYW5kIHdlIGV4aGF1c3RlZCBhbGwgb2YgdGhlIGNoaWxkcmVuIFwiZnJvbVwiXG4gICAgICAgIC8vIG5vZGVzLiBUaGVyZWZvcmUsIHdlIHdpbGwganVzdCBhcHBlbmQgdGhlIGN1cnJlbnQgXCJ0b1wiIG5vZGVcbiAgICAgICAgLy8gdG8gdGhlIGVuZFxuICAgICAgICBpZiAoY3VyVG9Ob2RlS2V5ICYmIChtYXRjaGluZ0Zyb21FbCA9IGZyb21Ob2Rlc0xvb2t1cFtjdXJUb05vZGVLZXldKSAmJiBjb21wYXJlTm9kZU5hbWVzKG1hdGNoaW5nRnJvbUVsLCBjdXJUb05vZGVDaGlsZCkpIHtcbiAgICAgICAgICAvLyBNT1JQSFxuICAgICAgICAgIGlmKCFza2lwRnJvbSl7IGFkZENoaWxkKGZyb21FbCwgbWF0Y2hpbmdGcm9tRWwpOyB9XG4gICAgICAgICAgbW9ycGhFbChtYXRjaGluZ0Zyb21FbCwgY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBvbkJlZm9yZU5vZGVBZGRlZFJlc3VsdCA9IG9uQmVmb3JlTm9kZUFkZGVkKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICBpZiAob25CZWZvcmVOb2RlQWRkZWRSZXN1bHQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAob25CZWZvcmVOb2RlQWRkZWRSZXN1bHQpIHtcbiAgICAgICAgICAgICAgY3VyVG9Ob2RlQ2hpbGQgPSBvbkJlZm9yZU5vZGVBZGRlZFJlc3VsdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1clRvTm9kZUNoaWxkLmFjdHVhbGl6ZSkge1xuICAgICAgICAgICAgICBjdXJUb05vZGVDaGlsZCA9IGN1clRvTm9kZUNoaWxkLmFjdHVhbGl6ZShmcm9tRWwub3duZXJEb2N1bWVudCB8fCBkb2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkQ2hpbGQoZnJvbUVsLCBjdXJUb05vZGVDaGlsZCk7XG4gICAgICAgICAgICBoYW5kbGVOb2RlQWRkZWQoY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGN1clRvTm9kZUNoaWxkID0gdG9OZXh0U2libGluZztcbiAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgIH1cblxuICAgICAgY2xlYW51cEZyb21FbChmcm9tRWwsIGN1ckZyb21Ob2RlQ2hpbGQsIGN1ckZyb21Ob2RlS2V5KTtcblxuICAgICAgdmFyIHNwZWNpYWxFbEhhbmRsZXIgPSBzcGVjaWFsRWxIYW5kbGVyc1tmcm9tRWwubm9kZU5hbWVdO1xuICAgICAgaWYgKHNwZWNpYWxFbEhhbmRsZXIpIHtcbiAgICAgICAgc3BlY2lhbEVsSGFuZGxlcihmcm9tRWwsIHRvRWwpO1xuICAgICAgfVxuICAgIH0gLy8gRU5EOiBtb3JwaENoaWxkcmVuKC4uLilcblxuICAgIHZhciBtb3JwaGVkTm9kZSA9IGZyb21Ob2RlO1xuICAgIHZhciBtb3JwaGVkTm9kZVR5cGUgPSBtb3JwaGVkTm9kZS5ub2RlVHlwZTtcbiAgICB2YXIgdG9Ob2RlVHlwZSA9IHRvTm9kZS5ub2RlVHlwZTtcblxuICAgIGlmICghY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgd2UgYXJlIGdpdmVuIHR3byBET00gbm9kZXMgdGhhdCBhcmUgbm90XG4gICAgICAvLyBjb21wYXRpYmxlIChlLmcuIDxkaXY+IC0tPiA8c3Bhbj4gb3IgPGRpdj4gLS0+IFRFWFQpXG4gICAgICBpZiAobW9ycGhlZE5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgaWYgKHRvTm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgIGlmICghY29tcGFyZU5vZGVOYW1lcyhmcm9tTm9kZSwgdG9Ob2RlKSkge1xuICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKGZyb21Ob2RlKTtcbiAgICAgICAgICAgIG1vcnBoZWROb2RlID0gbW92ZUNoaWxkcmVuKGZyb21Ob2RlLCBjcmVhdGVFbGVtZW50TlModG9Ob2RlLm5vZGVOYW1lLCB0b05vZGUubmFtZXNwYWNlVVJJKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEdvaW5nIGZyb20gYW4gZWxlbWVudCBub2RlIHRvIGEgdGV4dCBub2RlXG4gICAgICAgICAgbW9ycGhlZE5vZGUgPSB0b05vZGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobW9ycGhlZE5vZGVUeXBlID09PSBURVhUX05PREUgfHwgbW9ycGhlZE5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHsgLy8gVGV4dCBvciBjb21tZW50IG5vZGVcbiAgICAgICAgaWYgKHRvTm9kZVR5cGUgPT09IG1vcnBoZWROb2RlVHlwZSkge1xuICAgICAgICAgIGlmIChtb3JwaGVkTm9kZS5ub2RlVmFsdWUgIT09IHRvTm9kZS5ub2RlVmFsdWUpIHtcbiAgICAgICAgICAgIG1vcnBoZWROb2RlLm5vZGVWYWx1ZSA9IHRvTm9kZS5ub2RlVmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG1vcnBoZWROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFRleHQgbm9kZSB0byBzb21ldGhpbmcgZWxzZVxuICAgICAgICAgIG1vcnBoZWROb2RlID0gdG9Ob2RlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1vcnBoZWROb2RlID09PSB0b05vZGUpIHtcbiAgICAgIC8vIFRoZSBcInRvIG5vZGVcIiB3YXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgXCJmcm9tIG5vZGVcIiBzbyB3ZSBoYWQgdG9cbiAgICAgIC8vIHRvc3Mgb3V0IHRoZSBcImZyb20gbm9kZVwiIGFuZCB1c2UgdGhlIFwidG8gbm9kZVwiXG4gICAgICBvbk5vZGVEaXNjYXJkZWQoZnJvbU5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodG9Ob2RlLmlzU2FtZU5vZGUgJiYgdG9Ob2RlLmlzU2FtZU5vZGUobW9ycGhlZE5vZGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbW9ycGhFbChtb3JwaGVkTm9kZSwgdG9Ob2RlLCBjaGlsZHJlbk9ubHkpO1xuXG4gICAgICAvLyBXZSBub3cgbmVlZCB0byBsb29wIG92ZXIgYW55IGtleWVkIG5vZGVzIHRoYXQgbWlnaHQgbmVlZCB0byBiZVxuICAgICAgLy8gcmVtb3ZlZC4gV2Ugb25seSBkbyB0aGUgcmVtb3ZhbCBpZiB3ZSBrbm93IHRoYXQgdGhlIGtleWVkIG5vZGVcbiAgICAgIC8vIG5ldmVyIGZvdW5kIGEgbWF0Y2guIFdoZW4gYSBrZXllZCBub2RlIGlzIG1hdGNoZWQgdXAgd2UgcmVtb3ZlXG4gICAgICAvLyBpdCBvdXQgb2YgZnJvbU5vZGVzTG9va3VwIGFuZCB3ZSB1c2UgZnJvbU5vZGVzTG9va3VwIHRvIGRldGVybWluZVxuICAgICAgLy8gaWYgYSBrZXllZCBub2RlIGhhcyBiZWVuIG1hdGNoZWQgdXAgb3Igbm90XG4gICAgICBpZiAoa2V5ZWRSZW1vdmFsTGlzdCkge1xuICAgICAgICBmb3IgKHZhciBpPTAsIGxlbj1rZXllZFJlbW92YWxMaXN0Lmxlbmd0aDsgaTxsZW47IGkrKykge1xuICAgICAgICAgIHZhciBlbFRvUmVtb3ZlID0gZnJvbU5vZGVzTG9va3VwW2tleWVkUmVtb3ZhbExpc3RbaV1dO1xuICAgICAgICAgIGlmIChlbFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKGVsVG9SZW1vdmUsIGVsVG9SZW1vdmUucGFyZW50Tm9kZSwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghY2hpbGRyZW5Pbmx5ICYmIG1vcnBoZWROb2RlICE9PSBmcm9tTm9kZSAmJiBmcm9tTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAobW9ycGhlZE5vZGUuYWN0dWFsaXplKSB7XG4gICAgICAgIG1vcnBoZWROb2RlID0gbW9ycGhlZE5vZGUuYWN0dWFsaXplKGZyb21Ob2RlLm93bmVyRG9jdW1lbnQgfHwgZG9jKTtcbiAgICAgIH1cbiAgICAgIC8vIElmIHdlIGhhZCB0byBzd2FwIG91dCB0aGUgZnJvbSBub2RlIHdpdGggYSBuZXcgbm9kZSBiZWNhdXNlIHRoZSBvbGRcbiAgICAgIC8vIG5vZGUgd2FzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIHRhcmdldCBub2RlIHRoZW4gd2UgbmVlZCB0b1xuICAgICAgLy8gcmVwbGFjZSB0aGUgb2xkIERPTSBub2RlIGluIHRoZSBvcmlnaW5hbCBET00gdHJlZS4gVGhpcyBpcyBvbmx5XG4gICAgICAvLyBwb3NzaWJsZSBpZiB0aGUgb3JpZ2luYWwgRE9NIG5vZGUgd2FzIHBhcnQgb2YgYSBET00gdHJlZSB3aGljaFxuICAgICAgLy8gd2Uga25vdyBpcyB0aGUgY2FzZSBpZiBpdCBoYXMgYSBwYXJlbnQgbm9kZS5cbiAgICAgIGZyb21Ob2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG1vcnBoZWROb2RlLCBmcm9tTm9kZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vcnBoZWROb2RlO1xuICB9O1xufVxuXG52YXIgbW9ycGhkb20gPSBtb3JwaGRvbUZhY3RvcnkobW9ycGhBdHRycyk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vcnBoZG9tO1xuIiwgImltcG9ydCB7XG4gIFBIWF9DT01QT05FTlQsXG4gIFBIWF9ESVNBQkxFX1dJVEgsXG4gIFBIWF9GRUVEQkFDS19GT1IsXG4gIFBIWF9QUlVORSxcbiAgUEhYX1JPT1RfSUQsXG4gIFBIWF9TRVNTSU9OLFxuICBQSFhfU0tJUCxcbiAgUEhYX1NUQVRJQyxcbiAgUEhYX1RSSUdHRVJfQUNUSU9OLFxuICBQSFhfVVBEQVRFLFxuICBQSFhfU1RSRUFNLFxuICBQSFhfU1RSRUFNX1JFRixcbiAgUEhYX1ZJRVdQT1JUX1RPUCxcbiAgUEhYX1ZJRVdQT1JUX0JPVFRPTSxcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbiAgZGV0ZWN0RHVwbGljYXRlSWRzLFxuICBpc0NpZFxufSBmcm9tIFwiLi91dGlsc1wiXG5cbmltcG9ydCBET00gZnJvbSBcIi4vZG9tXCJcbmltcG9ydCBET01Qb3N0TW9ycGhSZXN0b3JlciBmcm9tIFwiLi9kb21fcG9zdF9tb3JwaF9yZXN0b3JlclwiXG5pbXBvcnQgbW9ycGhkb20gZnJvbSBcIm1vcnBoZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRE9NUGF0Y2gge1xuICBzdGF0aWMgcGF0Y2hFbChmcm9tRWwsIHRvRWwsIGFjdGl2ZUVsZW1lbnQpe1xuICAgIG1vcnBoZG9tKGZyb21FbCwgdG9FbCwge1xuICAgICAgY2hpbGRyZW5Pbmx5OiBmYWxzZSxcbiAgICAgIG9uQmVmb3JlRWxVcGRhdGVkOiAoZnJvbUVsLCB0b0VsKSA9PiB7XG4gICAgICAgIGlmKGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC5pc1NhbWVOb2RlKGZyb21FbCkgJiYgRE9NLmlzRm9ybUlucHV0KGZyb21FbCkpe1xuICAgICAgICAgIERPTS5tZXJnZUZvY3VzZWRJbnB1dChmcm9tRWwsIHRvRWwpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29uc3RydWN0b3IodmlldywgY29udGFpbmVyLCBpZCwgaHRtbCwgc3RyZWFtcywgdGFyZ2V0Q0lEKXtcbiAgICB0aGlzLnZpZXcgPSB2aWV3XG4gICAgdGhpcy5saXZlU29ja2V0ID0gdmlldy5saXZlU29ja2V0XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXJcbiAgICB0aGlzLmlkID0gaWRcbiAgICB0aGlzLnJvb3RJRCA9IHZpZXcucm9vdC5pZFxuICAgIHRoaXMuaHRtbCA9IGh0bWxcbiAgICB0aGlzLnN0cmVhbXMgPSBzdHJlYW1zXG4gICAgdGhpcy5zdHJlYW1JbnNlcnRzID0ge31cbiAgICB0aGlzLnRhcmdldENJRCA9IHRhcmdldENJRFxuICAgIHRoaXMuY2lkUGF0Y2ggPSBpc0NpZCh0aGlzLnRhcmdldENJRClcbiAgICB0aGlzLnBlbmRpbmdSZW1vdmVzID0gW11cbiAgICB0aGlzLnBoeFJlbW92ZSA9IHRoaXMubGl2ZVNvY2tldC5iaW5kaW5nKFwicmVtb3ZlXCIpXG4gICAgdGhpcy5jYWxsYmFja3MgPSB7XG4gICAgICBiZWZvcmVhZGRlZDogW10sIGJlZm9yZXVwZGF0ZWQ6IFtdLCBiZWZvcmVwaHhDaGlsZEFkZGVkOiBbXSxcbiAgICAgIGFmdGVyYWRkZWQ6IFtdLCBhZnRlcnVwZGF0ZWQ6IFtdLCBhZnRlcmRpc2NhcmRlZDogW10sIGFmdGVycGh4Q2hpbGRBZGRlZDogW10sXG4gICAgICBhZnRlcnRyYW5zaXRpb25zRGlzY2FyZGVkOiBbXVxuICAgIH1cbiAgfVxuXG4gIGJlZm9yZShraW5kLCBjYWxsYmFjayl7IHRoaXMuY2FsbGJhY2tzW2BiZWZvcmUke2tpbmR9YF0ucHVzaChjYWxsYmFjaykgfVxuICBhZnRlcihraW5kLCBjYWxsYmFjayl7IHRoaXMuY2FsbGJhY2tzW2BhZnRlciR7a2luZH1gXS5wdXNoKGNhbGxiYWNrKSB9XG5cbiAgdHJhY2tCZWZvcmUoa2luZCwgLi4uYXJncyl7XG4gICAgdGhpcy5jYWxsYmFja3NbYGJlZm9yZSR7a2luZH1gXS5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKC4uLmFyZ3MpKVxuICB9XG5cbiAgdHJhY2tBZnRlcihraW5kLCAuLi5hcmdzKXtcbiAgICB0aGlzLmNhbGxiYWNrc1tgYWZ0ZXIke2tpbmR9YF0uZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayguLi5hcmdzKSlcbiAgfVxuXG4gIG1hcmtQcnVuYWJsZUNvbnRlbnRGb3JSZW1vdmFsKCl7XG4gICAgbGV0IHBoeFVwZGF0ZSA9IHRoaXMubGl2ZVNvY2tldC5iaW5kaW5nKFBIWF9VUERBVEUpXG4gICAgRE9NLmFsbCh0aGlzLmNvbnRhaW5lciwgYFske3BoeFVwZGF0ZX09JHtQSFhfU1RSRUFNfV1gLCBlbCA9PiBlbC5pbm5lckhUTUwgPSBcIlwiKVxuICAgIERPTS5hbGwodGhpcy5jb250YWluZXIsIGBbJHtwaHhVcGRhdGV9PWFwcGVuZF0gPiAqLCBbJHtwaHhVcGRhdGV9PXByZXBlbmRdID4gKmAsIGVsID0+IHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShQSFhfUFJVTkUsIFwiXCIpXG4gICAgfSlcbiAgfVxuXG4gIHBlcmZvcm0oKXtcbiAgICBsZXQge3ZpZXcsIGxpdmVTb2NrZXQsIGNvbnRhaW5lciwgaHRtbH0gPSB0aGlzXG4gICAgbGV0IHRhcmdldENvbnRhaW5lciA9IHRoaXMuaXNDSURQYXRjaCgpID8gdGhpcy50YXJnZXRDSURDb250YWluZXIoaHRtbCkgOiBjb250YWluZXJcbiAgICBpZih0aGlzLmlzQ0lEUGF0Y2goKSAmJiAhdGFyZ2V0Q29udGFpbmVyKXsgcmV0dXJuIH1cblxuICAgIGxldCBmb2N1c2VkID0gbGl2ZVNvY2tldC5nZXRBY3RpdmVFbGVtZW50KClcbiAgICBsZXQge3NlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmR9ID0gZm9jdXNlZCAmJiBET00uaGFzU2VsZWN0aW9uUmFuZ2UoZm9jdXNlZCkgPyBmb2N1c2VkIDoge31cbiAgICBsZXQgcGh4VXBkYXRlID0gbGl2ZVNvY2tldC5iaW5kaW5nKFBIWF9VUERBVEUpXG4gICAgbGV0IHBoeEZlZWRiYWNrRm9yID0gbGl2ZVNvY2tldC5iaW5kaW5nKFBIWF9GRUVEQkFDS19GT1IpXG4gICAgbGV0IGRpc2FibGVXaXRoID0gbGl2ZVNvY2tldC5iaW5kaW5nKFBIWF9ESVNBQkxFX1dJVEgpXG4gICAgbGV0IHBoeFZpZXdwb3J0VG9wID0gbGl2ZVNvY2tldC5iaW5kaW5nKFBIWF9WSUVXUE9SVF9UT1ApXG4gICAgbGV0IHBoeFZpZXdwb3J0Qm90dG9tID0gbGl2ZVNvY2tldC5iaW5kaW5nKFBIWF9WSUVXUE9SVF9CT1RUT00pXG4gICAgbGV0IHBoeFRyaWdnZXJFeHRlcm5hbCA9IGxpdmVTb2NrZXQuYmluZGluZyhQSFhfVFJJR0dFUl9BQ1RJT04pXG4gICAgbGV0IGFkZGVkID0gW11cbiAgICBsZXQgdHJhY2tlZElucHV0cyA9IFtdXG4gICAgbGV0IHVwZGF0ZXMgPSBbXVxuICAgIGxldCBhcHBlbmRQcmVwZW5kVXBkYXRlcyA9IFtdXG5cbiAgICBsZXQgZXh0ZXJuYWxGb3JtVHJpZ2dlcmVkID0gbnVsbFxuXG4gICAgbGV0IGRpZmZIVE1MID0gbGl2ZVNvY2tldC50aW1lKFwicHJlbW9ycGggY29udGFpbmVyIHByZXBcIiwgKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuYnVpbGREaWZmSFRNTChjb250YWluZXIsIGh0bWwsIHBoeFVwZGF0ZSwgdGFyZ2V0Q29udGFpbmVyKVxuICAgIH0pXG5cbiAgICB0aGlzLnRyYWNrQmVmb3JlKFwiYWRkZWRcIiwgY29udGFpbmVyKVxuICAgIHRoaXMudHJhY2tCZWZvcmUoXCJ1cGRhdGVkXCIsIGNvbnRhaW5lciwgY29udGFpbmVyKVxuXG4gICAgbGl2ZVNvY2tldC50aW1lKFwibW9ycGhkb21cIiwgKCkgPT4ge1xuICAgICAgdGhpcy5zdHJlYW1zLmZvckVhY2goKFtyZWYsIGluc2VydHMsIGRlbGV0ZUlkcywgcmVzZXRdKSA9PiB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGluc2VydHMpLmZvckVhY2goKFtrZXksIFtzdHJlYW1BdCwgbGltaXRdXSkgPT4ge1xuICAgICAgICAgIHRoaXMuc3RyZWFtSW5zZXJ0c1trZXldID0ge3JlZiwgc3RyZWFtQXQsIGxpbWl0fVxuICAgICAgICB9KVxuICAgICAgICBpZihyZXNldCAhPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICBET00uYWxsKGNvbnRhaW5lciwgYFske1BIWF9TVFJFQU1fUkVGfT1cIiR7cmVmfVwiXWAsIGNoaWxkID0+IHtcbiAgICAgICAgICAgIGlmKCFpbnNlcnRzW2NoaWxkLmlkXSl7XG4gICAgICAgICAgICAgIHRoaXMucmVtb3ZlU3RyZWFtQ2hpbGRFbGVtZW50KGNoaWxkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlSWRzLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgIGxldCBjaGlsZCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbaWQ9XCIke2lkfVwiXWApXG4gICAgICAgICAgaWYoY2hpbGQpeyB0aGlzLnJlbW92ZVN0cmVhbUNoaWxkRWxlbWVudChjaGlsZCkgfVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgbW9ycGhkb20odGFyZ2V0Q29udGFpbmVyLCBkaWZmSFRNTCwge1xuICAgICAgICBjaGlsZHJlbk9ubHk6IHRhcmdldENvbnRhaW5lci5nZXRBdHRyaWJ1dGUoUEhYX0NPTVBPTkVOVCkgPT09IG51bGwsXG4gICAgICAgIGdldE5vZGVLZXk6IChub2RlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIERPTS5pc1BoeERlc3Ryb3llZChub2RlKSA/IG51bGwgOiBub2RlLmlkXG4gICAgICAgIH0sXG4gICAgICAgIC8vIHNraXAgaW5kZXhpbmcgZnJvbSBjaGlsZHJlbiB3aGVuIGNvbnRhaW5lciBpcyBzdHJlYW1cbiAgICAgICAgc2tpcEZyb21DaGlsZHJlbjogKGZyb20pID0+IHsgcmV0dXJuIGZyb20uZ2V0QXR0cmlidXRlKHBoeFVwZGF0ZSkgPT09IFBIWF9TVFJFQU0gfSxcbiAgICAgICAgLy8gdGVsbCBtb3JwaGRvbSBob3cgdG8gYWRkIGEgY2hpbGRcbiAgICAgICAgYWRkQ2hpbGQ6IChwYXJlbnQsIGNoaWxkKSA9PiB7XG4gICAgICAgICAgbGV0IHtyZWYsIHN0cmVhbUF0LCBsaW1pdH0gPSB0aGlzLmdldFN0cmVhbUluc2VydChjaGlsZClcbiAgICAgICAgICBpZihyZWYgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKSB9XG5cbiAgICAgICAgICBET00ucHV0U3RpY2t5KGNoaWxkLCBQSFhfU1RSRUFNX1JFRiwgZWwgPT4gZWwuc2V0QXR0cmlidXRlKFBIWF9TVFJFQU1fUkVGLCByZWYpKVxuXG4gICAgICAgICAgLy8gc3RyZWFtaW5nXG4gICAgICAgICAgaWYoc3RyZWFtQXQgPT09IDApe1xuICAgICAgICAgICAgcGFyZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyYmVnaW5cIiwgY2hpbGQpXG4gICAgICAgICAgfSBlbHNlIGlmKHN0cmVhbUF0ID09PSAtMSl7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpXG4gICAgICAgICAgfSBlbHNlIGlmKHN0cmVhbUF0ID4gMCl7XG4gICAgICAgICAgICBsZXQgc2libGluZyA9IEFycmF5LmZyb20ocGFyZW50LmNoaWxkcmVuKVtzdHJlYW1BdF1cbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIHNpYmxpbmcpXG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBjaGlsZHJlbiA9IGxpbWl0ICE9PSBudWxsICYmIEFycmF5LmZyb20ocGFyZW50LmNoaWxkcmVuKVxuICAgICAgICAgIGxldCBjaGlsZHJlblRvUmVtb3ZlID0gW11cbiAgICAgICAgICBpZihsaW1pdCAmJiBsaW1pdCA8IDAgJiYgY2hpbGRyZW4ubGVuZ3RoID4gbGltaXQgKiAtMSl7XG4gICAgICAgICAgICBjaGlsZHJlblRvUmVtb3ZlID0gY2hpbGRyZW4uc2xpY2UoMCwgY2hpbGRyZW4ubGVuZ3RoICsgbGltaXQpXG4gICAgICAgICAgfSBlbHNlIGlmKGxpbWl0ICYmIGxpbWl0ID49IDAgJiYgY2hpbGRyZW4ubGVuZ3RoID4gbGltaXQpe1xuICAgICAgICAgICAgY2hpbGRyZW5Ub1JlbW92ZSA9IGNoaWxkcmVuLnNsaWNlKGxpbWl0KVxuICAgICAgICAgIH1cbiAgICAgICAgICBjaGlsZHJlblRvUmVtb3ZlLmZvckVhY2gocmVtb3ZlQ2hpbGQgPT4ge1xuICAgICAgICAgICAgLy8gZG8gbm90IHJlbW92ZSBjaGlsZCBhcyBwYXJ0IG9mIGxpbWl0IGlmIHdlIGFyZSByZS1hZGRpbmcgaXRcbiAgICAgICAgICAgIGlmKCF0aGlzLnN0cmVhbUluc2VydHNbcmVtb3ZlQ2hpbGQuaWRdKXtcbiAgICAgICAgICAgICAgdGhpcy5yZW1vdmVTdHJlYW1DaGlsZEVsZW1lbnQocmVtb3ZlQ2hpbGQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgb25CZWZvcmVOb2RlQWRkZWQ6IChlbCkgPT4ge1xuICAgICAgICAgIERPTS5tYXliZUFkZFByaXZhdGVIb29rcyhlbCwgcGh4Vmlld3BvcnRUb3AsIHBoeFZpZXdwb3J0Qm90dG9tKVxuICAgICAgICAgIHRoaXMudHJhY2tCZWZvcmUoXCJhZGRlZFwiLCBlbClcbiAgICAgICAgICByZXR1cm4gZWxcbiAgICAgICAgfSxcbiAgICAgICAgb25Ob2RlQWRkZWQ6IChlbCkgPT4ge1xuICAgICAgICAgIGlmKGVsLmdldEF0dHJpYnV0ZSl7IHRoaXMubWF5YmVSZU9yZGVyU3RyZWFtKGVsKSB9XG5cbiAgICAgICAgICAvLyBoYWNrIHRvIGZpeCBTYWZhcmkgaGFuZGxpbmcgb2YgaW1nIHNyY3NldCBhbmQgdmlkZW8gdGFnc1xuICAgICAgICAgIGlmKGVsIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCAmJiBlbC5zcmNzZXQpe1xuICAgICAgICAgICAgZWwuc3Jjc2V0ID0gZWwuc3Jjc2V0XG4gICAgICAgICAgfSBlbHNlIGlmKGVsIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCAmJiBlbC5hdXRvcGxheSl7XG4gICAgICAgICAgICBlbC5wbGF5KClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoRE9NLmlzTm93VHJpZ2dlckZvcm1FeHRlcm5hbChlbCwgcGh4VHJpZ2dlckV4dGVybmFsKSl7XG4gICAgICAgICAgICBleHRlcm5hbEZvcm1UcmlnZ2VyZWQgPSBlbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpICYmIERPTS5pc0Zvcm1JbnB1dChlbCkpe1xuICAgICAgICAgICAgdHJhY2tlZElucHV0cy5wdXNoKGVsKVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBuZXN0ZWQgdmlldyBoYW5kbGluZ1xuICAgICAgICAgIGlmKChET00uaXNQaHhDaGlsZChlbCkgJiYgdmlldy5vd25zRWxlbWVudChlbCkpIHx8IERPTS5pc1BoeFN0aWNreShlbCkgJiYgdmlldy5vd25zRWxlbWVudChlbC5wYXJlbnROb2RlKSl7XG4gICAgICAgICAgICB0aGlzLnRyYWNrQWZ0ZXIoXCJwaHhDaGlsZEFkZGVkXCIsIGVsKVxuICAgICAgICAgIH1cbiAgICAgICAgICBhZGRlZC5wdXNoKGVsKVxuICAgICAgICB9LFxuICAgICAgICBvbk5vZGVEaXNjYXJkZWQ6IChlbCkgPT4gdGhpcy5vbk5vZGVEaXNjYXJkZWQoZWwpLFxuICAgICAgICBvbkJlZm9yZU5vZGVEaXNjYXJkZWQ6IChlbCkgPT4ge1xuICAgICAgICAgIGlmKGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUoUEhYX1BSVU5FKSAhPT0gbnVsbCl7IHJldHVybiB0cnVlIH1cbiAgICAgICAgICBpZihlbC5wYXJlbnRFbGVtZW50ICE9PSBudWxsICYmIGVsLmlkICYmXG4gICAgICAgICAgICBET00uaXNQaHhVcGRhdGUoZWwucGFyZW50RWxlbWVudCwgcGh4VXBkYXRlLCBbUEhYX1NUUkVBTSwgXCJhcHBlbmRcIiwgXCJwcmVwZW5kXCJdKSl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYodGhpcy5tYXliZVBlbmRpbmdSZW1vdmUoZWwpKXsgcmV0dXJuIGZhbHNlIH1cbiAgICAgICAgICBpZih0aGlzLnNraXBDSURTaWJsaW5nKGVsKSl7IHJldHVybiBmYWxzZSB9XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBvbkVsVXBkYXRlZDogKGVsKSA9PiB7XG4gICAgICAgICAgaWYoRE9NLmlzTm93VHJpZ2dlckZvcm1FeHRlcm5hbChlbCwgcGh4VHJpZ2dlckV4dGVybmFsKSl7XG4gICAgICAgICAgICBleHRlcm5hbEZvcm1UcmlnZ2VyZWQgPSBlbFxuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVzLnB1c2goZWwpXG4gICAgICAgICAgdGhpcy5tYXliZVJlT3JkZXJTdHJlYW0oZWwpXG4gICAgICAgIH0sXG4gICAgICAgIG9uQmVmb3JlRWxVcGRhdGVkOiAoZnJvbUVsLCB0b0VsKSA9PiB7XG4gICAgICAgICAgRE9NLm1heWJlQWRkUHJpdmF0ZUhvb2tzKHRvRWwsIHBoeFZpZXdwb3J0VG9wLCBwaHhWaWV3cG9ydEJvdHRvbSlcbiAgICAgICAgICBET00uY2xlYW5DaGlsZE5vZGVzKHRvRWwsIHBoeFVwZGF0ZSlcbiAgICAgICAgICBpZih0aGlzLnNraXBDSURTaWJsaW5nKHRvRWwpKXsgcmV0dXJuIGZhbHNlIH1cbiAgICAgICAgICBpZihET00uaXNQaHhTdGlja3koZnJvbUVsKSl7IHJldHVybiBmYWxzZSB9XG4gICAgICAgICAgaWYoRE9NLmlzSWdub3JlZChmcm9tRWwsIHBoeFVwZGF0ZSkgfHwgKGZyb21FbC5mb3JtICYmIGZyb21FbC5mb3JtLmlzU2FtZU5vZGUoZXh0ZXJuYWxGb3JtVHJpZ2dlcmVkKSkpe1xuICAgICAgICAgICAgdGhpcy50cmFja0JlZm9yZShcInVwZGF0ZWRcIiwgZnJvbUVsLCB0b0VsKVxuICAgICAgICAgICAgRE9NLm1lcmdlQXR0cnMoZnJvbUVsLCB0b0VsLCB7aXNJZ25vcmVkOiB0cnVlfSlcbiAgICAgICAgICAgIHVwZGF0ZXMucHVzaChmcm9tRWwpXG4gICAgICAgICAgICBET00uYXBwbHlTdGlja3lPcGVyYXRpb25zKGZyb21FbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZihmcm9tRWwudHlwZSA9PT0gXCJudW1iZXJcIiAmJiAoZnJvbUVsLnZhbGlkaXR5ICYmIGZyb21FbC52YWxpZGl0eS5iYWRJbnB1dCkpeyByZXR1cm4gZmFsc2UgfVxuICAgICAgICAgIGlmKCFET00uc3luY1BlbmRpbmdSZWYoZnJvbUVsLCB0b0VsLCBkaXNhYmxlV2l0aCkpe1xuICAgICAgICAgICAgaWYoRE9NLmlzVXBsb2FkSW5wdXQoZnJvbUVsKSl7XG4gICAgICAgICAgICAgIHRoaXMudHJhY2tCZWZvcmUoXCJ1cGRhdGVkXCIsIGZyb21FbCwgdG9FbClcbiAgICAgICAgICAgICAgdXBkYXRlcy5wdXNoKGZyb21FbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIERPTS5hcHBseVN0aWNreU9wZXJhdGlvbnMoZnJvbUVsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gbmVzdGVkIHZpZXcgaGFuZGxpbmdcbiAgICAgICAgICBpZihET00uaXNQaHhDaGlsZCh0b0VsKSl7XG4gICAgICAgICAgICBsZXQgcHJldlNlc3Npb24gPSBmcm9tRWwuZ2V0QXR0cmlidXRlKFBIWF9TRVNTSU9OKVxuICAgICAgICAgICAgRE9NLm1lcmdlQXR0cnMoZnJvbUVsLCB0b0VsLCB7ZXhjbHVkZTogW1BIWF9TVEFUSUNdfSlcbiAgICAgICAgICAgIGlmKHByZXZTZXNzaW9uICE9PSBcIlwiKXsgZnJvbUVsLnNldEF0dHJpYnV0ZShQSFhfU0VTU0lPTiwgcHJldlNlc3Npb24pIH1cbiAgICAgICAgICAgIGZyb21FbC5zZXRBdHRyaWJ1dGUoUEhYX1JPT1RfSUQsIHRoaXMucm9vdElEKVxuICAgICAgICAgICAgRE9NLmFwcGx5U3RpY2t5T3BlcmF0aW9ucyhmcm9tRWwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBpbnB1dCBoYW5kbGluZ1xuICAgICAgICAgIERPTS5jb3B5UHJpdmF0ZXModG9FbCwgZnJvbUVsKVxuXG4gICAgICAgICAgbGV0IGlzRm9jdXNlZEZvcm1FbCA9IGZvY3VzZWQgJiYgZnJvbUVsLmlzU2FtZU5vZGUoZm9jdXNlZCkgJiYgRE9NLmlzRm9ybUlucHV0KGZyb21FbClcbiAgICAgICAgICBpZihpc0ZvY3VzZWRGb3JtRWwgJiYgZnJvbUVsLnR5cGUgIT09IFwiaGlkZGVuXCIpe1xuICAgICAgICAgICAgdGhpcy50cmFja0JlZm9yZShcInVwZGF0ZWRcIiwgZnJvbUVsLCB0b0VsKVxuICAgICAgICAgICAgRE9NLm1lcmdlRm9jdXNlZElucHV0KGZyb21FbCwgdG9FbClcbiAgICAgICAgICAgIERPTS5zeW5jQXR0cnNUb1Byb3BzKGZyb21FbClcbiAgICAgICAgICAgIHVwZGF0ZXMucHVzaChmcm9tRWwpXG4gICAgICAgICAgICBET00uYXBwbHlTdGlja3lPcGVyYXRpb25zKGZyb21FbClcbiAgICAgICAgICAgIHRyYWNrZWRJbnB1dHMucHVzaChmcm9tRWwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYoRE9NLmlzUGh4VXBkYXRlKHRvRWwsIHBoeFVwZGF0ZSwgW1wiYXBwZW5kXCIsIFwicHJlcGVuZFwiXSkpe1xuICAgICAgICAgICAgICBhcHBlbmRQcmVwZW5kVXBkYXRlcy5wdXNoKG5ldyBET01Qb3N0TW9ycGhSZXN0b3Jlcihmcm9tRWwsIHRvRWwsIHRvRWwuZ2V0QXR0cmlidXRlKHBoeFVwZGF0ZSkpKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBET00uc3luY0F0dHJzVG9Qcm9wcyh0b0VsKVxuICAgICAgICAgICAgRE9NLmFwcGx5U3RpY2t5T3BlcmF0aW9ucyh0b0VsKVxuICAgICAgICAgICAgaWYodG9FbC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpICYmIERPTS5pc0Zvcm1JbnB1dCh0b0VsKSl7XG4gICAgICAgICAgICAgIHRyYWNrZWRJbnB1dHMucHVzaCh0b0VsKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFja0JlZm9yZShcInVwZGF0ZWRcIiwgZnJvbUVsLCB0b0VsKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGlmKGxpdmVTb2NrZXQuaXNEZWJ1Z0VuYWJsZWQoKSl7IGRldGVjdER1cGxpY2F0ZUlkcygpIH1cblxuICAgIGlmKGFwcGVuZFByZXBlbmRVcGRhdGVzLmxlbmd0aCA+IDApe1xuICAgICAgbGl2ZVNvY2tldC50aW1lKFwicG9zdC1tb3JwaCBhcHBlbmQvcHJlcGVuZCByZXN0b3JhdGlvblwiLCAoKSA9PiB7XG4gICAgICAgIGFwcGVuZFByZXBlbmRVcGRhdGVzLmZvckVhY2godXBkYXRlID0+IHVwZGF0ZS5wZXJmb3JtKCkpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRyYWNrZWRJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBET00ubWF5YmVIaWRlRmVlZGJhY2sodGFyZ2V0Q29udGFpbmVyLCBpbnB1dCwgcGh4RmVlZGJhY2tGb3IpXG4gICAgfSlcblxuICAgIGxpdmVTb2NrZXQuc2lsZW5jZUV2ZW50cygoKSA9PiBET00ucmVzdG9yZUZvY3VzKGZvY3VzZWQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpKVxuICAgIERPTS5kaXNwYXRjaEV2ZW50KGRvY3VtZW50LCBcInBoeDp1cGRhdGVcIilcbiAgICBhZGRlZC5mb3JFYWNoKGVsID0+IHRoaXMudHJhY2tBZnRlcihcImFkZGVkXCIsIGVsKSlcbiAgICB1cGRhdGVzLmZvckVhY2goZWwgPT4gdGhpcy50cmFja0FmdGVyKFwidXBkYXRlZFwiLCBlbCkpXG5cbiAgICB0aGlzLnRyYW5zaXRpb25QZW5kaW5nUmVtb3ZlcygpXG5cbiAgICBpZihleHRlcm5hbEZvcm1UcmlnZ2VyZWQpe1xuICAgICAgbGl2ZVNvY2tldC51bmxvYWQoKVxuICAgICAgLy8gdXNlIHByb3RvdHlwZSdzIHN1Ym1pdCBpbiBjYXNlIHRoZXJlJ3MgYSBmb3JtIGNvbnRyb2wgd2l0aCBuYW1lIG9yIGlkIG9mIFwic3VibWl0XCJcbiAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MRm9ybUVsZW1lbnQvc3VibWl0XG4gICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZXh0ZXJuYWxGb3JtVHJpZ2dlcmVkKS5zdWJtaXQuY2FsbChleHRlcm5hbEZvcm1UcmlnZ2VyZWQpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBvbk5vZGVEaXNjYXJkZWQoZWwpe1xuICAgIC8vIG5lc3RlZCB2aWV3IGhhbmRsaW5nXG4gICAgaWYoRE9NLmlzUGh4Q2hpbGQoZWwpIHx8IERPTS5pc1BoeFN0aWNreShlbCkpeyB0aGlzLmxpdmVTb2NrZXQuZGVzdHJveVZpZXdCeUVsKGVsKSB9XG4gICAgdGhpcy50cmFja0FmdGVyKFwiZGlzY2FyZGVkXCIsIGVsKVxuICB9XG5cbiAgbWF5YmVQZW5kaW5nUmVtb3ZlKG5vZGUpe1xuICAgIGlmKG5vZGUuZ2V0QXR0cmlidXRlICYmIG5vZGUuZ2V0QXR0cmlidXRlKHRoaXMucGh4UmVtb3ZlKSAhPT0gbnVsbCl7XG4gICAgICB0aGlzLnBlbmRpbmdSZW1vdmVzLnB1c2gobm9kZSlcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVN0cmVhbUNoaWxkRWxlbWVudChjaGlsZCl7XG4gICAgaWYoIXRoaXMubWF5YmVQZW5kaW5nUmVtb3ZlKGNoaWxkKSl7XG4gICAgICBjaGlsZC5yZW1vdmUoKVxuICAgICAgdGhpcy5vbk5vZGVEaXNjYXJkZWQoY2hpbGQpXG4gICAgfVxuICB9XG5cbiAgZ2V0U3RyZWFtSW5zZXJ0KGVsKXtcbiAgICBsZXQgaW5zZXJ0ID0gZWwuaWQgPyB0aGlzLnN0cmVhbUluc2VydHNbZWwuaWRdIDoge31cbiAgICByZXR1cm4gaW5zZXJ0IHx8IHt9XG4gIH1cblxuICBtYXliZVJlT3JkZXJTdHJlYW0oZWwpe1xuICAgIGxldCB7cmVmLCBzdHJlYW1BdCwgbGltaXR9ID0gdGhpcy5nZXRTdHJlYW1JbnNlcnQoZWwpXG4gICAgaWYoc3RyZWFtQXQgPT09IHVuZGVmaW5lZCl7IHJldHVybiB9XG5cbiAgICAvLyB3ZSBuZWVkIHRvIHRoZSBQSFhfU1RSRUFNX1JFRiBoZXJlIGFzIHdlbGwgYXMgYWRkQ2hpbGQgaXMgaW52b2tlZCBvbmx5IGZvciBwYXJlbnRzXG4gICAgRE9NLnB1dFN0aWNreShlbCwgUEhYX1NUUkVBTV9SRUYsIGVsID0+IGVsLnNldEF0dHJpYnV0ZShQSFhfU1RSRUFNX1JFRiwgcmVmKSlcblxuICAgIGlmKHN0cmVhbUF0ID09PSAwKXtcbiAgICAgIGVsLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGVsLCBlbC5wYXJlbnRFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKVxuICAgIH0gZWxzZSBpZihzdHJlYW1BdCA+IDApe1xuICAgICAgbGV0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShlbC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuKVxuICAgICAgbGV0IG9sZEluZGV4ID0gY2hpbGRyZW4uaW5kZXhPZihlbClcbiAgICAgIGlmKHN0cmVhbUF0ID49IGNoaWxkcmVuLmxlbmd0aCAtIDEpe1xuICAgICAgICBlbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGVsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHNpYmxpbmcgPSBjaGlsZHJlbltzdHJlYW1BdF1cbiAgICAgICAgaWYob2xkSW5kZXggPiBzdHJlYW1BdCl7XG4gICAgICAgICAgZWwucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoZWwsIHNpYmxpbmcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWwucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoZWwsIHNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdHJhbnNpdGlvblBlbmRpbmdSZW1vdmVzKCl7XG4gICAgbGV0IHtwZW5kaW5nUmVtb3ZlcywgbGl2ZVNvY2tldH0gPSB0aGlzXG4gICAgaWYocGVuZGluZ1JlbW92ZXMubGVuZ3RoID4gMCl7XG4gICAgICBsaXZlU29ja2V0LnRyYW5zaXRpb25SZW1vdmVzKHBlbmRpbmdSZW1vdmVzKVxuICAgICAgbGl2ZVNvY2tldC5yZXF1ZXN0RE9NVXBkYXRlKCgpID0+IHtcbiAgICAgICAgcGVuZGluZ1JlbW92ZXMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgbGV0IGNoaWxkID0gRE9NLmZpcnN0UGh4Q2hpbGQoZWwpXG4gICAgICAgICAgaWYoY2hpbGQpeyBsaXZlU29ja2V0LmRlc3Ryb3lWaWV3QnlFbChjaGlsZCkgfVxuICAgICAgICAgIGVsLnJlbW92ZSgpXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMudHJhY2tBZnRlcihcInRyYW5zaXRpb25zRGlzY2FyZGVkXCIsIHBlbmRpbmdSZW1vdmVzKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBpc0NJRFBhdGNoKCl7IHJldHVybiB0aGlzLmNpZFBhdGNoIH1cblxuICBza2lwQ0lEU2libGluZyhlbCl7XG4gICAgcmV0dXJuIGVsLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiBlbC5nZXRBdHRyaWJ1dGUoUEhYX1NLSVApICE9PSBudWxsXG4gIH1cblxuICB0YXJnZXRDSURDb250YWluZXIoaHRtbCl7XG4gICAgaWYoIXRoaXMuaXNDSURQYXRjaCgpKXsgcmV0dXJuIH1cbiAgICBsZXQgW2ZpcnN0LCAuLi5yZXN0XSA9IERPTS5maW5kQ29tcG9uZW50Tm9kZUxpc3QodGhpcy5jb250YWluZXIsIHRoaXMudGFyZ2V0Q0lEKVxuICAgIGlmKHJlc3QubGVuZ3RoID09PSAwICYmIERPTS5jaGlsZE5vZGVMZW5ndGgoaHRtbCkgPT09IDEpe1xuICAgICAgcmV0dXJuIGZpcnN0XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaXJzdCAmJiBmaXJzdC5wYXJlbnROb2RlXG4gICAgfVxuICB9XG5cbiAgLy8gYnVpbGRzIEhUTUwgZm9yIG1vcnBoZG9tIHBhdGNoXG4gIC8vIC0gZm9yIGZ1bGwgcGF0Y2hlcyBvZiBMaXZlVmlldyBvciBhIGNvbXBvbmVudCB3aXRoIGEgc2luZ2xlXG4gIC8vICAgcm9vdCBub2RlLCBzaW1wbHkgcmV0dXJucyB0aGUgSFRNTFxuICAvLyAtIGZvciBwYXRjaGVzIG9mIGEgY29tcG9uZW50IHdpdGggbXVsdGlwbGUgcm9vdCBub2RlcywgdGhlXG4gIC8vICAgcGFyZW50IG5vZGUgYmVjb21lcyB0aGUgdGFyZ2V0IGNvbnRhaW5lciBhbmQgbm9uLWNvbXBvbmVudFxuICAvLyAgIHNpYmxpbmdzIGFyZSBtYXJrZWQgYXMgc2tpcC5cbiAgYnVpbGREaWZmSFRNTChjb250YWluZXIsIGh0bWwsIHBoeFVwZGF0ZSwgdGFyZ2V0Q29udGFpbmVyKXtcbiAgICBsZXQgaXNDSURQYXRjaCA9IHRoaXMuaXNDSURQYXRjaCgpXG4gICAgbGV0IGlzQ0lEV2l0aFNpbmdsZVJvb3QgPSBpc0NJRFBhdGNoICYmIHRhcmdldENvbnRhaW5lci5nZXRBdHRyaWJ1dGUoUEhYX0NPTVBPTkVOVCkgPT09IHRoaXMudGFyZ2V0Q0lELnRvU3RyaW5nKClcbiAgICBpZighaXNDSURQYXRjaCB8fCBpc0NJRFdpdGhTaW5nbGVSb290KXtcbiAgICAgIHJldHVybiBodG1sXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNvbXBvbmVudCBwYXRjaCB3aXRoIG11bHRpcGxlIENJRCByb290c1xuICAgICAgbGV0IGRpZmZDb250YWluZXIgPSBudWxsXG4gICAgICBsZXQgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIilcbiAgICAgIGRpZmZDb250YWluZXIgPSBET00uY2xvbmVOb2RlKHRhcmdldENvbnRhaW5lcilcbiAgICAgIGxldCBbZmlyc3RDb21wb25lbnQsIC4uLnJlc3RdID0gRE9NLmZpbmRDb21wb25lbnROb2RlTGlzdChkaWZmQ29udGFpbmVyLCB0aGlzLnRhcmdldENJRClcbiAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWxcbiAgICAgIHJlc3QuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSlcbiAgICAgIEFycmF5LmZyb20oZGlmZkNvbnRhaW5lci5jaGlsZE5vZGVzKS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgLy8gd2UgY2FuIG9ubHkgc2tpcCB0cmFja2FibGUgbm9kZXMgd2l0aCBhbiBJRFxuICAgICAgICBpZihjaGlsZC5pZCAmJiBjaGlsZC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgY2hpbGQuZ2V0QXR0cmlidXRlKFBIWF9DT01QT05FTlQpICE9PSB0aGlzLnRhcmdldENJRC50b1N0cmluZygpKXtcbiAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoUEhYX1NLSVAsIFwiXCIpXG4gICAgICAgICAgY2hpbGQuaW5uZXJIVE1MID0gXCJcIlxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgQXJyYXkuZnJvbSh0ZW1wbGF0ZS5jb250ZW50LmNoaWxkTm9kZXMpLmZvckVhY2goZWwgPT4gZGlmZkNvbnRhaW5lci5pbnNlcnRCZWZvcmUoZWwsIGZpcnN0Q29tcG9uZW50KSlcbiAgICAgIGZpcnN0Q29tcG9uZW50LnJlbW92ZSgpXG4gICAgICByZXR1cm4gZGlmZkNvbnRhaW5lci5vdXRlckhUTUxcbiAgICB9XG4gIH1cblxuICBpbmRleE9mKHBhcmVudCwgY2hpbGQpeyByZXR1cm4gQXJyYXkuZnJvbShwYXJlbnQuY2hpbGRyZW4pLmluZGV4T2YoY2hpbGQpIH1cbn1cbiIsICJpbXBvcnQge1xuICBDT01QT05FTlRTLFxuICBEWU5BTUlDUyxcbiAgVEVNUExBVEVTLFxuICBFVkVOVFMsXG4gIFBIWF9DT01QT05FTlQsXG4gIFBIWF9TS0lQLFxuICBSRVBMWSxcbiAgU1RBVElDLFxuICBUSVRMRSxcbiAgU1RSRUFNLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQge1xuICBpc09iamVjdCxcbiAgbG9nRXJyb3IsXG4gIGlzQ2lkLFxufSBmcm9tIFwiLi91dGlsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVkIHtcbiAgc3RhdGljIGV4dHJhY3QoZGlmZil7XG4gICAgbGV0IHtbUkVQTFldOiByZXBseSwgW0VWRU5UU106IGV2ZW50cywgW1RJVExFXTogdGl0bGV9ID0gZGlmZlxuICAgIGRlbGV0ZSBkaWZmW1JFUExZXVxuICAgIGRlbGV0ZSBkaWZmW0VWRU5UU11cbiAgICBkZWxldGUgZGlmZltUSVRMRV1cbiAgICByZXR1cm4ge2RpZmYsIHRpdGxlLCByZXBseTogcmVwbHkgfHwgbnVsbCwgZXZlbnRzOiBldmVudHMgfHwgW119XG4gIH1cblxuICBjb25zdHJ1Y3Rvcih2aWV3SWQsIHJlbmRlcmVkKXtcbiAgICB0aGlzLnZpZXdJZCA9IHZpZXdJZFxuICAgIHRoaXMucmVuZGVyZWQgPSB7fVxuICAgIHRoaXMubWVyZ2VEaWZmKHJlbmRlcmVkKVxuICB9XG5cbiAgcGFyZW50Vmlld0lkKCl7IHJldHVybiB0aGlzLnZpZXdJZCB9XG5cbiAgdG9TdHJpbmcob25seUNpZHMpe1xuICAgIGxldCBbc3RyLCBzdHJlYW1zXSA9IHRoaXMucmVjdXJzaXZlVG9TdHJpbmcodGhpcy5yZW5kZXJlZCwgdGhpcy5yZW5kZXJlZFtDT01QT05FTlRTXSwgb25seUNpZHMpXG4gICAgcmV0dXJuIFtzdHIsIHN0cmVhbXNdXG4gIH1cblxuICByZWN1cnNpdmVUb1N0cmluZyhyZW5kZXJlZCwgY29tcG9uZW50cyA9IHJlbmRlcmVkW0NPTVBPTkVOVFNdLCBvbmx5Q2lkcyl7XG4gICAgb25seUNpZHMgPSBvbmx5Q2lkcyA/IG5ldyBTZXQob25seUNpZHMpIDogbnVsbFxuICAgIGxldCBvdXRwdXQgPSB7YnVmZmVyOiBcIlwiLCBjb21wb25lbnRzOiBjb21wb25lbnRzLCBvbmx5Q2lkczogb25seUNpZHMsIHN0cmVhbXM6IG5ldyBTZXQoKX1cbiAgICB0aGlzLnRvT3V0cHV0QnVmZmVyKHJlbmRlcmVkLCBudWxsLCBvdXRwdXQpXG4gICAgcmV0dXJuIFtvdXRwdXQuYnVmZmVyLCBvdXRwdXQuc3RyZWFtc11cbiAgfVxuXG4gIGNvbXBvbmVudENJRHMoZGlmZil7IHJldHVybiBPYmplY3Qua2V5cyhkaWZmW0NPTVBPTkVOVFNdIHx8IHt9KS5tYXAoaSA9PiBwYXJzZUludChpKSkgfVxuXG4gIGlzQ29tcG9uZW50T25seURpZmYoZGlmZil7XG4gICAgaWYoIWRpZmZbQ09NUE9ORU5UU10peyByZXR1cm4gZmFsc2UgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhkaWZmKS5sZW5ndGggPT09IDFcbiAgfVxuXG4gIGdldENvbXBvbmVudChkaWZmLCBjaWQpeyByZXR1cm4gZGlmZltDT01QT05FTlRTXVtjaWRdIH1cblxuICBtZXJnZURpZmYoZGlmZil7XG4gICAgbGV0IG5ld2MgPSBkaWZmW0NPTVBPTkVOVFNdXG4gICAgbGV0IGNhY2hlID0ge31cbiAgICBkZWxldGUgZGlmZltDT01QT05FTlRTXVxuICAgIHRoaXMucmVuZGVyZWQgPSB0aGlzLm11dGFibGVNZXJnZSh0aGlzLnJlbmRlcmVkLCBkaWZmKVxuICAgIHRoaXMucmVuZGVyZWRbQ09NUE9ORU5UU10gPSB0aGlzLnJlbmRlcmVkW0NPTVBPTkVOVFNdIHx8IHt9XG5cbiAgICBpZihuZXdjKXtcbiAgICAgIGxldCBvbGRjID0gdGhpcy5yZW5kZXJlZFtDT01QT05FTlRTXVxuXG4gICAgICBmb3IobGV0IGNpZCBpbiBuZXdjKXtcbiAgICAgICAgbmV3Y1tjaWRdID0gdGhpcy5jYWNoZWRGaW5kQ29tcG9uZW50KGNpZCwgbmV3Y1tjaWRdLCBvbGRjLCBuZXdjLCBjYWNoZSlcbiAgICAgIH1cblxuICAgICAgZm9yKGxldCBjaWQgaW4gbmV3Yyl7IG9sZGNbY2lkXSA9IG5ld2NbY2lkXSB9XG4gICAgICBkaWZmW0NPTVBPTkVOVFNdID0gbmV3Y1xuICAgIH1cbiAgfVxuXG4gIGNhY2hlZEZpbmRDb21wb25lbnQoY2lkLCBjZGlmZiwgb2xkYywgbmV3YywgY2FjaGUpe1xuICAgIGlmKGNhY2hlW2NpZF0pe1xuICAgICAgcmV0dXJuIGNhY2hlW2NpZF1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG5kaWZmLCBzdGF0LCBzY2lkID0gY2RpZmZbU1RBVElDXVxuXG4gICAgICBpZihpc0NpZChzY2lkKSl7XG4gICAgICAgIGxldCB0ZGlmZlxuXG4gICAgICAgIGlmKHNjaWQgPiAwKXtcbiAgICAgICAgICB0ZGlmZiA9IHRoaXMuY2FjaGVkRmluZENvbXBvbmVudChzY2lkLCBuZXdjW3NjaWRdLCBvbGRjLCBuZXdjLCBjYWNoZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZGlmZiA9IG9sZGNbLXNjaWRdXG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ID0gdGRpZmZbU1RBVElDXVxuICAgICAgICBuZGlmZiA9IHRoaXMuY2xvbmVNZXJnZSh0ZGlmZiwgY2RpZmYpXG4gICAgICAgIG5kaWZmW1NUQVRJQ10gPSBzdGF0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZGlmZiA9IGNkaWZmW1NUQVRJQ10gIT09IHVuZGVmaW5lZCA/IGNkaWZmIDogdGhpcy5jbG9uZU1lcmdlKG9sZGNbY2lkXSB8fCB7fSwgY2RpZmYpXG4gICAgICB9XG5cbiAgICAgIGNhY2hlW2NpZF0gPSBuZGlmZlxuICAgICAgcmV0dXJuIG5kaWZmXG4gICAgfVxuICB9XG5cbiAgbXV0YWJsZU1lcmdlKHRhcmdldCwgc291cmNlKXtcbiAgICBpZihzb3VyY2VbU1RBVElDXSAhPT0gdW5kZWZpbmVkKXtcbiAgICAgIHJldHVybiBzb3VyY2VcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kb011dGFibGVNZXJnZSh0YXJnZXQsIHNvdXJjZSlcbiAgICAgIHJldHVybiB0YXJnZXRcbiAgICB9XG4gIH1cblxuICBkb011dGFibGVNZXJnZSh0YXJnZXQsIHNvdXJjZSl7XG4gICAgZm9yKGxldCBrZXkgaW4gc291cmNlKXtcbiAgICAgIGxldCB2YWwgPSBzb3VyY2Vba2V5XVxuICAgICAgbGV0IHRhcmdldFZhbCA9IHRhcmdldFtrZXldXG4gICAgICBsZXQgaXNPYmpWYWwgPSBpc09iamVjdCh2YWwpXG4gICAgICBpZihpc09ialZhbCAmJiB2YWxbU1RBVElDXSA9PT0gdW5kZWZpbmVkICYmIGlzT2JqZWN0KHRhcmdldFZhbCkpe1xuICAgICAgICB0aGlzLmRvTXV0YWJsZU1lcmdlKHRhcmdldFZhbCwgdmFsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbG9uZU1lcmdlKHRhcmdldCwgc291cmNlKXtcbiAgICBsZXQgbWVyZ2VkID0gey4uLnRhcmdldCwgLi4uc291cmNlfVxuICAgIGZvcihsZXQga2V5IGluIG1lcmdlZCl7XG4gICAgICBsZXQgdmFsID0gc291cmNlW2tleV1cbiAgICAgIGxldCB0YXJnZXRWYWwgPSB0YXJnZXRba2V5XVxuICAgICAgaWYoaXNPYmplY3QodmFsKSAmJiB2YWxbU1RBVElDXSA9PT0gdW5kZWZpbmVkICYmIGlzT2JqZWN0KHRhcmdldFZhbCkpe1xuICAgICAgICBtZXJnZWRba2V5XSA9IHRoaXMuY2xvbmVNZXJnZSh0YXJnZXRWYWwsIHZhbClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlZFxuICB9XG5cbiAgY29tcG9uZW50VG9TdHJpbmcoY2lkKXtcbiAgICBsZXQgW3N0ciwgc3RyZWFtc10gPSB0aGlzLnJlY3Vyc2l2ZUNJRFRvU3RyaW5nKHRoaXMucmVuZGVyZWRbQ09NUE9ORU5UU10sIGNpZCwgbnVsbCwgZmFsc2UpXG4gICAgcmV0dXJuIFtzdHIsIHN0cmVhbXNdXG4gIH1cblxuICBwcnVuZUNJRHMoY2lkcyl7XG4gICAgY2lkcy5mb3JFYWNoKGNpZCA9PiBkZWxldGUgdGhpcy5yZW5kZXJlZFtDT01QT05FTlRTXVtjaWRdKVxuICB9XG5cbiAgLy8gcHJpdmF0ZVxuXG4gIGdldCgpeyByZXR1cm4gdGhpcy5yZW5kZXJlZCB9XG5cbiAgaXNOZXdGaW5nZXJwcmludChkaWZmID0ge30peyByZXR1cm4gISFkaWZmW1NUQVRJQ10gfVxuXG4gIHRlbXBsYXRlU3RhdGljKHBhcnQsIHRlbXBsYXRlcyl7XG4gICAgaWYodHlwZW9mIChwYXJ0KSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIHRlbXBsYXRlc1twYXJ0XVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcGFydFxuICAgIH1cbiAgfVxuXG4gIHRvT3V0cHV0QnVmZmVyKHJlbmRlcmVkLCB0ZW1wbGF0ZXMsIG91dHB1dCl7XG4gICAgaWYocmVuZGVyZWRbRFlOQU1JQ1NdKXsgcmV0dXJuIHRoaXMuY29tcHJlaGVuc2lvblRvQnVmZmVyKHJlbmRlcmVkLCB0ZW1wbGF0ZXMsIG91dHB1dCkgfVxuICAgIGxldCB7W1NUQVRJQ106IHN0YXRpY3N9ID0gcmVuZGVyZWRcbiAgICBzdGF0aWNzID0gdGhpcy50ZW1wbGF0ZVN0YXRpYyhzdGF0aWNzLCB0ZW1wbGF0ZXMpXG5cbiAgICBvdXRwdXQuYnVmZmVyICs9IHN0YXRpY3NbMF1cbiAgICBmb3IobGV0IGkgPSAxOyBpIDwgc3RhdGljcy5sZW5ndGg7IGkrKyl7XG4gICAgICB0aGlzLmR5bmFtaWNUb0J1ZmZlcihyZW5kZXJlZFtpIC0gMV0sIHRlbXBsYXRlcywgb3V0cHV0KVxuICAgICAgb3V0cHV0LmJ1ZmZlciArPSBzdGF0aWNzW2ldXG4gICAgfVxuICB9XG5cbiAgY29tcHJlaGVuc2lvblRvQnVmZmVyKHJlbmRlcmVkLCB0ZW1wbGF0ZXMsIG91dHB1dCl7XG4gICAgbGV0IHtbRFlOQU1JQ1NdOiBkeW5hbWljcywgW1NUQVRJQ106IHN0YXRpY3MsIFtTVFJFQU1dOiBzdHJlYW19ID0gcmVuZGVyZWRcbiAgICBsZXQgW19yZWYsIF9pbnNlcnRzLCBkZWxldGVJZHMsIHJlc2V0XSA9IHN0cmVhbSB8fCBbbnVsbCwge30sIFtdLCBudWxsXVxuICAgIHN0YXRpY3MgPSB0aGlzLnRlbXBsYXRlU3RhdGljKHN0YXRpY3MsIHRlbXBsYXRlcylcbiAgICBsZXQgY29tcFRlbXBsYXRlcyA9IHRlbXBsYXRlcyB8fCByZW5kZXJlZFtURU1QTEFURVNdXG4gICAgZm9yKGxldCBkID0gMDsgZCA8IGR5bmFtaWNzLmxlbmd0aDsgZCsrKXtcbiAgICAgIGxldCBkeW5hbWljID0gZHluYW1pY3NbZF1cbiAgICAgIG91dHB1dC5idWZmZXIgKz0gc3RhdGljc1swXVxuICAgICAgZm9yKGxldCBpID0gMTsgaSA8IHN0YXRpY3MubGVuZ3RoOyBpKyspe1xuICAgICAgICB0aGlzLmR5bmFtaWNUb0J1ZmZlcihkeW5hbWljW2kgLSAxXSwgY29tcFRlbXBsYXRlcywgb3V0cHV0KVxuICAgICAgICBvdXRwdXQuYnVmZmVyICs9IHN0YXRpY3NbaV1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZihzdHJlYW0gIT09IHVuZGVmaW5lZCAmJiAocmVuZGVyZWRbRFlOQU1JQ1NdLmxlbmd0aCA+IDAgfHwgZGVsZXRlSWRzLmxlbmd0aCA+IDAgfHwgcmVzZXQpKXtcbiAgICAgIGRlbGV0ZSByZW5kZXJlZFtTVFJFQU1dXG4gICAgICByZW5kZXJlZFtEWU5BTUlDU10gPSBbXVxuICAgICAgb3V0cHV0LnN0cmVhbXMuYWRkKHN0cmVhbSlcbiAgICB9XG4gIH1cblxuICBkeW5hbWljVG9CdWZmZXIocmVuZGVyZWQsIHRlbXBsYXRlcywgb3V0cHV0KXtcbiAgICBpZih0eXBlb2YgKHJlbmRlcmVkKSA9PT0gXCJudW1iZXJcIil7XG4gICAgICBsZXQgW3N0ciwgc3RyZWFtc10gPSB0aGlzLnJlY3Vyc2l2ZUNJRFRvU3RyaW5nKG91dHB1dC5jb21wb25lbnRzLCByZW5kZXJlZCwgb3V0cHV0Lm9ubHlDaWRzKVxuICAgICAgb3V0cHV0LmJ1ZmZlciArPSBzdHJcbiAgICAgIG91dHB1dC5zdHJlYW1zID0gbmV3IFNldChbLi4ub3V0cHV0LnN0cmVhbXMsIC4uLnN0cmVhbXNdKVxuICAgIH0gZWxzZSBpZihpc09iamVjdChyZW5kZXJlZCkpe1xuICAgICAgdGhpcy50b091dHB1dEJ1ZmZlcihyZW5kZXJlZCwgdGVtcGxhdGVzLCBvdXRwdXQpXG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5idWZmZXIgKz0gcmVuZGVyZWRcbiAgICB9XG4gIH1cblxuICByZWN1cnNpdmVDSURUb1N0cmluZyhjb21wb25lbnRzLCBjaWQsIG9ubHlDaWRzLCBhbGxvd1Jvb3RDb21tZW50cyA9IHRydWUpe1xuICAgIGxldCBjb21wb25lbnQgPSBjb21wb25lbnRzW2NpZF0gfHwgbG9nRXJyb3IoYG5vIGNvbXBvbmVudCBmb3IgQ0lEICR7Y2lkfWAsIGNvbXBvbmVudHMpXG4gICAgbGV0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpXG4gICAgbGV0IFtodG1sLCBzdHJlYW1zXSA9IHRoaXMucmVjdXJzaXZlVG9TdHJpbmcoY29tcG9uZW50LCBjb21wb25lbnRzLCBvbmx5Q2lkcylcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sXG4gICAgbGV0IGNvbnRhaW5lciA9IHRlbXBsYXRlLmNvbnRlbnRcbiAgICBsZXQgc2tpcCA9IG9ubHlDaWRzICYmICFvbmx5Q2lkcy5oYXMoY2lkKVxuXG4gICAgbGV0IFtoYXNDaGlsZE5vZGVzLCBoYXNDaGlsZENvbXBvbmVudHNdID1cbiAgICAgIEFycmF5LmZyb20oY29udGFpbmVyLmNoaWxkTm9kZXMpLnJlZHVjZSgoW2hhc05vZGVzLCBoYXNDb21wb25lbnRzXSwgY2hpbGQsIGkpID0+IHtcbiAgICAgICAgaWYoY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKXtcbiAgICAgICAgICBpZihjaGlsZC5nZXRBdHRyaWJ1dGUoUEhYX0NPTVBPTkVOVCkpe1xuICAgICAgICAgICAgcmV0dXJuIFtoYXNOb2RlcywgdHJ1ZV1cbiAgICAgICAgICB9XG4gICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKFBIWF9DT01QT05FTlQsIGNpZClcbiAgICAgICAgICBpZighY2hpbGQuaWQpeyBjaGlsZC5pZCA9IGAke3RoaXMucGFyZW50Vmlld0lkKCl9LSR7Y2lkfS0ke2l9YCB9XG4gICAgICAgICAgaWYoc2tpcCl7XG4gICAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoUEhYX1NLSVAsIFwiXCIpXG4gICAgICAgICAgICBjaGlsZC5pbm5lckhUTUwgPSBcIlwiXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBbdHJ1ZSwgaGFzQ29tcG9uZW50c11cbiAgICAgICAgfSBlbHNlIGlmKGNoaWxkLm5vZGVUeXBlID09PSBOb2RlLkNPTU1FTlRfTk9ERSl7XG4gICAgICAgICAgLy8gd2UgaGF2ZSB0byBzdHJpcCByb290IGNvbW1lbnRzIHdoZW4gcmVuZGVyaW5nIGEgY29tcG9uZW50IGRpcmVjdGx5XG4gICAgICAgICAgLy8gZm9yIHBhdGNoaW5nIGJlY2F1c2UgdGhlIG1vcnBoZG9tIHRhcmdldCBtdXN0IGJlIGV4YWN0bHkgdGhlIHJvb3QgZW50cnlwb2ludFxuICAgICAgICAgIGlmKCFhbGxvd1Jvb3RDb21tZW50cyl7IGNoaWxkLnJlbW92ZSgpIH1cbiAgICAgICAgICByZXR1cm4gW2hhc05vZGVzLCBoYXNDb21wb25lbnRzXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmKGNoaWxkLm5vZGVWYWx1ZS50cmltKCkgIT09IFwiXCIpe1xuICAgICAgICAgICAgbG9nRXJyb3IoXCJvbmx5IEhUTUwgZWxlbWVudCB0YWdzIGFyZSBhbGxvd2VkIGF0IHRoZSByb290IG9mIGNvbXBvbmVudHMuXFxuXFxuXCIgK1xuICAgICAgICAgICAgICBgZ290OiBcIiR7Y2hpbGQubm9kZVZhbHVlLnRyaW0oKX1cIlxcblxcbmAgK1xuICAgICAgICAgICAgICBcIndpdGhpbjpcXG5cIiwgdGVtcGxhdGUuaW5uZXJIVE1MLnRyaW0oKSlcbiAgICAgICAgICAgIGNoaWxkLnJlcGxhY2VXaXRoKHRoaXMuY3JlYXRlU3BhbihjaGlsZC5ub2RlVmFsdWUsIGNpZCkpXG4gICAgICAgICAgICByZXR1cm4gW3RydWUsIGhhc0NvbXBvbmVudHNdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoaWxkLnJlbW92ZSgpXG4gICAgICAgICAgICByZXR1cm4gW2hhc05vZGVzLCBoYXNDb21wb25lbnRzXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgW2ZhbHNlLCBmYWxzZV0pXG5cbiAgICBpZighaGFzQ2hpbGROb2RlcyAmJiAhaGFzQ2hpbGRDb21wb25lbnRzKXtcbiAgICAgIGxvZ0Vycm9yKFwiZXhwZWN0ZWQgYXQgbGVhc3Qgb25lIEhUTUwgZWxlbWVudCB0YWcgaW5zaWRlIGEgY29tcG9uZW50LCBidXQgdGhlIGNvbXBvbmVudCBpcyBlbXB0eTpcXG5cIixcbiAgICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MLnRyaW0oKSlcbiAgICAgIHJldHVybiBbdGhpcy5jcmVhdGVTcGFuKFwiXCIsIGNpZCkub3V0ZXJIVE1MLCBzdHJlYW1zXVxuICAgIH0gZWxzZSBpZighaGFzQ2hpbGROb2RlcyAmJiBoYXNDaGlsZENvbXBvbmVudHMpe1xuICAgICAgbG9nRXJyb3IoXCJleHBlY3RlZCBhdCBsZWFzdCBvbmUgSFRNTCBlbGVtZW50IHRhZyBkaXJlY3RseSBpbnNpZGUgYSBjb21wb25lbnQsIGJ1dCBvbmx5IHN1YmNvbXBvbmVudHMgd2VyZSBmb3VuZC4gQSBjb21wb25lbnQgbXVzdCByZW5kZXIgYXQgbGVhc3Qgb25lIEhUTUwgdGFnIGRpcmVjdGx5IGluc2lkZSBpdHNlbGYuXCIsXG4gICAgICAgIHRlbXBsYXRlLmlubmVySFRNTC50cmltKCkpXG4gICAgICByZXR1cm4gW3RlbXBsYXRlLmlubmVySFRNTCwgc3RyZWFtc11cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFt0ZW1wbGF0ZS5pbm5lckhUTUwsIHN0cmVhbXNdXG4gICAgfVxuICB9XG5cbiAgY3JlYXRlU3Bhbih0ZXh0LCBjaWQpe1xuICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbiAgICBzcGFuLmlubmVyVGV4dCA9IHRleHRcbiAgICBzcGFuLnNldEF0dHJpYnV0ZShQSFhfQ09NUE9ORU5ULCBjaWQpXG4gICAgcmV0dXJuIHNwYW5cbiAgfVxufSIsICJsZXQgdmlld0hvb2tJRCA9IDFcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXdIb29rIHtcbiAgc3RhdGljIG1ha2VJRCgpeyByZXR1cm4gdmlld0hvb2tJRCsrIH1cbiAgc3RhdGljIGVsZW1lbnRJRChlbCl7IHJldHVybiBlbC5waHhIb29rSWQgfVxuXG4gIGNvbnN0cnVjdG9yKHZpZXcsIGVsLCBjYWxsYmFja3Mpe1xuICAgIHRoaXMuX192aWV3ID0gdmlld1xuICAgIHRoaXMubGl2ZVNvY2tldCA9IHZpZXcubGl2ZVNvY2tldFxuICAgIHRoaXMuX19jYWxsYmFja3MgPSBjYWxsYmFja3NcbiAgICB0aGlzLl9fbGlzdGVuZXJzID0gbmV3IFNldCgpXG4gICAgdGhpcy5fX2lzRGlzY29ubmVjdGVkID0gZmFsc2VcbiAgICB0aGlzLmVsID0gZWxcbiAgICB0aGlzLmVsLnBoeEhvb2tJZCA9IHRoaXMuY29uc3RydWN0b3IubWFrZUlEKClcbiAgICBmb3IobGV0IGtleSBpbiB0aGlzLl9fY2FsbGJhY2tzKXsgdGhpc1trZXldID0gdGhpcy5fX2NhbGxiYWNrc1trZXldIH1cbiAgfVxuXG4gIF9fbW91bnRlZCgpeyB0aGlzLm1vdW50ZWQgJiYgdGhpcy5tb3VudGVkKCkgfVxuICBfX3VwZGF0ZWQoKXsgdGhpcy51cGRhdGVkICYmIHRoaXMudXBkYXRlZCgpIH1cbiAgX19iZWZvcmVVcGRhdGUoKXsgdGhpcy5iZWZvcmVVcGRhdGUgJiYgdGhpcy5iZWZvcmVVcGRhdGUoKSB9XG4gIF9fZGVzdHJveWVkKCl7IHRoaXMuZGVzdHJveWVkICYmIHRoaXMuZGVzdHJveWVkKCkgfVxuICBfX3JlY29ubmVjdGVkKCl7XG4gICAgaWYodGhpcy5fX2lzRGlzY29ubmVjdGVkKXtcbiAgICAgIHRoaXMuX19pc0Rpc2Nvbm5lY3RlZCA9IGZhbHNlXG4gICAgICB0aGlzLnJlY29ubmVjdGVkICYmIHRoaXMucmVjb25uZWN0ZWQoKVxuICAgIH1cbiAgfVxuICBfX2Rpc2Nvbm5lY3RlZCgpe1xuICAgIHRoaXMuX19pc0Rpc2Nvbm5lY3RlZCA9IHRydWVcbiAgICB0aGlzLmRpc2Nvbm5lY3RlZCAmJiB0aGlzLmRpc2Nvbm5lY3RlZCgpXG4gIH1cblxuICBwdXNoRXZlbnQoZXZlbnQsIHBheWxvYWQgPSB7fSwgb25SZXBseSA9IGZ1bmN0aW9uICgpeyB9KXtcbiAgICByZXR1cm4gdGhpcy5fX3ZpZXcucHVzaEhvb2tFdmVudCh0aGlzLmVsLCBudWxsLCBldmVudCwgcGF5bG9hZCwgb25SZXBseSlcbiAgfVxuXG4gIHB1c2hFdmVudFRvKHBoeFRhcmdldCwgZXZlbnQsIHBheWxvYWQgPSB7fSwgb25SZXBseSA9IGZ1bmN0aW9uICgpeyB9KXtcbiAgICByZXR1cm4gdGhpcy5fX3ZpZXcud2l0aGluVGFyZ2V0cyhwaHhUYXJnZXQsICh2aWV3LCB0YXJnZXRDdHgpID0+IHtcbiAgICAgIHJldHVybiB2aWV3LnB1c2hIb29rRXZlbnQodGhpcy5lbCwgdGFyZ2V0Q3R4LCBldmVudCwgcGF5bG9hZCwgb25SZXBseSlcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXZlbnQoZXZlbnQsIGNhbGxiYWNrKXtcbiAgICBsZXQgY2FsbGJhY2tSZWYgPSAoY3VzdG9tRXZlbnQsIGJ5cGFzcykgPT4gYnlwYXNzID8gZXZlbnQgOiBjYWxsYmFjayhjdXN0b21FdmVudC5kZXRhaWwpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYHBoeDoke2V2ZW50fWAsIGNhbGxiYWNrUmVmKVxuICAgIHRoaXMuX19saXN0ZW5lcnMuYWRkKGNhbGxiYWNrUmVmKVxuICAgIHJldHVybiBjYWxsYmFja1JlZlxuICB9XG5cbiAgcmVtb3ZlSGFuZGxlRXZlbnQoY2FsbGJhY2tSZWYpe1xuICAgIGxldCBldmVudCA9IGNhbGxiYWNrUmVmKG51bGwsIHRydWUpXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoYHBoeDoke2V2ZW50fWAsIGNhbGxiYWNrUmVmKVxuICAgIHRoaXMuX19saXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrUmVmKVxuICB9XG5cbiAgdXBsb2FkKG5hbWUsIGZpbGVzKXtcbiAgICByZXR1cm4gdGhpcy5fX3ZpZXcuZGlzcGF0Y2hVcGxvYWRzKG51bGwsIG5hbWUsIGZpbGVzKVxuICB9XG5cbiAgdXBsb2FkVG8ocGh4VGFyZ2V0LCBuYW1lLCBmaWxlcyl7XG4gICAgcmV0dXJuIHRoaXMuX192aWV3LndpdGhpblRhcmdldHMocGh4VGFyZ2V0LCAodmlldywgdGFyZ2V0Q3R4KSA9PiB7XG4gICAgICB2aWV3LmRpc3BhdGNoVXBsb2Fkcyh0YXJnZXRDdHgsIG5hbWUsIGZpbGVzKVxuICAgIH0pXG4gIH1cblxuICBfX2NsZWFudXBfXygpe1xuICAgIHRoaXMuX19saXN0ZW5lcnMuZm9yRWFjaChjYWxsYmFja1JlZiA9PiB0aGlzLnJlbW92ZUhhbmRsZUV2ZW50KGNhbGxiYWNrUmVmKSlcbiAgfVxufVxuIiwgImltcG9ydCBET00gZnJvbSBcIi4vZG9tXCJcbmltcG9ydCBBUklBIGZyb20gXCIuL2FyaWFcIlxuXG5sZXQgZm9jdXNTdGFjayA9IG51bGxcblxubGV0IEpTID0ge1xuICBleGVjKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBkZWZhdWx0cyl7XG4gICAgbGV0IFtkZWZhdWx0S2luZCwgZGVmYXVsdEFyZ3NdID0gZGVmYXVsdHMgfHwgW251bGwsIHtjYWxsYmFjazogZGVmYXVsdHMgJiYgZGVmYXVsdHMuY2FsbGJhY2t9XVxuICAgIGxldCBjb21tYW5kcyA9IHBoeEV2ZW50LmNoYXJBdCgwKSA9PT0gXCJbXCIgP1xuICAgICAgSlNPTi5wYXJzZShwaHhFdmVudCkgOiBbW2RlZmF1bHRLaW5kLCBkZWZhdWx0QXJnc11dXG5cblxuXG4gICAgY29tbWFuZHMuZm9yRWFjaCgoW2tpbmQsIGFyZ3NdKSA9PiB7XG4gICAgICBpZihraW5kID09PSBkZWZhdWx0S2luZCAmJiBkZWZhdWx0QXJncy5kYXRhKXtcbiAgICAgICAgYXJncy5kYXRhID0gT2JqZWN0LmFzc2lnbihhcmdzLmRhdGEgfHwge30sIGRlZmF1bHRBcmdzLmRhdGEpXG4gICAgICAgIGFyZ3MuY2FsbGJhY2sgPSBhcmdzLmNhbGxiYWNrIHx8IGRlZmF1bHRBcmdzLmNhbGxiYWNrXG4gICAgICB9XG4gICAgICB0aGlzLmZpbHRlclRvRWxzKHNvdXJjZUVsLCBhcmdzKS5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgdGhpc1tgZXhlY18ke2tpbmR9YF0oZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCBhcmdzKVxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuXG4gIGlzVmlzaWJsZShlbCl7XG4gICAgcmV0dXJuICEhKGVsLm9mZnNldFdpZHRoIHx8IGVsLm9mZnNldEhlaWdodCB8fCBlbC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCA+IDApXG4gIH0sXG5cbiAgLy8gcHJpdmF0ZVxuXG4gIC8vIGNvbW1hbmRzXG5cbiAgZXhlY19leGVjKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwgW2F0dHIsIHRvXSl7XG4gICAgbGV0IG5vZGVzID0gdG8gPyBET00uYWxsKGRvY3VtZW50LCB0bykgOiBbc291cmNlRWxdXG4gICAgbm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgIGxldCBlbmNvZGVkSlMgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyKVxuICAgICAgaWYoIWVuY29kZWRKUyl7IHRocm93IG5ldyBFcnJvcihgZXhwZWN0ZWQgJHthdHRyfSB0byBjb250YWluIEpTIGNvbW1hbmQgb24gXCIke3RvfVwiYCkgfVxuICAgICAgdmlldy5saXZlU29ja2V0LmV4ZWNKUyhub2RlLCBlbmNvZGVkSlMsIGV2ZW50VHlwZSlcbiAgICB9KVxuICB9LFxuXG4gIGV4ZWNfZGlzcGF0Y2goZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7dG8sIGV2ZW50LCBkZXRhaWwsIGJ1YmJsZXN9KXtcbiAgICBkZXRhaWwgPSBkZXRhaWwgfHwge31cbiAgICBkZXRhaWwuZGlzcGF0Y2hlciA9IHNvdXJjZUVsXG4gICAgRE9NLmRpc3BhdGNoRXZlbnQoZWwsIGV2ZW50LCB7ZGV0YWlsLCBidWJibGVzfSlcbiAgfSxcblxuICBleGVjX3B1c2goZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCBhcmdzKXtcbiAgICBpZighdmlldy5pc0Nvbm5lY3RlZCgpKXsgcmV0dXJuIH1cblxuICAgIGxldCB7ZXZlbnQsIGRhdGEsIHRhcmdldCwgcGFnZV9sb2FkaW5nLCBsb2FkaW5nLCB2YWx1ZSwgZGlzcGF0Y2hlciwgY2FsbGJhY2t9ID0gYXJnc1xuICAgIGxldCBwdXNoT3B0cyA9IHtsb2FkaW5nLCB2YWx1ZSwgdGFyZ2V0LCBwYWdlX2xvYWRpbmc6ICEhcGFnZV9sb2FkaW5nfVxuICAgIGxldCB0YXJnZXRTcmMgPSBldmVudFR5cGUgPT09IFwiY2hhbmdlXCIgJiYgZGlzcGF0Y2hlciA/IGRpc3BhdGNoZXIgOiBzb3VyY2VFbFxuICAgIGxldCBwaHhUYXJnZXQgPSB0YXJnZXQgfHwgdGFyZ2V0U3JjLmdldEF0dHJpYnV0ZSh2aWV3LmJpbmRpbmcoXCJ0YXJnZXRcIikpIHx8IHRhcmdldFNyY1xuICAgIHZpZXcud2l0aGluVGFyZ2V0cyhwaHhUYXJnZXQsICh0YXJnZXRWaWV3LCB0YXJnZXRDdHgpID0+IHtcbiAgICAgIGlmKGV2ZW50VHlwZSA9PT0gXCJjaGFuZ2VcIil7XG4gICAgICAgIGxldCB7bmV3Q2lkLCBfdGFyZ2V0fSA9IGFyZ3NcbiAgICAgICAgX3RhcmdldCA9IF90YXJnZXQgfHwgKERPTS5pc0Zvcm1JbnB1dChzb3VyY2VFbCkgPyBzb3VyY2VFbC5uYW1lIDogdW5kZWZpbmVkKVxuICAgICAgICBpZihfdGFyZ2V0KXsgcHVzaE9wdHMuX3RhcmdldCA9IF90YXJnZXQgfVxuICAgICAgICB0YXJnZXRWaWV3LnB1c2hJbnB1dChzb3VyY2VFbCwgdGFyZ2V0Q3R4LCBuZXdDaWQsIGV2ZW50IHx8IHBoeEV2ZW50LCBwdXNoT3B0cywgY2FsbGJhY2spXG4gICAgICB9IGVsc2UgaWYoZXZlbnRUeXBlID09PSBcInN1Ym1pdFwiKXtcbiAgICAgICAgbGV0IHtzdWJtaXR0ZXJ9ID0gYXJnc1xuICAgICAgICB0YXJnZXRWaWV3LnN1Ym1pdEZvcm0oc291cmNlRWwsIHRhcmdldEN0eCwgZXZlbnQgfHwgcGh4RXZlbnQsIHN1Ym1pdHRlciwgcHVzaE9wdHMsIGNhbGxiYWNrKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0Vmlldy5wdXNoRXZlbnQoZXZlbnRUeXBlLCBzb3VyY2VFbCwgdGFyZ2V0Q3R4LCBldmVudCB8fCBwaHhFdmVudCwgZGF0YSwgcHVzaE9wdHMsIGNhbGxiYWNrKVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG5cbiAgZXhlY19uYXZpZ2F0ZShldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwsIHtocmVmLCByZXBsYWNlfSl7XG4gICAgdmlldy5saXZlU29ja2V0Lmhpc3RvcnlSZWRpcmVjdChocmVmLCByZXBsYWNlID8gXCJyZXBsYWNlXCIgOiBcInB1c2hcIilcbiAgfSxcblxuICBleGVjX3BhdGNoKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwge2hyZWYsIHJlcGxhY2V9KXtcbiAgICB2aWV3LmxpdmVTb2NrZXQucHVzaEhpc3RvcnlQYXRjaChocmVmLCByZXBsYWNlID8gXCJyZXBsYWNlXCIgOiBcInB1c2hcIiwgc291cmNlRWwpXG4gIH0sXG5cbiAgZXhlY19mb2N1cyhldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwpe1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gQVJJQS5hdHRlbXB0Rm9jdXMoZWwpKVxuICB9LFxuXG4gIGV4ZWNfZm9jdXNfZmlyc3QoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsKXtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IEFSSUEuZm9jdXNGaXJzdEludGVyYWN0aXZlKGVsKSB8fCBBUklBLmZvY3VzRmlyc3QoZWwpKVxuICB9LFxuXG4gIGV4ZWNfcHVzaF9mb2N1cyhldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwpe1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gZm9jdXNTdGFjayA9IGVsIHx8IHNvdXJjZUVsKVxuICB9LFxuXG4gIGV4ZWNfcG9wX2ZvY3VzKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCl7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBpZihmb2N1c1N0YWNrKXsgZm9jdXNTdGFjay5mb2N1cygpIH1cbiAgICAgIGZvY3VzU3RhY2sgPSBudWxsXG4gICAgfSlcbiAgfSxcblxuICBleGVjX2FkZF9jbGFzcyhldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwsIHtuYW1lcywgdHJhbnNpdGlvbiwgdGltZX0pe1xuICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBuYW1lcywgW10sIHRyYW5zaXRpb24sIHRpbWUsIHZpZXcpXG4gIH0sXG5cbiAgZXhlY19yZW1vdmVfY2xhc3MoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7bmFtZXMsIHRyYW5zaXRpb24sIHRpbWV9KXtcbiAgICB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgW10sIG5hbWVzLCB0cmFuc2l0aW9uLCB0aW1lLCB2aWV3KVxuICB9LFxuXG4gIGV4ZWNfdHJhbnNpdGlvbihldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwsIHt0aW1lLCB0cmFuc2l0aW9ufSl7XG4gICAgdGhpcy5hZGRPclJlbW92ZUNsYXNzZXMoZWwsIFtdLCBbXSwgdHJhbnNpdGlvbiwgdGltZSwgdmlldylcbiAgfSxcblxuICBleGVjX3RvZ2dsZShldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwsIHtkaXNwbGF5LCBpbnMsIG91dHMsIHRpbWV9KXtcbiAgICB0aGlzLnRvZ2dsZShldmVudFR5cGUsIHZpZXcsIGVsLCBkaXNwbGF5LCBpbnMsIG91dHMsIHRpbWUpXG4gIH0sXG5cbiAgZXhlY19zaG93KGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwge2Rpc3BsYXksIHRyYW5zaXRpb24sIHRpbWV9KXtcbiAgICB0aGlzLnNob3coZXZlbnRUeXBlLCB2aWV3LCBlbCwgZGlzcGxheSwgdHJhbnNpdGlvbiwgdGltZSlcbiAgfSxcblxuICBleGVjX2hpZGUoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7ZGlzcGxheSwgdHJhbnNpdGlvbiwgdGltZX0pe1xuICAgIHRoaXMuaGlkZShldmVudFR5cGUsIHZpZXcsIGVsLCBkaXNwbGF5LCB0cmFuc2l0aW9uLCB0aW1lKVxuICB9LFxuXG4gIGV4ZWNfc2V0X2F0dHIoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7YXR0cjogW2F0dHIsIHZhbF19KXtcbiAgICB0aGlzLnNldE9yUmVtb3ZlQXR0cnMoZWwsIFtbYXR0ciwgdmFsXV0sIFtdKVxuICB9LFxuXG4gIGV4ZWNfcmVtb3ZlX2F0dHIoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7YXR0cn0pe1xuICAgIHRoaXMuc2V0T3JSZW1vdmVBdHRycyhlbCwgW10sIFthdHRyXSlcbiAgfSxcblxuICAvLyB1dGlscyBmb3IgY29tbWFuZHNcblxuICBzaG93KGV2ZW50VHlwZSwgdmlldywgZWwsIGRpc3BsYXksIHRyYW5zaXRpb24sIHRpbWUpe1xuICAgIGlmKCF0aGlzLmlzVmlzaWJsZShlbCkpe1xuICAgICAgdGhpcy50b2dnbGUoZXZlbnRUeXBlLCB2aWV3LCBlbCwgZGlzcGxheSwgdHJhbnNpdGlvbiwgbnVsbCwgdGltZSlcbiAgICB9XG4gIH0sXG5cbiAgaGlkZShldmVudFR5cGUsIHZpZXcsIGVsLCBkaXNwbGF5LCB0cmFuc2l0aW9uLCB0aW1lKXtcbiAgICBpZih0aGlzLmlzVmlzaWJsZShlbCkpe1xuICAgICAgdGhpcy50b2dnbGUoZXZlbnRUeXBlLCB2aWV3LCBlbCwgZGlzcGxheSwgbnVsbCwgdHJhbnNpdGlvbiwgdGltZSlcbiAgICB9XG4gIH0sXG5cbiAgdG9nZ2xlKGV2ZW50VHlwZSwgdmlldywgZWwsIGRpc3BsYXksIGlucywgb3V0cywgdGltZSl7XG4gICAgbGV0IFtpbkNsYXNzZXMsIGluU3RhcnRDbGFzc2VzLCBpbkVuZENsYXNzZXNdID0gaW5zIHx8IFtbXSwgW10sIFtdXVxuICAgIGxldCBbb3V0Q2xhc3Nlcywgb3V0U3RhcnRDbGFzc2VzLCBvdXRFbmRDbGFzc2VzXSA9IG91dHMgfHwgW1tdLCBbXSwgW11dXG4gICAgaWYoaW5DbGFzc2VzLmxlbmd0aCA+IDAgfHwgb3V0Q2xhc3Nlcy5sZW5ndGggPiAwKXtcbiAgICAgIGlmKHRoaXMuaXNWaXNpYmxlKGVsKSl7XG4gICAgICAgIGxldCBvblN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBvdXRTdGFydENsYXNzZXMsIGluQ2xhc3Nlcy5jb25jYXQoaW5TdGFydENsYXNzZXMpLmNvbmNhdChpbkVuZENsYXNzZXMpKVxuICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hZGRPclJlbW92ZUNsYXNzZXMoZWwsIG91dENsYXNzZXMsIFtdKVxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgb3V0RW5kQ2xhc3Nlcywgb3V0U3RhcnRDbGFzc2VzKSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwicGh4OmhpZGUtc3RhcnRcIikpXG4gICAgICAgIHZpZXcudHJhbnNpdGlvbih0aW1lLCBvblN0YXJ0LCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5hZGRPclJlbW92ZUNsYXNzZXMoZWwsIFtdLCBvdXRDbGFzc2VzLmNvbmNhdChvdXRFbmRDbGFzc2VzKSlcbiAgICAgICAgICBET00ucHV0U3RpY2t5KGVsLCBcInRvZ2dsZVwiLCBjdXJyZW50RWwgPT4gY3VycmVudEVsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIilcbiAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInBoeDpoaWRlLWVuZFwiKSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmKGV2ZW50VHlwZSA9PT0gXCJyZW1vdmVcIil7IHJldHVybiB9XG4gICAgICAgIGxldCBvblN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBpblN0YXJ0Q2xhc3Nlcywgb3V0Q2xhc3Nlcy5jb25jYXQob3V0U3RhcnRDbGFzc2VzKS5jb25jYXQob3V0RW5kQ2xhc3NlcykpXG4gICAgICAgICAgbGV0IHN0aWNreURpc3BsYXkgPSBkaXNwbGF5IHx8IHRoaXMuZGVmYXVsdERpc3BsYXkoZWwpXG4gICAgICAgICAgRE9NLnB1dFN0aWNreShlbCwgXCJ0b2dnbGVcIiwgY3VycmVudEVsID0+IGN1cnJlbnRFbC5zdHlsZS5kaXNwbGF5ID0gc3RpY2t5RGlzcGxheSlcbiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBpbkNsYXNzZXMsIFtdKVxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgaW5FbmRDbGFzc2VzLCBpblN0YXJ0Q2xhc3NlcykpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInBoeDpzaG93LXN0YXJ0XCIpKVxuICAgICAgICB2aWV3LnRyYW5zaXRpb24odGltZSwgb25TdGFydCwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBbXSwgaW5DbGFzc2VzLmNvbmNhdChpbkVuZENsYXNzZXMpKVxuICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwicGh4OnNob3ctZW5kXCIpKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZih0aGlzLmlzVmlzaWJsZShlbCkpe1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInBoeDpoaWRlLXN0YXJ0XCIpKVxuICAgICAgICAgIERPTS5wdXRTdGlja3koZWwsIFwidG9nZ2xlXCIsIGN1cnJlbnRFbCA9PiBjdXJyZW50RWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiKVxuICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwicGh4OmhpZGUtZW5kXCIpKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJwaHg6c2hvdy1zdGFydFwiKSlcbiAgICAgICAgICBsZXQgc3RpY2t5RGlzcGxheSA9IGRpc3BsYXkgfHwgdGhpcy5kZWZhdWx0RGlzcGxheShlbClcbiAgICAgICAgICBET00ucHV0U3RpY2t5KGVsLCBcInRvZ2dsZVwiLCBjdXJyZW50RWwgPT4gY3VycmVudEVsLnN0eWxlLmRpc3BsYXkgPSBzdGlja3lEaXNwbGF5KVxuICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwicGh4OnNob3ctZW5kXCIpKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBhZGRPclJlbW92ZUNsYXNzZXMoZWwsIGFkZHMsIHJlbW92ZXMsIHRyYW5zaXRpb24sIHRpbWUsIHZpZXcpe1xuICAgIGxldCBbdHJhbnNpdGlvblJ1biwgdHJhbnNpdGlvblN0YXJ0LCB0cmFuc2l0aW9uRW5kXSA9IHRyYW5zaXRpb24gfHwgW1tdLCBbXSwgW11dXG4gICAgaWYodHJhbnNpdGlvblJ1bi5sZW5ndGggPiAwKXtcbiAgICAgIGxldCBvblN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgdHJhbnNpdGlvblN0YXJ0LCBbXS5jb25jYXQodHJhbnNpdGlvblJ1bikuY29uY2F0KHRyYW5zaXRpb25FbmQpKVxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgdHJhbnNpdGlvblJ1biwgW10pXG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgdHJhbnNpdGlvbkVuZCwgdHJhbnNpdGlvblN0YXJ0KSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGxldCBvbkRvbmUgPSAoKSA9PiB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgYWRkcy5jb25jYXQodHJhbnNpdGlvbkVuZCksIHJlbW92ZXMuY29uY2F0KHRyYW5zaXRpb25SdW4pLmNvbmNhdCh0cmFuc2l0aW9uU3RhcnQpKVxuICAgICAgcmV0dXJuIHZpZXcudHJhbnNpdGlvbih0aW1lLCBvblN0YXJ0LCBvbkRvbmUpXG4gICAgfVxuXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBsZXQgW3ByZXZBZGRzLCBwcmV2UmVtb3Zlc10gPSBET00uZ2V0U3RpY2t5KGVsLCBcImNsYXNzZXNcIiwgW1tdLCBbXV0pXG4gICAgICBsZXQga2VlcEFkZHMgPSBhZGRzLmZpbHRlcihuYW1lID0+IHByZXZBZGRzLmluZGV4T2YobmFtZSkgPCAwICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMobmFtZSkpXG4gICAgICBsZXQga2VlcFJlbW92ZXMgPSByZW1vdmVzLmZpbHRlcihuYW1lID0+IHByZXZSZW1vdmVzLmluZGV4T2YobmFtZSkgPCAwICYmIGVsLmNsYXNzTGlzdC5jb250YWlucyhuYW1lKSlcbiAgICAgIGxldCBuZXdBZGRzID0gcHJldkFkZHMuZmlsdGVyKG5hbWUgPT4gcmVtb3Zlcy5pbmRleE9mKG5hbWUpIDwgMCkuY29uY2F0KGtlZXBBZGRzKVxuICAgICAgbGV0IG5ld1JlbW92ZXMgPSBwcmV2UmVtb3Zlcy5maWx0ZXIobmFtZSA9PiBhZGRzLmluZGV4T2YobmFtZSkgPCAwKS5jb25jYXQoa2VlcFJlbW92ZXMpXG5cbiAgICAgIERPTS5wdXRTdGlja3koZWwsIFwiY2xhc3Nlc1wiLCBjdXJyZW50RWwgPT4ge1xuICAgICAgICBjdXJyZW50RWwuY2xhc3NMaXN0LnJlbW92ZSguLi5uZXdSZW1vdmVzKVxuICAgICAgICBjdXJyZW50RWwuY2xhc3NMaXN0LmFkZCguLi5uZXdBZGRzKVxuICAgICAgICByZXR1cm4gW25ld0FkZHMsIG5ld1JlbW92ZXNdXG4gICAgICB9KVxuICAgIH0pXG4gIH0sXG5cbiAgc2V0T3JSZW1vdmVBdHRycyhlbCwgc2V0cywgcmVtb3Zlcyl7XG4gICAgbGV0IFtwcmV2U2V0cywgcHJldlJlbW92ZXNdID0gRE9NLmdldFN0aWNreShlbCwgXCJhdHRyc1wiLCBbW10sIFtdXSlcblxuICAgIGxldCBhbHRlcmVkQXR0cnMgPSBzZXRzLm1hcCgoW2F0dHIsIF92YWxdKSA9PiBhdHRyKS5jb25jYXQocmVtb3Zlcyk7XG4gICAgbGV0IG5ld1NldHMgPSBwcmV2U2V0cy5maWx0ZXIoKFthdHRyLCBfdmFsXSkgPT4gIWFsdGVyZWRBdHRycy5pbmNsdWRlcyhhdHRyKSkuY29uY2F0KHNldHMpO1xuICAgIGxldCBuZXdSZW1vdmVzID0gcHJldlJlbW92ZXMuZmlsdGVyKChhdHRyKSA9PiAhYWx0ZXJlZEF0dHJzLmluY2x1ZGVzKGF0dHIpKS5jb25jYXQocmVtb3Zlcyk7XG5cbiAgICBET00ucHV0U3RpY2t5KGVsLCBcImF0dHJzXCIsIGN1cnJlbnRFbCA9PiB7XG4gICAgICBuZXdSZW1vdmVzLmZvckVhY2goYXR0ciA9PiBjdXJyZW50RWwucmVtb3ZlQXR0cmlidXRlKGF0dHIpKVxuICAgICAgbmV3U2V0cy5mb3JFYWNoKChbYXR0ciwgdmFsXSkgPT4gY3VycmVudEVsLnNldEF0dHJpYnV0ZShhdHRyLCB2YWwpKVxuICAgICAgcmV0dXJuIFtuZXdTZXRzLCBuZXdSZW1vdmVzXVxuICAgIH0pXG4gIH0sXG5cbiAgaGFzQWxsQ2xhc3NlcyhlbCwgY2xhc3Nlcyl7IHJldHVybiBjbGFzc2VzLmV2ZXJ5KG5hbWUgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKG5hbWUpKSB9LFxuXG4gIGlzVG9nZ2xlZE91dChlbCwgb3V0Q2xhc3Nlcyl7XG4gICAgcmV0dXJuICF0aGlzLmlzVmlzaWJsZShlbCkgfHwgdGhpcy5oYXNBbGxDbGFzc2VzKGVsLCBvdXRDbGFzc2VzKVxuICB9LFxuXG4gIGZpbHRlclRvRWxzKHNvdXJjZUVsLCB7dG99KXtcbiAgICByZXR1cm4gdG8gPyBET00uYWxsKGRvY3VtZW50LCB0bykgOiBbc291cmNlRWxdXG4gIH0sXG5cbiAgZGVmYXVsdERpc3BsYXkoZWwpe1xuICAgIHJldHVybiB7dHI6IFwidGFibGUtcm93XCIsIHRkOiBcInRhYmxlLWNlbGxcIn1bZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpXSB8fCBcImJsb2NrXCJcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBKUyIsICJpbXBvcnQge1xuICBCRUZPUkVfVU5MT0FEX0xPQURFUl9USU1FT1VULFxuICBDSEVDS0FCTEVfSU5QVVRTLFxuICBDT05TRUNVVElWRV9SRUxPQURTLFxuICBQSFhfQVVUT19SRUNPVkVSLFxuICBQSFhfQ09NUE9ORU5ULFxuICBQSFhfQ09OTkVDVEVEX0NMQVNTLFxuICBQSFhfRElTQUJMRV9XSVRILFxuICBQSFhfRElTQUJMRV9XSVRIX1JFU1RPUkUsXG4gIFBIWF9ESVNBQkxFRCxcbiAgUEhYX0xPQURJTkdfQ0xBU1MsXG4gIFBIWF9FVkVOVF9DTEFTU0VTLFxuICBQSFhfRVJST1JfQ0xBU1MsXG4gIFBIWF9DTElFTlRfRVJST1JfQ0xBU1MsXG4gIFBIWF9TRVJWRVJfRVJST1JfQ0xBU1MsXG4gIFBIWF9GRUVEQkFDS19GT1IsXG4gIFBIWF9IQVNfU1VCTUlUVEVELFxuICBQSFhfSE9PSyxcbiAgUEhYX1BBR0VfTE9BRElORyxcbiAgUEhYX1BBUkVOVF9JRCxcbiAgUEhYX1BST0dSRVNTLFxuICBQSFhfUkVBRE9OTFksXG4gIFBIWF9SRUYsXG4gIFBIWF9SRUZfU1JDLFxuICBQSFhfUk9PVF9JRCxcbiAgUEhYX1NFU1NJT04sXG4gIFBIWF9TVEFUSUMsXG4gIFBIWF9UUkFDS19TVEFUSUMsXG4gIFBIWF9UUkFDS19VUExPQURTLFxuICBQSFhfVVBEQVRFLFxuICBQSFhfVVBMT0FEX1JFRixcbiAgUEhYX1ZJRVdfU0VMRUNUT1IsXG4gIFBIWF9NQUlOLFxuICBQSFhfTU9VTlRFRCxcbiAgUFVTSF9USU1FT1VULFxuICBQSFhfVklFV1BPUlRfVE9QLFxuICBQSFhfVklFV1BPUlRfQk9UVE9NLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQge1xuICBjbG9uZSxcbiAgY2xvc2VzdFBoeEJpbmRpbmcsXG4gIGlzRW1wdHksXG4gIGlzRXF1YWxPYmosXG4gIGxvZ0Vycm9yLFxuICBtYXliZSxcbiAgaXNDaWQsXG59IGZyb20gXCIuL3V0aWxzXCJcblxuaW1wb3J0IEJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5pbXBvcnQgRE9NIGZyb20gXCIuL2RvbVwiXG5pbXBvcnQgRE9NUGF0Y2ggZnJvbSBcIi4vZG9tX3BhdGNoXCJcbmltcG9ydCBMaXZlVXBsb2FkZXIgZnJvbSBcIi4vbGl2ZV91cGxvYWRlclwiXG5pbXBvcnQgUmVuZGVyZWQgZnJvbSBcIi4vcmVuZGVyZWRcIlxuaW1wb3J0IFZpZXdIb29rIGZyb20gXCIuL3ZpZXdfaG9va1wiXG5pbXBvcnQgSlMgZnJvbSBcIi4vanNcIlxuXG5sZXQgc2VyaWFsaXplRm9ybSA9IChmb3JtLCBtZXRhZGF0YSwgb25seU5hbWVzID0gW10pID0+IHtcbiAgbGV0IHtzdWJtaXR0ZXIsIC4uLm1ldGF9ID0gbWV0YWRhdGFcblxuICAvLyBUT0RPOiBSZXBsYWNlIHdpdGggYG5ldyBGb3JtRGF0YShmb3JtLCBzdWJtaXR0ZXIpYCB3aGVuIHN1cHBvcnRlZCBieSBsYXRlc3QgYnJvd3NlcnMsXG4gIC8vICAgICAgIGFuZCBtZW50aW9uIGBmb3JtZGF0YS1zdWJtaXR0ZXItcG9seWZpbGxgIGluIHRoZSBkb2NzLlxuICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSlcblxuICAvLyBUT0RPOiBSZW1vdmUgd2hlbiBGb3JtRGF0YSBjb25zdHJ1Y3RvciBzdXBwb3J0cyB0aGUgc3VibWl0dGVyIGFyZ3VtZW50LlxuICBpZihzdWJtaXR0ZXIgJiYgc3VibWl0dGVyLmhhc0F0dHJpYnV0ZShcIm5hbWVcIikgJiYgc3VibWl0dGVyLmZvcm0gJiYgc3VibWl0dGVyLmZvcm0gPT09IGZvcm0pe1xuICAgIGZvcm1EYXRhLmFwcGVuZChzdWJtaXR0ZXIubmFtZSwgc3VibWl0dGVyLnZhbHVlKVxuICB9XG5cbiAgbGV0IHRvUmVtb3ZlID0gW11cblxuICBmb3JtRGF0YS5mb3JFYWNoKCh2YWwsIGtleSwgX2luZGV4KSA9PiB7XG4gICAgaWYodmFsIGluc3RhbmNlb2YgRmlsZSl7IHRvUmVtb3ZlLnB1c2goa2V5KSB9XG4gIH0pXG5cbiAgLy8gQ2xlYW51cCBhZnRlciBidWlsZGluZyBmaWxlRGF0YVxuICB0b1JlbW92ZS5mb3JFYWNoKGtleSA9PiBmb3JtRGF0YS5kZWxldGUoa2V5KSlcblxuICBsZXQgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpXG4gIGZvcihsZXQgW2tleSwgdmFsXSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpe1xuICAgIGlmKG9ubHlOYW1lcy5sZW5ndGggPT09IDAgfHwgb25seU5hbWVzLmluZGV4T2Yoa2V5KSA+PSAwKXtcbiAgICAgIHBhcmFtcy5hcHBlbmQoa2V5LCB2YWwpXG4gICAgfVxuICB9XG4gIGZvcihsZXQgbWV0YUtleSBpbiBtZXRhKXsgcGFyYW1zLmFwcGVuZChtZXRhS2V5LCBtZXRhW21ldGFLZXldKSB9XG5cbiAgcmV0dXJuIHBhcmFtcy50b1N0cmluZygpXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXcge1xuICBjb25zdHJ1Y3RvcihlbCwgbGl2ZVNvY2tldCwgcGFyZW50VmlldywgZmxhc2gsIGxpdmVSZWZlcmVyKXtcbiAgICB0aGlzLmlzRGVhZCA9IGZhbHNlXG4gICAgdGhpcy5saXZlU29ja2V0ID0gbGl2ZVNvY2tldFxuICAgIHRoaXMuZmxhc2ggPSBmbGFzaFxuICAgIHRoaXMucGFyZW50ID0gcGFyZW50Vmlld1xuICAgIHRoaXMucm9vdCA9IHBhcmVudFZpZXcgPyBwYXJlbnRWaWV3LnJvb3QgOiB0aGlzXG4gICAgdGhpcy5lbCA9IGVsXG4gICAgdGhpcy5pZCA9IHRoaXMuZWwuaWRcbiAgICB0aGlzLnJlZiA9IDBcbiAgICB0aGlzLmNoaWxkSm9pbnMgPSAwXG4gICAgdGhpcy5sb2FkZXJUaW1lciA9IG51bGxcbiAgICB0aGlzLnBlbmRpbmdEaWZmcyA9IFtdXG4gICAgdGhpcy5wcnVuaW5nQ0lEcyA9IFtdXG4gICAgdGhpcy5yZWRpcmVjdCA9IGZhbHNlXG4gICAgdGhpcy5ocmVmID0gbnVsbFxuICAgIHRoaXMuam9pbkNvdW50ID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5qb2luQ291bnQgLSAxIDogMFxuICAgIHRoaXMuam9pblBlbmRpbmcgPSB0cnVlXG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZVxuICAgIHRoaXMuam9pbkNhbGxiYWNrID0gZnVuY3Rpb24ob25Eb25lKXsgb25Eb25lICYmIG9uRG9uZSgpIH1cbiAgICB0aGlzLnN0b3BDYWxsYmFjayA9IGZ1bmN0aW9uKCl7IH1cbiAgICB0aGlzLnBlbmRpbmdKb2luT3BzID0gdGhpcy5wYXJlbnQgPyBudWxsIDogW11cbiAgICB0aGlzLnZpZXdIb29rcyA9IHt9XG4gICAgdGhpcy51cGxvYWRlcnMgPSB7fVxuICAgIHRoaXMuZm9ybVN1Ym1pdHMgPSBbXVxuICAgIHRoaXMuY2hpbGRyZW4gPSB0aGlzLnBhcmVudCA/IG51bGwgOiB7fVxuICAgIHRoaXMucm9vdC5jaGlsZHJlblt0aGlzLmlkXSA9IHt9XG4gICAgdGhpcy5jaGFubmVsID0gdGhpcy5saXZlU29ja2V0LmNoYW5uZWwoYGx2OiR7dGhpcy5pZH1gLCAoKSA9PiB7XG4gICAgICBsZXQgdXJsID0gdGhpcy5ocmVmICYmIHRoaXMuZXhwYW5kVVJMKHRoaXMuaHJlZilcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlZGlyZWN0OiB0aGlzLnJlZGlyZWN0ID8gdXJsIDogdW5kZWZpbmVkLFxuICAgICAgICB1cmw6IHRoaXMucmVkaXJlY3QgPyB1bmRlZmluZWQgOiB1cmwgfHwgdW5kZWZpbmVkLFxuICAgICAgICBwYXJhbXM6IHRoaXMuY29ubmVjdFBhcmFtcyhsaXZlUmVmZXJlciksXG4gICAgICAgIHNlc3Npb246IHRoaXMuZ2V0U2Vzc2lvbigpLFxuICAgICAgICBzdGF0aWM6IHRoaXMuZ2V0U3RhdGljKCksXG4gICAgICAgIGZsYXNoOiB0aGlzLmZsYXNoLFxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBzZXRIcmVmKGhyZWYpeyB0aGlzLmhyZWYgPSBocmVmIH1cblxuICBzZXRSZWRpcmVjdChocmVmKXtcbiAgICB0aGlzLnJlZGlyZWN0ID0gdHJ1ZVxuICAgIHRoaXMuaHJlZiA9IGhyZWZcbiAgfVxuXG4gIGlzTWFpbigpeyByZXR1cm4gdGhpcy5lbC5oYXNBdHRyaWJ1dGUoUEhYX01BSU4pIH1cblxuICBjb25uZWN0UGFyYW1zKGxpdmVSZWZlcmVyKXtcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5saXZlU29ja2V0LnBhcmFtcyh0aGlzLmVsKVxuICAgIGxldCBtYW5pZmVzdCA9XG4gICAgICBET00uYWxsKGRvY3VtZW50LCBgWyR7dGhpcy5iaW5kaW5nKFBIWF9UUkFDS19TVEFUSUMpfV1gKVxuICAgICAgICAubWFwKG5vZGUgPT4gbm9kZS5zcmMgfHwgbm9kZS5ocmVmKS5maWx0ZXIodXJsID0+IHR5cGVvZiAodXJsKSA9PT0gXCJzdHJpbmdcIilcblxuICAgIGlmKG1hbmlmZXN0Lmxlbmd0aCA+IDApeyBwYXJhbXNbXCJfdHJhY2tfc3RhdGljXCJdID0gbWFuaWZlc3QgfVxuICAgIHBhcmFtc1tcIl9tb3VudHNcIl0gPSB0aGlzLmpvaW5Db3VudFxuICAgIHBhcmFtc1tcIl9saXZlX3JlZmVyZXJcIl0gPSBsaXZlUmVmZXJlclxuXG4gICAgcmV0dXJuIHBhcmFtc1xuICB9XG5cbiAgaXNDb25uZWN0ZWQoKXsgcmV0dXJuIHRoaXMuY2hhbm5lbC5jYW5QdXNoKCkgfVxuXG4gIGdldFNlc3Npb24oKXsgcmV0dXJuIHRoaXMuZWwuZ2V0QXR0cmlidXRlKFBIWF9TRVNTSU9OKSB9XG5cbiAgZ2V0U3RhdGljKCl7XG4gICAgbGV0IHZhbCA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKFBIWF9TVEFUSUMpXG4gICAgcmV0dXJuIHZhbCA9PT0gXCJcIiA/IG51bGwgOiB2YWxcbiAgfVxuXG4gIGRlc3Ryb3koY2FsbGJhY2sgPSBmdW5jdGlvbiAoKXsgfSl7XG4gICAgdGhpcy5kZXN0cm95QWxsQ2hpbGRyZW4oKVxuICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZVxuICAgIGRlbGV0ZSB0aGlzLnJvb3QuY2hpbGRyZW5bdGhpcy5pZF1cbiAgICBpZih0aGlzLnBhcmVudCl7IGRlbGV0ZSB0aGlzLnJvb3QuY2hpbGRyZW5bdGhpcy5wYXJlbnQuaWRdW3RoaXMuaWRdIH1cbiAgICBjbGVhclRpbWVvdXQodGhpcy5sb2FkZXJUaW1lcilcbiAgICBsZXQgb25GaW5pc2hlZCA9ICgpID0+IHtcbiAgICAgIGNhbGxiYWNrKClcbiAgICAgIGZvcihsZXQgaWQgaW4gdGhpcy52aWV3SG9va3Mpe1xuICAgICAgICB0aGlzLmRlc3Ryb3lIb29rKHRoaXMudmlld0hvb2tzW2lkXSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBET00ubWFya1BoeENoaWxkRGVzdHJveWVkKHRoaXMuZWwpXG5cbiAgICB0aGlzLmxvZyhcImRlc3Ryb3llZFwiLCAoKSA9PiBbXCJ0aGUgY2hpbGQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBwYXJlbnRcIl0pXG4gICAgdGhpcy5jaGFubmVsLmxlYXZlKClcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgb25GaW5pc2hlZClcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgb25GaW5pc2hlZClcbiAgICAgIC5yZWNlaXZlKFwidGltZW91dFwiLCBvbkZpbmlzaGVkKVxuICB9XG5cbiAgc2V0Q29udGFpbmVyQ2xhc3NlcyguLi5jbGFzc2VzKXtcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICBQSFhfQ09OTkVDVEVEX0NMQVNTLFxuICAgICAgUEhYX0xPQURJTkdfQ0xBU1MsXG4gICAgICBQSFhfRVJST1JfQ0xBU1MsXG4gICAgICBQSFhfQ0xJRU5UX0VSUk9SX0NMQVNTLFxuICAgICAgUEhYX1NFUlZFUl9FUlJPUl9DTEFTU1xuICAgIClcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NlcylcbiAgfVxuXG4gIHNob3dMb2FkZXIodGltZW91dCl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMubG9hZGVyVGltZXIpXG4gICAgaWYodGltZW91dCl7XG4gICAgICB0aGlzLmxvYWRlclRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLnNob3dMb2FkZXIoKSwgdGltZW91dClcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yKGxldCBpZCBpbiB0aGlzLnZpZXdIb29rcyl7IHRoaXMudmlld0hvb2tzW2lkXS5fX2Rpc2Nvbm5lY3RlZCgpIH1cbiAgICAgIHRoaXMuc2V0Q29udGFpbmVyQ2xhc3NlcyhQSFhfTE9BRElOR19DTEFTUylcbiAgICB9XG4gIH1cblxuICBleGVjQWxsKGJpbmRpbmcpe1xuICAgIERPTS5hbGwodGhpcy5lbCwgYFske2JpbmRpbmd9XWAsIGVsID0+IHRoaXMubGl2ZVNvY2tldC5leGVjSlMoZWwsIGVsLmdldEF0dHJpYnV0ZShiaW5kaW5nKSkpXG4gIH1cblxuICBoaWRlTG9hZGVyKCl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMubG9hZGVyVGltZXIpXG4gICAgdGhpcy5zZXRDb250YWluZXJDbGFzc2VzKFBIWF9DT05ORUNURURfQ0xBU1MpXG4gICAgdGhpcy5leGVjQWxsKHRoaXMuYmluZGluZyhcImNvbm5lY3RlZFwiKSlcbiAgfVxuXG4gIHRyaWdnZXJSZWNvbm5lY3RlZCgpe1xuICAgIGZvcihsZXQgaWQgaW4gdGhpcy52aWV3SG9va3MpeyB0aGlzLnZpZXdIb29rc1tpZF0uX19yZWNvbm5lY3RlZCgpIH1cbiAgfVxuXG4gIGxvZyhraW5kLCBtc2dDYWxsYmFjayl7XG4gICAgdGhpcy5saXZlU29ja2V0LmxvZyh0aGlzLCBraW5kLCBtc2dDYWxsYmFjaylcbiAgfVxuXG4gIHRyYW5zaXRpb24odGltZSwgb25TdGFydCwgb25Eb25lID0gZnVuY3Rpb24oKXt9KXtcbiAgICB0aGlzLmxpdmVTb2NrZXQudHJhbnNpdGlvbih0aW1lLCBvblN0YXJ0LCBvbkRvbmUpXG4gIH1cblxuICB3aXRoaW5UYXJnZXRzKHBoeFRhcmdldCwgY2FsbGJhY2spe1xuICAgIGlmKHBoeFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IHBoeFRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpe1xuICAgICAgcmV0dXJuIHRoaXMubGl2ZVNvY2tldC5vd25lcihwaHhUYXJnZXQsIHZpZXcgPT4gY2FsbGJhY2sodmlldywgcGh4VGFyZ2V0KSlcbiAgICB9XG5cbiAgICBpZihpc0NpZChwaHhUYXJnZXQpKXtcbiAgICAgIGxldCB0YXJnZXRzID0gRE9NLmZpbmRDb21wb25lbnROb2RlTGlzdCh0aGlzLmVsLCBwaHhUYXJnZXQpXG4gICAgICBpZih0YXJnZXRzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgIGxvZ0Vycm9yKGBubyBjb21wb25lbnQgZm91bmQgbWF0Y2hpbmcgcGh4LXRhcmdldCBvZiAke3BoeFRhcmdldH1gKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sodGhpcywgcGFyc2VJbnQocGh4VGFyZ2V0KSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHRhcmdldHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGh4VGFyZ2V0KSlcbiAgICAgIGlmKHRhcmdldHMubGVuZ3RoID09PSAwKXsgbG9nRXJyb3IoYG5vdGhpbmcgZm91bmQgbWF0Y2hpbmcgdGhlIHBoeC10YXJnZXQgc2VsZWN0b3IgXCIke3BoeFRhcmdldH1cImApIH1cbiAgICAgIHRhcmdldHMuZm9yRWFjaCh0YXJnZXQgPT4gdGhpcy5saXZlU29ja2V0Lm93bmVyKHRhcmdldCwgdmlldyA9PiBjYWxsYmFjayh2aWV3LCB0YXJnZXQpKSlcbiAgICB9XG4gIH1cblxuICBhcHBseURpZmYodHlwZSwgcmF3RGlmZiwgY2FsbGJhY2spe1xuICAgIHRoaXMubG9nKHR5cGUsICgpID0+IFtcIlwiLCBjbG9uZShyYXdEaWZmKV0pXG4gICAgbGV0IHtkaWZmLCByZXBseSwgZXZlbnRzLCB0aXRsZX0gPSBSZW5kZXJlZC5leHRyYWN0KHJhd0RpZmYpXG4gICAgY2FsbGJhY2soe2RpZmYsIHJlcGx5LCBldmVudHN9KVxuICAgIGlmKHRpdGxlKXsgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBET00ucHV0VGl0bGUodGl0bGUpKSB9XG4gIH1cblxuICBvbkpvaW4ocmVzcCl7XG4gICAgbGV0IHtyZW5kZXJlZCwgY29udGFpbmVyfSA9IHJlc3BcbiAgICBpZihjb250YWluZXIpe1xuICAgICAgbGV0IFt0YWcsIGF0dHJzXSA9IGNvbnRhaW5lclxuICAgICAgdGhpcy5lbCA9IERPTS5yZXBsYWNlUm9vdENvbnRhaW5lcih0aGlzLmVsLCB0YWcsIGF0dHJzKVxuICAgIH1cbiAgICB0aGlzLmNoaWxkSm9pbnMgPSAwXG4gICAgdGhpcy5qb2luUGVuZGluZyA9IHRydWVcbiAgICB0aGlzLmZsYXNoID0gbnVsbFxuXG4gICAgQnJvd3Nlci5kcm9wTG9jYWwodGhpcy5saXZlU29ja2V0LmxvY2FsU3RvcmFnZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLCBDT05TRUNVVElWRV9SRUxPQURTKVxuICAgIHRoaXMuYXBwbHlEaWZmKFwibW91bnRcIiwgcmVuZGVyZWQsICh7ZGlmZiwgZXZlbnRzfSkgPT4ge1xuICAgICAgdGhpcy5yZW5kZXJlZCA9IG5ldyBSZW5kZXJlZCh0aGlzLmlkLCBkaWZmKVxuICAgICAgbGV0IFtodG1sLCBzdHJlYW1zXSA9IHRoaXMucmVuZGVyQ29udGFpbmVyKG51bGwsIFwiam9pblwiKVxuICAgICAgdGhpcy5kcm9wUGVuZGluZ1JlZnMoKVxuICAgICAgbGV0IGZvcm1zID0gdGhpcy5mb3Jtc0ZvclJlY292ZXJ5KGh0bWwpXG4gICAgICB0aGlzLmpvaW5Db3VudCsrXG5cbiAgICAgIGlmKGZvcm1zLmxlbmd0aCA+IDApe1xuICAgICAgICBmb3Jtcy5mb3JFYWNoKChbZm9ybSwgbmV3Rm9ybSwgbmV3Q2lkXSwgaSkgPT4ge1xuICAgICAgICAgIHRoaXMucHVzaEZvcm1SZWNvdmVyeShmb3JtLCBuZXdDaWQsIHJlc3AgPT4ge1xuICAgICAgICAgICAgaWYoaSA9PT0gZm9ybXMubGVuZ3RoIC0gMSl7XG4gICAgICAgICAgICAgIHRoaXMub25Kb2luQ29tcGxldGUocmVzcCwgaHRtbCwgc3RyZWFtcywgZXZlbnRzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uSm9pbkNvbXBsZXRlKHJlc3AsIGh0bWwsIHN0cmVhbXMsIGV2ZW50cylcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZHJvcFBlbmRpbmdSZWZzKCl7XG4gICAgRE9NLmFsbChkb2N1bWVudCwgYFske1BIWF9SRUZfU1JDfT1cIiR7dGhpcy5pZH1cIl1bJHtQSFhfUkVGfV1gLCBlbCA9PiB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoUEhYX1JFRilcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShQSFhfUkVGX1NSQylcbiAgICB9KVxuICB9XG5cbiAgb25Kb2luQ29tcGxldGUoe2xpdmVfcGF0Y2h9LCBodG1sLCBzdHJlYW1zLCBldmVudHMpe1xuICAgIC8vIEluIG9yZGVyIHRvIHByb3ZpZGUgYSBiZXR0ZXIgZXhwZXJpZW5jZSwgd2Ugd2FudCB0byBqb2luXG4gICAgLy8gYWxsIExpdmVWaWV3cyBmaXJzdCBhbmQgb25seSB0aGVuIGFwcGx5IHRoZWlyIHBhdGNoZXMuXG4gICAgaWYodGhpcy5qb2luQ291bnQgPiAxIHx8ICh0aGlzLnBhcmVudCAmJiAhdGhpcy5wYXJlbnQuaXNKb2luUGVuZGluZygpKSl7XG4gICAgICByZXR1cm4gdGhpcy5hcHBseUpvaW5QYXRjaChsaXZlX3BhdGNoLCBodG1sLCBzdHJlYW1zLCBldmVudHMpXG4gICAgfVxuXG4gICAgLy8gT25lIGRvd25zaWRlIG9mIHRoaXMgYXBwcm9hY2ggaXMgdGhhdCB3ZSBuZWVkIHRvIGZpbmQgcGh4Q2hpbGRyZW5cbiAgICAvLyBpbiB0aGUgaHRtbCBmcmFnbWVudCwgaW5zdGVhZCBvZiBkaXJlY3RseSBvbiB0aGUgRE9NLiBUaGUgZnJhZ21lbnRcbiAgICAvLyBhbHNvIGRvZXMgbm90IGluY2x1ZGUgUEhYX1NUQVRJQywgc28gd2UgbmVlZCB0byBjb3B5IGl0IG92ZXIgZnJvbVxuICAgIC8vIHRoZSBET00uXG4gICAgbGV0IG5ld0NoaWxkcmVuID0gRE9NLmZpbmRQaHhDaGlsZHJlbkluRnJhZ21lbnQoaHRtbCwgdGhpcy5pZCkuZmlsdGVyKHRvRWwgPT4ge1xuICAgICAgbGV0IGZyb21FbCA9IHRvRWwuaWQgJiYgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKGBbaWQ9XCIke3RvRWwuaWR9XCJdYClcbiAgICAgIGxldCBwaHhTdGF0aWMgPSBmcm9tRWwgJiYgZnJvbUVsLmdldEF0dHJpYnV0ZShQSFhfU1RBVElDKVxuICAgICAgaWYocGh4U3RhdGljKXsgdG9FbC5zZXRBdHRyaWJ1dGUoUEhYX1NUQVRJQywgcGh4U3RhdGljKSB9XG4gICAgICByZXR1cm4gdGhpcy5qb2luQ2hpbGQodG9FbClcbiAgICB9KVxuXG4gICAgaWYobmV3Q2hpbGRyZW4ubGVuZ3RoID09PSAwKXtcbiAgICAgIGlmKHRoaXMucGFyZW50KXtcbiAgICAgICAgdGhpcy5yb290LnBlbmRpbmdKb2luT3BzLnB1c2goW3RoaXMsICgpID0+IHRoaXMuYXBwbHlKb2luUGF0Y2gobGl2ZV9wYXRjaCwgaHRtbCwgc3RyZWFtcywgZXZlbnRzKV0pXG4gICAgICAgIHRoaXMucGFyZW50LmFja0pvaW4odGhpcylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub25BbGxDaGlsZEpvaW5zQ29tcGxldGUoKVxuICAgICAgICB0aGlzLmFwcGx5Sm9pblBhdGNoKGxpdmVfcGF0Y2gsIGh0bWwsIHN0cmVhbXMsIGV2ZW50cylcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yb290LnBlbmRpbmdKb2luT3BzLnB1c2goW3RoaXMsICgpID0+IHRoaXMuYXBwbHlKb2luUGF0Y2gobGl2ZV9wYXRjaCwgaHRtbCwgc3RyZWFtcywgZXZlbnRzKV0pXG4gICAgfVxuICB9XG5cbiAgYXR0YWNoVHJ1ZURvY0VsKCl7XG4gICAgdGhpcy5lbCA9IERPTS5ieUlkKHRoaXMuaWQpXG4gICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoUEhYX1JPT1RfSUQsIHRoaXMucm9vdC5pZClcbiAgfVxuXG4gIGV4ZWNOZXdNb3VudGVkKCl7XG4gICAgbGV0IHBoeFZpZXdwb3J0VG9wID0gdGhpcy5iaW5kaW5nKFBIWF9WSUVXUE9SVF9UT1ApXG4gICAgbGV0IHBoeFZpZXdwb3J0Qm90dG9tID0gdGhpcy5iaW5kaW5nKFBIWF9WSUVXUE9SVF9CT1RUT00pXG4gICAgRE9NLmFsbCh0aGlzLmVsLCBgWyR7cGh4Vmlld3BvcnRUb3B9XSwgWyR7cGh4Vmlld3BvcnRCb3R0b219XWAsIGhvb2tFbCA9PiB7XG4gICAgICBET00ubWF5YmVBZGRQcml2YXRlSG9va3MoaG9va0VsLCBwaHhWaWV3cG9ydFRvcCwgcGh4Vmlld3BvcnRCb3R0b20pXG4gICAgICB0aGlzLm1heWJlQWRkTmV3SG9vayhob29rRWwpXG4gICAgfSlcbiAgICBET00uYWxsKHRoaXMuZWwsIGBbJHt0aGlzLmJpbmRpbmcoUEhYX0hPT0spfV0sIFtkYXRhLXBoeC0ke1BIWF9IT09LfV1gLCBob29rRWwgPT4ge1xuICAgICAgdGhpcy5tYXliZUFkZE5ld0hvb2soaG9va0VsKVxuICAgIH0pXG4gICAgRE9NLmFsbCh0aGlzLmVsLCBgWyR7dGhpcy5iaW5kaW5nKFBIWF9NT1VOVEVEKX1dYCwgZWwgPT4gdGhpcy5tYXliZU1vdW50ZWQoZWwpKVxuICB9XG5cbiAgYXBwbHlKb2luUGF0Y2gobGl2ZV9wYXRjaCwgaHRtbCwgc3RyZWFtcywgZXZlbnRzKXtcbiAgICB0aGlzLmF0dGFjaFRydWVEb2NFbCgpXG4gICAgbGV0IHBhdGNoID0gbmV3IERPTVBhdGNoKHRoaXMsIHRoaXMuZWwsIHRoaXMuaWQsIGh0bWwsIHN0cmVhbXMsIG51bGwpXG4gICAgcGF0Y2gubWFya1BydW5hYmxlQ29udGVudEZvclJlbW92YWwoKVxuICAgIHRoaXMucGVyZm9ybVBhdGNoKHBhdGNoLCBmYWxzZSlcbiAgICB0aGlzLmpvaW5OZXdDaGlsZHJlbigpXG4gICAgdGhpcy5leGVjTmV3TW91bnRlZCgpXG5cbiAgICB0aGlzLmpvaW5QZW5kaW5nID0gZmFsc2VcbiAgICB0aGlzLmxpdmVTb2NrZXQuZGlzcGF0Y2hFdmVudHMoZXZlbnRzKVxuICAgIHRoaXMuYXBwbHlQZW5kaW5nVXBkYXRlcygpXG5cbiAgICBpZihsaXZlX3BhdGNoKXtcbiAgICAgIGxldCB7a2luZCwgdG99ID0gbGl2ZV9wYXRjaFxuICAgICAgdGhpcy5saXZlU29ja2V0Lmhpc3RvcnlQYXRjaCh0bywga2luZClcbiAgICB9XG4gICAgdGhpcy5oaWRlTG9hZGVyKClcbiAgICBpZih0aGlzLmpvaW5Db3VudCA+IDEpeyB0aGlzLnRyaWdnZXJSZWNvbm5lY3RlZCgpIH1cbiAgICB0aGlzLnN0b3BDYWxsYmFjaygpXG4gIH1cblxuICB0cmlnZ2VyQmVmb3JlVXBkYXRlSG9vayhmcm9tRWwsIHRvRWwpe1xuICAgIHRoaXMubGl2ZVNvY2tldC50cmlnZ2VyRE9NKFwib25CZWZvcmVFbFVwZGF0ZWRcIiwgW2Zyb21FbCwgdG9FbF0pXG4gICAgbGV0IGhvb2sgPSB0aGlzLmdldEhvb2soZnJvbUVsKVxuICAgIGxldCBpc0lnbm9yZWQgPSBob29rICYmIERPTS5pc0lnbm9yZWQoZnJvbUVsLCB0aGlzLmJpbmRpbmcoUEhYX1VQREFURSkpXG4gICAgaWYoaG9vayAmJiAhZnJvbUVsLmlzRXF1YWxOb2RlKHRvRWwpICYmICEoaXNJZ25vcmVkICYmIGlzRXF1YWxPYmooZnJvbUVsLmRhdGFzZXQsIHRvRWwuZGF0YXNldCkpKXtcbiAgICAgIGhvb2suX19iZWZvcmVVcGRhdGUoKVxuICAgICAgcmV0dXJuIGhvb2tcbiAgICB9XG4gIH1cblxuICBtYXliZU1vdW50ZWQoZWwpe1xuICAgIGxldCBwaHhNb3VudGVkID0gZWwuZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhQSFhfTU9VTlRFRCkpXG4gICAgbGV0IGhhc0JlZW5JbnZva2VkID0gcGh4TW91bnRlZCAmJiBET00ucHJpdmF0ZShlbCwgXCJtb3VudGVkXCIpXG4gICAgaWYocGh4TW91bnRlZCAmJiAhaGFzQmVlbkludm9rZWQpe1xuICAgICAgdGhpcy5saXZlU29ja2V0LmV4ZWNKUyhlbCwgcGh4TW91bnRlZClcbiAgICAgIERPTS5wdXRQcml2YXRlKGVsLCBcIm1vdW50ZWRcIiwgdHJ1ZSlcbiAgICB9XG4gIH1cblxuICBtYXliZUFkZE5ld0hvb2soZWwsIGZvcmNlKXtcbiAgICBsZXQgbmV3SG9vayA9IHRoaXMuYWRkSG9vayhlbClcbiAgICBpZihuZXdIb29rKXsgbmV3SG9vay5fX21vdW50ZWQoKSB9XG4gIH1cblxuICBwZXJmb3JtUGF0Y2gocGF0Y2gsIHBydW5lQ2lkcyl7XG4gICAgbGV0IHJlbW92ZWRFbHMgPSBbXVxuICAgIGxldCBwaHhDaGlsZHJlbkFkZGVkID0gZmFsc2VcbiAgICBsZXQgdXBkYXRlZEhvb2tJZHMgPSBuZXcgU2V0KClcblxuICAgIHBhdGNoLmFmdGVyKFwiYWRkZWRcIiwgZWwgPT4ge1xuICAgICAgdGhpcy5saXZlU29ja2V0LnRyaWdnZXJET00oXCJvbk5vZGVBZGRlZFwiLCBbZWxdKVxuICAgICAgdGhpcy5tYXliZUFkZE5ld0hvb2soZWwpXG4gICAgICBpZihlbC5nZXRBdHRyaWJ1dGUpeyB0aGlzLm1heWJlTW91bnRlZChlbCkgfVxuICAgIH0pXG5cbiAgICBwYXRjaC5hZnRlcihcInBoeENoaWxkQWRkZWRcIiwgZWwgPT4ge1xuICAgICAgaWYoRE9NLmlzUGh4U3RpY2t5KGVsKSl7XG4gICAgICAgIHRoaXMubGl2ZVNvY2tldC5qb2luUm9vdFZpZXdzKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBoeENoaWxkcmVuQWRkZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSlcblxuICAgIHBhdGNoLmJlZm9yZShcInVwZGF0ZWRcIiwgKGZyb21FbCwgdG9FbCkgPT4ge1xuICAgICAgbGV0IGhvb2sgPSB0aGlzLnRyaWdnZXJCZWZvcmVVcGRhdGVIb29rKGZyb21FbCwgdG9FbClcbiAgICAgIGlmKGhvb2speyB1cGRhdGVkSG9va0lkcy5hZGQoZnJvbUVsLmlkKSB9XG4gICAgfSlcblxuICAgIHBhdGNoLmFmdGVyKFwidXBkYXRlZFwiLCBlbCA9PiB7XG4gICAgICBpZih1cGRhdGVkSG9va0lkcy5oYXMoZWwuaWQpKXsgdGhpcy5nZXRIb29rKGVsKS5fX3VwZGF0ZWQoKSB9XG4gICAgfSlcblxuICAgIHBhdGNoLmFmdGVyKFwiZGlzY2FyZGVkXCIsIChlbCkgPT4ge1xuICAgICAgaWYoZWwubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKXsgcmVtb3ZlZEVscy5wdXNoKGVsKSB9XG4gICAgfSlcblxuICAgIHBhdGNoLmFmdGVyKFwidHJhbnNpdGlvbnNEaXNjYXJkZWRcIiwgZWxzID0+IHRoaXMuYWZ0ZXJFbGVtZW50c1JlbW92ZWQoZWxzLCBwcnVuZUNpZHMpKVxuICAgIHBhdGNoLnBlcmZvcm0oKVxuICAgIHRoaXMuYWZ0ZXJFbGVtZW50c1JlbW92ZWQocmVtb3ZlZEVscywgcHJ1bmVDaWRzKVxuXG4gICAgcmV0dXJuIHBoeENoaWxkcmVuQWRkZWRcbiAgfVxuXG4gIGFmdGVyRWxlbWVudHNSZW1vdmVkKGVsZW1lbnRzLCBwcnVuZUNpZHMpe1xuICAgIGxldCBkZXN0cm95ZWRDSURzID0gW11cbiAgICBlbGVtZW50cy5mb3JFYWNoKHBhcmVudCA9PiB7XG4gICAgICBsZXQgY29tcG9uZW50cyA9IERPTS5hbGwocGFyZW50LCBgWyR7UEhYX0NPTVBPTkVOVH1dYClcbiAgICAgIGxldCBob29rcyA9IERPTS5hbGwocGFyZW50LCBgWyR7dGhpcy5iaW5kaW5nKFBIWF9IT09LKX1dYClcbiAgICAgIGNvbXBvbmVudHMuY29uY2F0KHBhcmVudCkuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIGxldCBjaWQgPSB0aGlzLmNvbXBvbmVudElEKGVsKVxuICAgICAgICBpZihpc0NpZChjaWQpICYmIGRlc3Ryb3llZENJRHMuaW5kZXhPZihjaWQpID09PSAtMSl7IGRlc3Ryb3llZENJRHMucHVzaChjaWQpIH1cbiAgICAgIH0pXG4gICAgICBob29rcy5jb25jYXQocGFyZW50KS5mb3JFYWNoKGhvb2tFbCA9PiB7XG4gICAgICAgIGxldCBob29rID0gdGhpcy5nZXRIb29rKGhvb2tFbClcbiAgICAgICAgaG9vayAmJiB0aGlzLmRlc3Ryb3lIb29rKGhvb2spXG4gICAgICB9KVxuICAgIH0pXG4gICAgLy8gV2Ugc2hvdWxkIG5vdCBwcnVuZUNpZHMgb24gam9pbnMuIE90aGVyd2lzZSwgaW4gY2FzZSBvZlxuICAgIC8vIHJlam9pbnMsIHdlIG1heSBub3RpZnkgY2lkcyB0aGF0IG5vIGxvbmdlciBiZWxvbmcgdG8gdGhlXG4gICAgLy8gY3VycmVudCBMaXZlVmlldyB0byBiZSByZW1vdmVkLlxuICAgIGlmKHBydW5lQ2lkcyl7XG4gICAgICB0aGlzLm1heWJlUHVzaENvbXBvbmVudHNEZXN0cm95ZWQoZGVzdHJveWVkQ0lEcylcbiAgICB9XG4gIH1cblxuICBqb2luTmV3Q2hpbGRyZW4oKXtcbiAgICBET00uZmluZFBoeENoaWxkcmVuKHRoaXMuZWwsIHRoaXMuaWQpLmZvckVhY2goZWwgPT4gdGhpcy5qb2luQ2hpbGQoZWwpKVxuICB9XG5cbiAgZ2V0Q2hpbGRCeUlkKGlkKXsgcmV0dXJuIHRoaXMucm9vdC5jaGlsZHJlblt0aGlzLmlkXVtpZF0gfVxuXG4gIGdldERlc2NlbmRlbnRCeUVsKGVsKXtcbiAgICBpZihlbC5pZCA9PT0gdGhpcy5pZCl7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltlbC5nZXRBdHRyaWJ1dGUoUEhYX1BBUkVOVF9JRCldW2VsLmlkXVxuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3lEZXNjZW5kZW50KGlkKXtcbiAgICBmb3IobGV0IHBhcmVudElkIGluIHRoaXMucm9vdC5jaGlsZHJlbil7XG4gICAgICBmb3IobGV0IGNoaWxkSWQgaW4gdGhpcy5yb290LmNoaWxkcmVuW3BhcmVudElkXSl7XG4gICAgICAgIGlmKGNoaWxkSWQgPT09IGlkKXsgcmV0dXJuIHRoaXMucm9vdC5jaGlsZHJlbltwYXJlbnRJZF1bY2hpbGRJZF0uZGVzdHJveSgpIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBqb2luQ2hpbGQoZWwpe1xuICAgIGxldCBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGRCeUlkKGVsLmlkKVxuICAgIGlmKCFjaGlsZCl7XG4gICAgICBsZXQgdmlldyA9IG5ldyBWaWV3KGVsLCB0aGlzLmxpdmVTb2NrZXQsIHRoaXMpXG4gICAgICB0aGlzLnJvb3QuY2hpbGRyZW5bdGhpcy5pZF1bdmlldy5pZF0gPSB2aWV3XG4gICAgICB2aWV3LmpvaW4oKVxuICAgICAgdGhpcy5jaGlsZEpvaW5zKytcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgaXNKb2luUGVuZGluZygpeyByZXR1cm4gdGhpcy5qb2luUGVuZGluZyB9XG5cbiAgYWNrSm9pbihfY2hpbGQpe1xuICAgIHRoaXMuY2hpbGRKb2lucy0tXG5cbiAgICBpZih0aGlzLmNoaWxkSm9pbnMgPT09IDApe1xuICAgICAgaWYodGhpcy5wYXJlbnQpe1xuICAgICAgICB0aGlzLnBhcmVudC5hY2tKb2luKHRoaXMpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uQWxsQ2hpbGRKb2luc0NvbXBsZXRlKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbkFsbENoaWxkSm9pbnNDb21wbGV0ZSgpe1xuICAgIHRoaXMuam9pbkNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHRoaXMucGVuZGluZ0pvaW5PcHMuZm9yRWFjaCgoW3ZpZXcsIG9wXSkgPT4ge1xuICAgICAgICBpZighdmlldy5pc0Rlc3Ryb3llZCgpKXsgb3AoKSB9XG4gICAgICB9KVxuICAgICAgdGhpcy5wZW5kaW5nSm9pbk9wcyA9IFtdXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZShkaWZmLCBldmVudHMpe1xuICAgIGlmKHRoaXMuaXNKb2luUGVuZGluZygpIHx8ICh0aGlzLmxpdmVTb2NrZXQuaGFzUGVuZGluZ0xpbmsoKSAmJiB0aGlzLnJvb3QuaXNNYWluKCkpKXtcbiAgICAgIHJldHVybiB0aGlzLnBlbmRpbmdEaWZmcy5wdXNoKHtkaWZmLCBldmVudHN9KVxuICAgIH1cblxuICAgIHRoaXMucmVuZGVyZWQubWVyZ2VEaWZmKGRpZmYpXG4gICAgbGV0IHBoeENoaWxkcmVuQWRkZWQgPSBmYWxzZVxuXG4gICAgLy8gV2hlbiB0aGUgZGlmZiBvbmx5IGNvbnRhaW5zIGNvbXBvbmVudCBkaWZmcywgdGhlbiB3YWxrIGNvbXBvbmVudHNcbiAgICAvLyBhbmQgcGF0Y2ggb25seSB0aGUgcGFyZW50IGNvbXBvbmVudCBjb250YWluZXJzIGZvdW5kIGluIHRoZSBkaWZmLlxuICAgIC8vIE90aGVyd2lzZSwgcGF0Y2ggZW50aXJlIExWIGNvbnRhaW5lci5cbiAgICBpZih0aGlzLnJlbmRlcmVkLmlzQ29tcG9uZW50T25seURpZmYoZGlmZikpe1xuICAgICAgdGhpcy5saXZlU29ja2V0LnRpbWUoXCJjb21wb25lbnQgcGF0Y2ggY29tcGxldGVcIiwgKCkgPT4ge1xuICAgICAgICBsZXQgcGFyZW50Q2lkcyA9IERPTS5maW5kUGFyZW50Q0lEcyh0aGlzLmVsLCB0aGlzLnJlbmRlcmVkLmNvbXBvbmVudENJRHMoZGlmZikpXG4gICAgICAgIHBhcmVudENpZHMuZm9yRWFjaChwYXJlbnRDSUQgPT4ge1xuICAgICAgICAgIGlmKHRoaXMuY29tcG9uZW50UGF0Y2godGhpcy5yZW5kZXJlZC5nZXRDb21wb25lbnQoZGlmZiwgcGFyZW50Q0lEKSwgcGFyZW50Q0lEKSl7IHBoeENoaWxkcmVuQWRkZWQgPSB0cnVlIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmKCFpc0VtcHR5KGRpZmYpKXtcbiAgICAgIHRoaXMubGl2ZVNvY2tldC50aW1lKFwiZnVsbCBwYXRjaCBjb21wbGV0ZVwiLCAoKSA9PiB7XG4gICAgICAgIGxldCBbaHRtbCwgc3RyZWFtc10gPSB0aGlzLnJlbmRlckNvbnRhaW5lcihkaWZmLCBcInVwZGF0ZVwiKVxuICAgICAgICBsZXQgcGF0Y2ggPSBuZXcgRE9NUGF0Y2godGhpcywgdGhpcy5lbCwgdGhpcy5pZCwgaHRtbCwgc3RyZWFtcywgbnVsbClcbiAgICAgICAgcGh4Q2hpbGRyZW5BZGRlZCA9IHRoaXMucGVyZm9ybVBhdGNoKHBhdGNoLCB0cnVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLmxpdmVTb2NrZXQuZGlzcGF0Y2hFdmVudHMoZXZlbnRzKVxuICAgIGlmKHBoeENoaWxkcmVuQWRkZWQpeyB0aGlzLmpvaW5OZXdDaGlsZHJlbigpIH1cbiAgfVxuXG4gIHJlbmRlckNvbnRhaW5lcihkaWZmLCBraW5kKXtcbiAgICByZXR1cm4gdGhpcy5saXZlU29ja2V0LnRpbWUoYHRvU3RyaW5nIGRpZmYgKCR7a2luZH0pYCwgKCkgPT4ge1xuICAgICAgbGV0IHRhZyA9IHRoaXMuZWwudGFnTmFtZVxuICAgICAgLy8gRG9uJ3Qgc2tpcCBhbnkgY29tcG9uZW50IGluIHRoZSBkaWZmIG5vciBhbnkgbWFya2VkIGFzIHBydW5lZFxuICAgICAgLy8gKGFzIHRoZXkgbWF5IGhhdmUgYmVlbiBhZGRlZCBiYWNrKVxuICAgICAgbGV0IGNpZHMgPSBkaWZmID8gdGhpcy5yZW5kZXJlZC5jb21wb25lbnRDSURzKGRpZmYpLmNvbmNhdCh0aGlzLnBydW5pbmdDSURzKSA6IG51bGxcbiAgICAgIGxldCBbaHRtbCwgc3RyZWFtc10gPSB0aGlzLnJlbmRlcmVkLnRvU3RyaW5nKGNpZHMpXG4gICAgICByZXR1cm4gW2A8JHt0YWd9PiR7aHRtbH08LyR7dGFnfT5gLCBzdHJlYW1zXVxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnRQYXRjaChkaWZmLCBjaWQpe1xuICAgIGlmKGlzRW1wdHkoZGlmZikpIHJldHVybiBmYWxzZVxuICAgIGxldCBbaHRtbCwgc3RyZWFtc10gPSB0aGlzLnJlbmRlcmVkLmNvbXBvbmVudFRvU3RyaW5nKGNpZClcbiAgICBsZXQgcGF0Y2ggPSBuZXcgRE9NUGF0Y2godGhpcywgdGhpcy5lbCwgdGhpcy5pZCwgaHRtbCwgc3RyZWFtcywgY2lkKVxuICAgIGxldCBjaGlsZHJlbkFkZGVkID0gdGhpcy5wZXJmb3JtUGF0Y2gocGF0Y2gsIHRydWUpXG4gICAgcmV0dXJuIGNoaWxkcmVuQWRkZWRcbiAgfVxuXG4gIGdldEhvb2soZWwpeyByZXR1cm4gdGhpcy52aWV3SG9va3NbVmlld0hvb2suZWxlbWVudElEKGVsKV0gfVxuXG4gIGFkZEhvb2soZWwpe1xuICAgIGlmKFZpZXdIb29rLmVsZW1lbnRJRChlbCkgfHwgIWVsLmdldEF0dHJpYnV0ZSl7IHJldHVybiB9XG4gICAgbGV0IGhvb2tOYW1lID0gZWwuZ2V0QXR0cmlidXRlKGBkYXRhLXBoeC0ke1BIWF9IT09LfWApIHx8IGVsLmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoUEhYX0hPT0spKVxuICAgIGlmKGhvb2tOYW1lICYmICF0aGlzLm93bnNFbGVtZW50KGVsKSl7IHJldHVybiB9XG4gICAgbGV0IGNhbGxiYWNrcyA9IHRoaXMubGl2ZVNvY2tldC5nZXRIb29rQ2FsbGJhY2tzKGhvb2tOYW1lKVxuXG4gICAgaWYoY2FsbGJhY2tzKXtcbiAgICAgIGlmKCFlbC5pZCl7IGxvZ0Vycm9yKGBubyBET00gSUQgZm9yIGhvb2sgXCIke2hvb2tOYW1lfVwiLiBIb29rcyByZXF1aXJlIGEgdW5pcXVlIElEIG9uIGVhY2ggZWxlbWVudC5gLCBlbCkgfVxuICAgICAgbGV0IGhvb2sgPSBuZXcgVmlld0hvb2sodGhpcywgZWwsIGNhbGxiYWNrcylcbiAgICAgIHRoaXMudmlld0hvb2tzW1ZpZXdIb29rLmVsZW1lbnRJRChob29rLmVsKV0gPSBob29rXG4gICAgICByZXR1cm4gaG9va1xuICAgIH0gZWxzZSBpZihob29rTmFtZSAhPT0gbnVsbCl7XG4gICAgICBsb2dFcnJvcihgdW5rbm93biBob29rIGZvdW5kIGZvciBcIiR7aG9va05hbWV9XCJgLCBlbClcbiAgICB9XG4gIH1cblxuICBkZXN0cm95SG9vayhob29rKXtcbiAgICBob29rLl9fZGVzdHJveWVkKClcbiAgICBob29rLl9fY2xlYW51cF9fKClcbiAgICBkZWxldGUgdGhpcy52aWV3SG9va3NbVmlld0hvb2suZWxlbWVudElEKGhvb2suZWwpXVxuICB9XG5cbiAgYXBwbHlQZW5kaW5nVXBkYXRlcygpe1xuICAgIHRoaXMucGVuZGluZ0RpZmZzLmZvckVhY2goKHtkaWZmLCBldmVudHN9KSA9PiB0aGlzLnVwZGF0ZShkaWZmLCBldmVudHMpKVxuICAgIHRoaXMucGVuZGluZ0RpZmZzID0gW11cbiAgICB0aGlzLmVhY2hDaGlsZChjaGlsZCA9PiBjaGlsZC5hcHBseVBlbmRpbmdVcGRhdGVzKCkpXG4gIH1cblxuICBlYWNoQ2hpbGQoY2FsbGJhY2spe1xuICAgIGxldCBjaGlsZHJlbiA9IHRoaXMucm9vdC5jaGlsZHJlblt0aGlzLmlkXSB8fCB7fVxuICAgIGZvcihsZXQgaWQgaW4gY2hpbGRyZW4peyBjYWxsYmFjayh0aGlzLmdldENoaWxkQnlJZChpZCkpIH1cbiAgfVxuXG4gIG9uQ2hhbm5lbChldmVudCwgY2Ipe1xuICAgIHRoaXMubGl2ZVNvY2tldC5vbkNoYW5uZWwodGhpcy5jaGFubmVsLCBldmVudCwgcmVzcCA9PiB7XG4gICAgICBpZih0aGlzLmlzSm9pblBlbmRpbmcoKSl7XG4gICAgICAgIHRoaXMucm9vdC5wZW5kaW5nSm9pbk9wcy5wdXNoKFt0aGlzLCAoKSA9PiBjYihyZXNwKV0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxpdmVTb2NrZXQucmVxdWVzdERPTVVwZGF0ZSgoKSA9PiBjYihyZXNwKSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgYmluZENoYW5uZWwoKXtcbiAgICAvLyBUaGUgZGlmZiBldmVudCBzaG91bGQgYmUgaGFuZGxlZCBieSB0aGUgcmVndWxhciB1cGRhdGUgb3BlcmF0aW9ucy5cbiAgICAvLyBBbGwgb3RoZXIgb3BlcmF0aW9ucyBhcmUgcXVldWVkIHRvIGJlIGFwcGxpZWQgb25seSBhZnRlciBqb2luLlxuICAgIHRoaXMubGl2ZVNvY2tldC5vbkNoYW5uZWwodGhpcy5jaGFubmVsLCBcImRpZmZcIiwgKHJhd0RpZmYpID0+IHtcbiAgICAgIHRoaXMubGl2ZVNvY2tldC5yZXF1ZXN0RE9NVXBkYXRlKCgpID0+IHtcbiAgICAgICAgdGhpcy5hcHBseURpZmYoXCJ1cGRhdGVcIiwgcmF3RGlmZiwgKHtkaWZmLCBldmVudHN9KSA9PiB0aGlzLnVwZGF0ZShkaWZmLCBldmVudHMpKVxuICAgICAgfSlcbiAgICB9KVxuICAgIHRoaXMub25DaGFubmVsKFwicmVkaXJlY3RcIiwgKHt0bywgZmxhc2h9KSA9PiB0aGlzLm9uUmVkaXJlY3Qoe3RvLCBmbGFzaH0pKVxuICAgIHRoaXMub25DaGFubmVsKFwibGl2ZV9wYXRjaFwiLCAocmVkaXIpID0+IHRoaXMub25MaXZlUGF0Y2gocmVkaXIpKVxuICAgIHRoaXMub25DaGFubmVsKFwibGl2ZV9yZWRpcmVjdFwiLCAocmVkaXIpID0+IHRoaXMub25MaXZlUmVkaXJlY3QocmVkaXIpKVxuICAgIHRoaXMuY2hhbm5lbC5vbkVycm9yKHJlYXNvbiA9PiB0aGlzLm9uRXJyb3IocmVhc29uKSlcbiAgICB0aGlzLmNoYW5uZWwub25DbG9zZShyZWFzb24gPT4gdGhpcy5vbkNsb3NlKHJlYXNvbikpXG4gIH1cblxuICBkZXN0cm95QWxsQ2hpbGRyZW4oKXsgdGhpcy5lYWNoQ2hpbGQoY2hpbGQgPT4gY2hpbGQuZGVzdHJveSgpKSB9XG5cbiAgb25MaXZlUmVkaXJlY3QocmVkaXIpe1xuICAgIGxldCB7dG8sIGtpbmQsIGZsYXNofSA9IHJlZGlyXG4gICAgbGV0IHVybCA9IHRoaXMuZXhwYW5kVVJMKHRvKVxuICAgIHRoaXMubGl2ZVNvY2tldC5oaXN0b3J5UmVkaXJlY3QodXJsLCBraW5kLCBmbGFzaClcbiAgfVxuXG4gIG9uTGl2ZVBhdGNoKHJlZGlyKXtcbiAgICBsZXQge3RvLCBraW5kfSA9IHJlZGlyXG4gICAgdGhpcy5ocmVmID0gdGhpcy5leHBhbmRVUkwodG8pXG4gICAgdGhpcy5saXZlU29ja2V0Lmhpc3RvcnlQYXRjaCh0bywga2luZClcbiAgfVxuXG4gIGV4cGFuZFVSTCh0byl7XG4gICAgcmV0dXJuIHRvLnN0YXJ0c1dpdGgoXCIvXCIpID8gYCR7d2luZG93LmxvY2F0aW9uLnByb3RvY29sfS8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH0ke3RvfWAgOiB0b1xuICB9XG5cbiAgb25SZWRpcmVjdCh7dG8sIGZsYXNofSl7IHRoaXMubGl2ZVNvY2tldC5yZWRpcmVjdCh0bywgZmxhc2gpIH1cblxuICBpc0Rlc3Ryb3llZCgpeyByZXR1cm4gdGhpcy5kZXN0cm95ZWQgfVxuXG4gIGpvaW5EZWFkKCl7IHRoaXMuaXNEZWFkID0gdHJ1ZSB9XG5cbiAgam9pbihjYWxsYmFjayl7XG4gICAgdGhpcy5zaG93TG9hZGVyKHRoaXMubGl2ZVNvY2tldC5sb2FkZXJUaW1lb3V0KVxuICAgIHRoaXMuYmluZENoYW5uZWwoKVxuICAgIGlmKHRoaXMuaXNNYWluKCkpe1xuICAgICAgdGhpcy5zdG9wQ2FsbGJhY2sgPSB0aGlzLmxpdmVTb2NrZXQud2l0aFBhZ2VMb2FkaW5nKHt0bzogdGhpcy5ocmVmLCBraW5kOiBcImluaXRpYWxcIn0pXG4gICAgfVxuICAgIHRoaXMuam9pbkNhbGxiYWNrID0gKG9uRG9uZSkgPT4ge1xuICAgICAgb25Eb25lID0gb25Eb25lIHx8IGZ1bmN0aW9uKCl7fVxuICAgICAgY2FsbGJhY2sgPyBjYWxsYmFjayh0aGlzLmpvaW5Db3VudCwgb25Eb25lKSA6IG9uRG9uZSgpXG4gICAgfVxuICAgIHRoaXMubGl2ZVNvY2tldC53cmFwUHVzaCh0aGlzLCB7dGltZW91dDogZmFsc2V9LCAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5jaGFubmVsLmpvaW4oKVxuICAgICAgICAucmVjZWl2ZShcIm9rXCIsIGRhdGEgPT4ge1xuICAgICAgICAgIGlmKCF0aGlzLmlzRGVzdHJveWVkKCkpe1xuICAgICAgICAgICAgdGhpcy5saXZlU29ja2V0LnJlcXVlc3RET01VcGRhdGUoKCkgPT4gdGhpcy5vbkpvaW4oZGF0YSkpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAucmVjZWl2ZShcImVycm9yXCIsIHJlc3AgPT4gIXRoaXMuaXNEZXN0cm95ZWQoKSAmJiB0aGlzLm9uSm9pbkVycm9yKHJlc3ApKVxuICAgICAgICAucmVjZWl2ZShcInRpbWVvdXRcIiwgKCkgPT4gIXRoaXMuaXNEZXN0cm95ZWQoKSAmJiB0aGlzLm9uSm9pbkVycm9yKHtyZWFzb246IFwidGltZW91dFwifSkpXG4gICAgfSlcbiAgfVxuXG4gIG9uSm9pbkVycm9yKHJlc3Ape1xuICAgIGlmKHJlc3AucmVhc29uID09PSBcInJlbG9hZFwiKXtcbiAgICAgIHRoaXMubG9nKFwiZXJyb3JcIiwgKCkgPT4gW2BmYWlsZWQgbW91bnQgd2l0aCAke3Jlc3Auc3RhdHVzfS4gRmFsbGluZyBiYWNrIHRvIHBhZ2UgcmVxdWVzdGAsIHJlc3BdKVxuICAgICAgaWYodGhpcy5pc01haW4oKSl7IHRoaXMub25SZWRpcmVjdCh7dG86IHRoaXMuaHJlZn0pIH1cbiAgICAgIHJldHVyblxuICAgIH0gZWxzZSBpZihyZXNwLnJlYXNvbiA9PT0gXCJ1bmF1dGhvcml6ZWRcIiB8fCByZXNwLnJlYXNvbiA9PT0gXCJzdGFsZVwiKXtcbiAgICAgIHRoaXMubG9nKFwiZXJyb3JcIiwgKCkgPT4gW1widW5hdXRob3JpemVkIGxpdmVfcmVkaXJlY3QuIEZhbGxpbmcgYmFjayB0byBwYWdlIHJlcXVlc3RcIiwgcmVzcF0pXG4gICAgICBpZih0aGlzLmlzTWFpbigpKXsgdGhpcy5vblJlZGlyZWN0KHt0bzogdGhpcy5ocmVmfSkgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmKHJlc3AucmVkaXJlY3QgfHwgcmVzcC5saXZlX3JlZGlyZWN0KXtcbiAgICAgIHRoaXMuam9pblBlbmRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy5jaGFubmVsLmxlYXZlKClcbiAgICB9XG4gICAgaWYocmVzcC5yZWRpcmVjdCl7IHJldHVybiB0aGlzLm9uUmVkaXJlY3QocmVzcC5yZWRpcmVjdCkgfVxuICAgIGlmKHJlc3AubGl2ZV9yZWRpcmVjdCl7IHJldHVybiB0aGlzLm9uTGl2ZVJlZGlyZWN0KHJlc3AubGl2ZV9yZWRpcmVjdCkgfVxuICAgIHRoaXMuZGlzcGxheUVycm9yKFtQSFhfTE9BRElOR19DTEFTUywgUEhYX0VSUk9SX0NMQVNTLCBQSFhfU0VSVkVSX0VSUk9SX0NMQVNTXSlcbiAgICB0aGlzLmxvZyhcImVycm9yXCIsICgpID0+IFtcInVuYWJsZSB0byBqb2luXCIsIHJlc3BdKVxuICAgIGlmKHRoaXMubGl2ZVNvY2tldC5pc0Nvbm5lY3RlZCgpKXsgdGhpcy5saXZlU29ja2V0LnJlbG9hZFdpdGhKaXR0ZXIodGhpcykgfVxuICB9XG5cbiAgb25DbG9zZShyZWFzb24pe1xuICAgIGlmKHRoaXMuaXNEZXN0cm95ZWQoKSl7IHJldHVybiB9XG4gICAgaWYodGhpcy5saXZlU29ja2V0Lmhhc1BlbmRpbmdMaW5rKCkgJiYgcmVhc29uICE9PSBcImxlYXZlXCIpe1xuICAgICAgcmV0dXJuIHRoaXMubGl2ZVNvY2tldC5yZWxvYWRXaXRoSml0dGVyKHRoaXMpXG4gICAgfVxuICAgIHRoaXMuZGVzdHJveUFsbENoaWxkcmVuKClcbiAgICB0aGlzLmxpdmVTb2NrZXQuZHJvcEFjdGl2ZUVsZW1lbnQodGhpcylcbiAgICAvLyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGNhbiBiZSBudWxsIGluIEludGVybmV0IEV4cGxvcmVyIDExXG4gICAgaWYoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCl7IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpIH1cbiAgICBpZih0aGlzLmxpdmVTb2NrZXQuaXNVbmxvYWRlZCgpKXtcbiAgICAgIHRoaXMuc2hvd0xvYWRlcihCRUZPUkVfVU5MT0FEX0xPQURFUl9USU1FT1VUKVxuICAgIH1cbiAgfVxuXG4gIG9uRXJyb3IocmVhc29uKXtcbiAgICB0aGlzLm9uQ2xvc2UocmVhc29uKVxuICAgIGlmKHRoaXMubGl2ZVNvY2tldC5pc0Nvbm5lY3RlZCgpKXsgdGhpcy5sb2coXCJlcnJvclwiLCAoKSA9PiBbXCJ2aWV3IGNyYXNoZWRcIiwgcmVhc29uXSkgfVxuICAgIGlmKCF0aGlzLmxpdmVTb2NrZXQuaXNVbmxvYWRlZCgpKXtcbiAgICAgIGlmKHRoaXMubGl2ZVNvY2tldC5pc0Nvbm5lY3RlZCgpKXtcbiAgICAgICAgdGhpcy5kaXNwbGF5RXJyb3IoW1BIWF9MT0FESU5HX0NMQVNTLCBQSFhfRVJST1JfQ0xBU1MsIFBIWF9TRVJWRVJfRVJST1JfQ0xBU1NdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5RXJyb3IoW1BIWF9MT0FESU5HX0NMQVNTLCBQSFhfRVJST1JfQ0xBU1MsIFBIWF9DTElFTlRfRVJST1JfQ0xBU1NdKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRpc3BsYXlFcnJvcihjbGFzc2VzKXtcbiAgICBpZih0aGlzLmlzTWFpbigpKXsgRE9NLmRpc3BhdGNoRXZlbnQod2luZG93LCBcInBoeDpwYWdlLWxvYWRpbmctc3RhcnRcIiwge2RldGFpbDoge3RvOiB0aGlzLmhyZWYsIGtpbmQ6IFwiZXJyb3JcIn19KSB9XG4gICAgdGhpcy5zaG93TG9hZGVyKClcbiAgICB0aGlzLnNldENvbnRhaW5lckNsYXNzZXMoLi4uY2xhc3NlcylcbiAgICB0aGlzLmV4ZWNBbGwodGhpcy5iaW5kaW5nKFwiZGlzY29ubmVjdGVkXCIpKVxuICB9XG5cbiAgcHVzaFdpdGhSZXBseShyZWZHZW5lcmF0b3IsIGV2ZW50LCBwYXlsb2FkLCBvblJlcGx5ID0gZnVuY3Rpb24gKCl7IH0pe1xuICAgIGlmKCF0aGlzLmlzQ29ubmVjdGVkKCkpeyByZXR1cm4gfVxuXG4gICAgbGV0IFtyZWYsIFtlbF0sIG9wdHNdID0gcmVmR2VuZXJhdG9yID8gcmVmR2VuZXJhdG9yKCkgOiBbbnVsbCwgW10sIHt9XVxuICAgIGxldCBvbkxvYWRpbmdEb25lID0gZnVuY3Rpb24oKXsgfVxuICAgIGlmKG9wdHMucGFnZV9sb2FkaW5nIHx8IChlbCAmJiAoZWwuZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhQSFhfUEFHRV9MT0FESU5HKSkgIT09IG51bGwpKSl7XG4gICAgICBvbkxvYWRpbmdEb25lID0gdGhpcy5saXZlU29ja2V0LndpdGhQYWdlTG9hZGluZyh7a2luZDogXCJlbGVtZW50XCIsIHRhcmdldDogZWx9KVxuICAgIH1cblxuICAgIGlmKHR5cGVvZiAocGF5bG9hZC5jaWQpICE9PSBcIm51bWJlclwiKXsgZGVsZXRlIHBheWxvYWQuY2lkIH1cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5saXZlU29ja2V0LndyYXBQdXNoKHRoaXMsIHt0aW1lb3V0OiB0cnVlfSwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVsLnB1c2goZXZlbnQsIHBheWxvYWQsIFBVU0hfVElNRU9VVCkucmVjZWl2ZShcIm9rXCIsIHJlc3AgPT4ge1xuICAgICAgICAgIGxldCBmaW5pc2ggPSAoaG9va1JlcGx5KSA9PiB7XG4gICAgICAgICAgICBpZihyZXNwLnJlZGlyZWN0KXsgdGhpcy5vblJlZGlyZWN0KHJlc3AucmVkaXJlY3QpIH1cbiAgICAgICAgICAgIGlmKHJlc3AubGl2ZV9wYXRjaCl7IHRoaXMub25MaXZlUGF0Y2gocmVzcC5saXZlX3BhdGNoKSB9XG4gICAgICAgICAgICBpZihyZXNwLmxpdmVfcmVkaXJlY3QpeyB0aGlzLm9uTGl2ZVJlZGlyZWN0KHJlc3AubGl2ZV9yZWRpcmVjdCkgfVxuICAgICAgICAgICAgb25Mb2FkaW5nRG9uZSgpXG4gICAgICAgICAgICBvblJlcGx5KHJlc3AsIGhvb2tSZXBseSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYocmVzcC5kaWZmKXtcbiAgICAgICAgICAgIHRoaXMubGl2ZVNvY2tldC5yZXF1ZXN0RE9NVXBkYXRlKCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5hcHBseURpZmYoXCJ1cGRhdGVcIiwgcmVzcC5kaWZmLCAoe2RpZmYsIHJlcGx5LCBldmVudHN9KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYocmVmICE9PSBudWxsKXsgdGhpcy51bmRvUmVmcyhyZWYpIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZShkaWZmLCBldmVudHMpXG4gICAgICAgICAgICAgICAgZmluaXNoKHJlcGx5KVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYocmVmICE9PSBudWxsKXsgdGhpcy51bmRvUmVmcyhyZWYpIH1cbiAgICAgICAgICAgIGZpbmlzaChudWxsKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgKVxuICB9XG5cbiAgdW5kb1JlZnMocmVmKXtcbiAgICBpZighdGhpcy5pc0Nvbm5lY3RlZCgpKXsgcmV0dXJuIH0gLy8gZXhpdCBpZiBleHRlcm5hbCBmb3JtIHRyaWdnZXJlZFxuXG4gICAgRE9NLmFsbChkb2N1bWVudCwgYFske1BIWF9SRUZfU1JDfT1cIiR7dGhpcy5pZH1cIl1bJHtQSFhfUkVGfT1cIiR7cmVmfVwiXWAsIGVsID0+IHtcbiAgICAgIGxldCBkaXNhYmxlZFZhbCA9IGVsLmdldEF0dHJpYnV0ZShQSFhfRElTQUJMRUQpXG4gICAgICAvLyByZW1vdmUgcmVmc1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFBIWF9SRUYpXG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoUEhYX1JFRl9TUkMpXG4gICAgICAvLyByZXN0b3JlIGlucHV0c1xuICAgICAgaWYoZWwuZ2V0QXR0cmlidXRlKFBIWF9SRUFET05MWSkgIT09IG51bGwpe1xuICAgICAgICBlbC5yZWFkT25seSA9IGZhbHNlXG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShQSFhfUkVBRE9OTFkpXG4gICAgICB9XG4gICAgICBpZihkaXNhYmxlZFZhbCAhPT0gbnVsbCl7XG4gICAgICAgIGVsLmRpc2FibGVkID0gZGlzYWJsZWRWYWwgPT09IFwidHJ1ZVwiID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShQSFhfRElTQUJMRUQpXG4gICAgICB9XG4gICAgICAvLyByZW1vdmUgY2xhc3Nlc1xuICAgICAgUEhYX0VWRU5UX0NMQVNTRVMuZm9yRWFjaChjbGFzc05hbWUgPT4gRE9NLnJlbW92ZUNsYXNzKGVsLCBjbGFzc05hbWUpKVxuICAgICAgLy8gcmVzdG9yZSBkaXNhYmxlc1xuICAgICAgbGV0IGRpc2FibGVSZXN0b3JlID0gZWwuZ2V0QXR0cmlidXRlKFBIWF9ESVNBQkxFX1dJVEhfUkVTVE9SRSlcbiAgICAgIGlmKGRpc2FibGVSZXN0b3JlICE9PSBudWxsKXtcbiAgICAgICAgZWwuaW5uZXJUZXh0ID0gZGlzYWJsZVJlc3RvcmVcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFBIWF9ESVNBQkxFX1dJVEhfUkVTVE9SRSlcbiAgICAgIH1cbiAgICAgIGxldCB0b0VsID0gRE9NLnByaXZhdGUoZWwsIFBIWF9SRUYpXG4gICAgICBpZih0b0VsKXtcbiAgICAgICAgbGV0IGhvb2sgPSB0aGlzLnRyaWdnZXJCZWZvcmVVcGRhdGVIb29rKGVsLCB0b0VsKVxuICAgICAgICBET01QYXRjaC5wYXRjaEVsKGVsLCB0b0VsLCB0aGlzLmxpdmVTb2NrZXQuZ2V0QWN0aXZlRWxlbWVudCgpKVxuICAgICAgICBpZihob29rKXsgaG9vay5fX3VwZGF0ZWQoKSB9XG4gICAgICAgIERPTS5kZWxldGVQcml2YXRlKGVsLCBQSFhfUkVGKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBwdXRSZWYoZWxlbWVudHMsIGV2ZW50LCBvcHRzID0ge30pe1xuICAgIGxldCBuZXdSZWYgPSB0aGlzLnJlZisrXG4gICAgbGV0IGRpc2FibGVXaXRoID0gdGhpcy5iaW5kaW5nKFBIWF9ESVNBQkxFX1dJVEgpXG4gICAgaWYob3B0cy5sb2FkaW5nKXsgZWxlbWVudHMgPSBlbGVtZW50cy5jb25jYXQoRE9NLmFsbChkb2N1bWVudCwgb3B0cy5sb2FkaW5nKSl9XG5cbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYHBoeC0ke2V2ZW50fS1sb2FkaW5nYClcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShQSFhfUkVGLCBuZXdSZWYpXG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoUEhYX1JFRl9TUkMsIHRoaXMuZWwuaWQpXG4gICAgICBsZXQgZGlzYWJsZVRleHQgPSBlbC5nZXRBdHRyaWJ1dGUoZGlzYWJsZVdpdGgpXG4gICAgICBpZihkaXNhYmxlVGV4dCAhPT0gbnVsbCl7XG4gICAgICAgIGlmKCFlbC5nZXRBdHRyaWJ1dGUoUEhYX0RJU0FCTEVfV0lUSF9SRVNUT1JFKSl7XG4gICAgICAgICAgZWwuc2V0QXR0cmlidXRlKFBIWF9ESVNBQkxFX1dJVEhfUkVTVE9SRSwgZWwuaW5uZXJUZXh0KVxuICAgICAgICB9XG4gICAgICAgIGlmKGRpc2FibGVUZXh0ICE9PSBcIlwiKXsgZWwuaW5uZXJUZXh0ID0gZGlzYWJsZVRleHQgfVxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIFtuZXdSZWYsIGVsZW1lbnRzLCBvcHRzXVxuICB9XG5cbiAgY29tcG9uZW50SUQoZWwpe1xuICAgIGxldCBjaWQgPSBlbC5nZXRBdHRyaWJ1dGUgJiYgZWwuZ2V0QXR0cmlidXRlKFBIWF9DT01QT05FTlQpXG4gICAgcmV0dXJuIGNpZCA/IHBhcnNlSW50KGNpZCkgOiBudWxsXG4gIH1cblxuICB0YXJnZXRDb21wb25lbnRJRCh0YXJnZXQsIHRhcmdldEN0eCwgb3B0cyA9IHt9KXtcbiAgICBpZihpc0NpZCh0YXJnZXRDdHgpKXsgcmV0dXJuIHRhcmdldEN0eCB9XG5cbiAgICBsZXQgY2lkT3JTZWxlY3RvciA9IHRhcmdldC5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFwidGFyZ2V0XCIpKVxuICAgIGlmKGlzQ2lkKGNpZE9yU2VsZWN0b3IpKXtcbiAgICAgIHJldHVybiBwYXJzZUludChjaWRPclNlbGVjdG9yKVxuICAgIH0gZWxzZSBpZih0YXJnZXRDdHggJiYgKGNpZE9yU2VsZWN0b3IgIT09IG51bGwgfHwgb3B0cy50YXJnZXQpKXtcbiAgICAgIHJldHVybiB0aGlzLmNsb3Nlc3RDb21wb25lbnRJRCh0YXJnZXRDdHgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgY2xvc2VzdENvbXBvbmVudElEKHRhcmdldEN0eCl7XG4gICAgaWYoaXNDaWQodGFyZ2V0Q3R4KSl7XG4gICAgICByZXR1cm4gdGFyZ2V0Q3R4XG4gICAgfSBlbHNlIGlmKHRhcmdldEN0eCl7XG4gICAgICByZXR1cm4gbWF5YmUodGFyZ2V0Q3R4LmNsb3Nlc3QoYFske1BIWF9DT01QT05FTlR9XWApLCBlbCA9PiB0aGlzLm93bnNFbGVtZW50KGVsKSAmJiB0aGlzLmNvbXBvbmVudElEKGVsKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBwdXNoSG9va0V2ZW50KGVsLCB0YXJnZXRDdHgsIGV2ZW50LCBwYXlsb2FkLCBvblJlcGx5KXtcbiAgICBpZighdGhpcy5pc0Nvbm5lY3RlZCgpKXtcbiAgICAgIHRoaXMubG9nKFwiaG9va1wiLCAoKSA9PiBbXCJ1bmFibGUgdG8gcHVzaCBob29rIGV2ZW50LiBMaXZlVmlldyBub3QgY29ubmVjdGVkXCIsIGV2ZW50LCBwYXlsb2FkXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBsZXQgW3JlZiwgZWxzLCBvcHRzXSA9IHRoaXMucHV0UmVmKFtlbF0sIFwiaG9va1wiKVxuICAgIHRoaXMucHVzaFdpdGhSZXBseSgoKSA9PiBbcmVmLCBlbHMsIG9wdHNdLCBcImV2ZW50XCIsIHtcbiAgICAgIHR5cGU6IFwiaG9va1wiLFxuICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgdmFsdWU6IHBheWxvYWQsXG4gICAgICBjaWQ6IHRoaXMuY2xvc2VzdENvbXBvbmVudElEKHRhcmdldEN0eClcbiAgICB9LCAocmVzcCwgcmVwbHkpID0+IG9uUmVwbHkocmVwbHksIHJlZikpXG5cbiAgICByZXR1cm4gcmVmXG4gIH1cblxuICBleHRyYWN0TWV0YShlbCwgbWV0YSwgdmFsdWUpe1xuICAgIGxldCBwcmVmaXggPSB0aGlzLmJpbmRpbmcoXCJ2YWx1ZS1cIilcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZWwuYXR0cmlidXRlcy5sZW5ndGg7IGkrKyl7XG4gICAgICBpZighbWV0YSl7IG1ldGEgPSB7fSB9XG4gICAgICBsZXQgbmFtZSA9IGVsLmF0dHJpYnV0ZXNbaV0ubmFtZVxuICAgICAgaWYobmFtZS5zdGFydHNXaXRoKHByZWZpeCkpeyBtZXRhW25hbWUucmVwbGFjZShwcmVmaXgsIFwiXCIpXSA9IGVsLmdldEF0dHJpYnV0ZShuYW1lKSB9XG4gICAgfVxuICAgIGlmKGVsLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgIShlbCBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCkpe1xuICAgICAgaWYoIW1ldGEpeyBtZXRhID0ge30gfVxuICAgICAgbWV0YS52YWx1ZSA9IGVsLnZhbHVlXG5cbiAgICAgIGlmKGVsLnRhZ05hbWUgPT09IFwiSU5QVVRcIiAmJiBDSEVDS0FCTEVfSU5QVVRTLmluZGV4T2YoZWwudHlwZSkgPj0gMCAmJiAhZWwuY2hlY2tlZCl7XG4gICAgICAgIGRlbGV0ZSBtZXRhLnZhbHVlXG4gICAgICB9XG4gICAgfVxuICAgIGlmKHZhbHVlKXtcbiAgICAgIGlmKCFtZXRhKXsgbWV0YSA9IHt9IH1cbiAgICAgIGZvcihsZXQga2V5IGluIHZhbHVlKXsgbWV0YVtrZXldID0gdmFsdWVba2V5XSB9XG4gICAgfVxuICAgIHJldHVybiBtZXRhXG4gIH1cblxuXG4gIHB1c2hFdmVudCh0eXBlLCBlbCwgdGFyZ2V0Q3R4LCBwaHhFdmVudCwgbWV0YSwgb3B0cyA9IHt9LCBvblJlcGx5KXtcbiAgICB0aGlzLnB1c2hXaXRoUmVwbHkoKCkgPT4gdGhpcy5wdXRSZWYoW2VsXSwgdHlwZSwgb3B0cyksIFwiZXZlbnRcIiwge1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGV2ZW50OiBwaHhFdmVudCxcbiAgICAgIHZhbHVlOiB0aGlzLmV4dHJhY3RNZXRhKGVsLCBtZXRhLCBvcHRzLnZhbHVlKSxcbiAgICAgIGNpZDogdGhpcy50YXJnZXRDb21wb25lbnRJRChlbCwgdGFyZ2V0Q3R4LCBvcHRzKVxuICAgIH0sIChyZXNwLCByZXBseSkgPT4gb25SZXBseSAmJiBvblJlcGx5KHJlcGx5KSlcbiAgfVxuXG4gIHB1c2hGaWxlUHJvZ3Jlc3MoZmlsZUVsLCBlbnRyeVJlZiwgcHJvZ3Jlc3MsIG9uUmVwbHkgPSBmdW5jdGlvbiAoKXsgfSl7XG4gICAgdGhpcy5saXZlU29ja2V0LndpdGhpbk93bmVycyhmaWxlRWwuZm9ybSwgKHZpZXcsIHRhcmdldEN0eCkgPT4ge1xuICAgICAgdmlldy5wdXNoV2l0aFJlcGx5KG51bGwsIFwicHJvZ3Jlc3NcIiwge1xuICAgICAgICBldmVudDogZmlsZUVsLmdldEF0dHJpYnV0ZSh2aWV3LmJpbmRpbmcoUEhYX1BST0dSRVNTKSksXG4gICAgICAgIHJlZjogZmlsZUVsLmdldEF0dHJpYnV0ZShQSFhfVVBMT0FEX1JFRiksXG4gICAgICAgIGVudHJ5X3JlZjogZW50cnlSZWYsXG4gICAgICAgIHByb2dyZXNzOiBwcm9ncmVzcyxcbiAgICAgICAgY2lkOiB2aWV3LnRhcmdldENvbXBvbmVudElEKGZpbGVFbC5mb3JtLCB0YXJnZXRDdHgpXG4gICAgICB9LCBvblJlcGx5KVxuICAgIH0pXG4gIH1cblxuICBwdXNoSW5wdXQoaW5wdXRFbCwgdGFyZ2V0Q3R4LCBmb3JjZUNpZCwgcGh4RXZlbnQsIG9wdHMsIGNhbGxiYWNrKXtcbiAgICBsZXQgdXBsb2Fkc1xuICAgIGxldCBjaWQgPSBpc0NpZChmb3JjZUNpZCkgPyBmb3JjZUNpZCA6IHRoaXMudGFyZ2V0Q29tcG9uZW50SUQoaW5wdXRFbC5mb3JtLCB0YXJnZXRDdHgpXG4gICAgbGV0IHJlZkdlbmVyYXRvciA9ICgpID0+IHRoaXMucHV0UmVmKFtpbnB1dEVsLCBpbnB1dEVsLmZvcm1dLCBcImNoYW5nZVwiLCBvcHRzKVxuICAgIGxldCBmb3JtRGF0YVxuICAgIGxldCBtZXRhICA9IHRoaXMuZXh0cmFjdE1ldGEoaW5wdXRFbC5mb3JtKVxuICAgIGlmKGlucHV0RWwuZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhcImNoYW5nZVwiKSkpe1xuICAgICAgZm9ybURhdGEgPSBzZXJpYWxpemVGb3JtKGlucHV0RWwuZm9ybSwge190YXJnZXQ6IG9wdHMuX3RhcmdldCwgLi4ubWV0YX0sIFtpbnB1dEVsLm5hbWVdKVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtRGF0YSA9IHNlcmlhbGl6ZUZvcm0oaW5wdXRFbC5mb3JtLCB7X3RhcmdldDogb3B0cy5fdGFyZ2V0LCAuLi5tZXRhfSlcbiAgICB9XG4gICAgaWYoRE9NLmlzVXBsb2FkSW5wdXQoaW5wdXRFbCkgJiYgaW5wdXRFbC5maWxlcyAmJiBpbnB1dEVsLmZpbGVzLmxlbmd0aCA+IDApe1xuICAgICAgTGl2ZVVwbG9hZGVyLnRyYWNrRmlsZXMoaW5wdXRFbCwgQXJyYXkuZnJvbShpbnB1dEVsLmZpbGVzKSlcbiAgICB9XG4gICAgdXBsb2FkcyA9IExpdmVVcGxvYWRlci5zZXJpYWxpemVVcGxvYWRzKGlucHV0RWwpXG5cbiAgICBsZXQgZXZlbnQgPSB7XG4gICAgICB0eXBlOiBcImZvcm1cIixcbiAgICAgIGV2ZW50OiBwaHhFdmVudCxcbiAgICAgIHZhbHVlOiBmb3JtRGF0YSxcbiAgICAgIHVwbG9hZHM6IHVwbG9hZHMsXG4gICAgICBjaWQ6IGNpZFxuICAgIH1cbiAgICB0aGlzLnB1c2hXaXRoUmVwbHkocmVmR2VuZXJhdG9yLCBcImV2ZW50XCIsIGV2ZW50LCByZXNwID0+IHtcbiAgICAgIERPTS5zaG93RXJyb3IoaW5wdXRFbCwgdGhpcy5saXZlU29ja2V0LmJpbmRpbmcoUEhYX0ZFRURCQUNLX0ZPUikpXG4gICAgICBpZihET00uaXNVcGxvYWRJbnB1dChpbnB1dEVsKSAmJiBET00uaXNBdXRvVXBsb2FkKGlucHV0RWwpKXtcbiAgICAgICAgaWYoTGl2ZVVwbG9hZGVyLmZpbGVzQXdhaXRpbmdQcmVmbGlnaHQoaW5wdXRFbCkubGVuZ3RoID4gMCl7XG4gICAgICAgICAgbGV0IFtyZWYsIF9lbHNdID0gcmVmR2VuZXJhdG9yKClcbiAgICAgICAgICB0aGlzLnVwbG9hZEZpbGVzKGlucHV0RWwuZm9ybSwgdGFyZ2V0Q3R4LCByZWYsIGNpZCwgKF91cGxvYWRzKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwKVxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyQXdhaXRpbmdTdWJtaXQoaW5wdXRFbC5mb3JtKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3ApXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHRyaWdnZXJBd2FpdGluZ1N1Ym1pdChmb3JtRWwpe1xuICAgIGxldCBhd2FpdGluZ1N1Ym1pdCA9IHRoaXMuZ2V0U2NoZWR1bGVkU3VibWl0KGZvcm1FbClcbiAgICBpZihhd2FpdGluZ1N1Ym1pdCl7XG4gICAgICBsZXQgW19lbCwgX3JlZiwgX29wdHMsIGNhbGxiYWNrXSA9IGF3YWl0aW5nU3VibWl0XG4gICAgICB0aGlzLmNhbmNlbFN1Ym1pdChmb3JtRWwpXG4gICAgICBjYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgZ2V0U2NoZWR1bGVkU3VibWl0KGZvcm1FbCl7XG4gICAgcmV0dXJuIHRoaXMuZm9ybVN1Ym1pdHMuZmluZCgoW2VsLCBfcmVmLCBfb3B0cywgX2NhbGxiYWNrXSkgPT4gZWwuaXNTYW1lTm9kZShmb3JtRWwpKVxuICB9XG5cbiAgc2NoZWR1bGVTdWJtaXQoZm9ybUVsLCByZWYsIG9wdHMsIGNhbGxiYWNrKXtcbiAgICBpZih0aGlzLmdldFNjaGVkdWxlZFN1Ym1pdChmb3JtRWwpKXsgcmV0dXJuIHRydWUgfVxuICAgIHRoaXMuZm9ybVN1Ym1pdHMucHVzaChbZm9ybUVsLCByZWYsIG9wdHMsIGNhbGxiYWNrXSlcbiAgfVxuXG4gIGNhbmNlbFN1Ym1pdChmb3JtRWwpe1xuICAgIHRoaXMuZm9ybVN1Ym1pdHMgPSB0aGlzLmZvcm1TdWJtaXRzLmZpbHRlcigoW2VsLCByZWYsIF9jYWxsYmFja10pID0+IHtcbiAgICAgIGlmKGVsLmlzU2FtZU5vZGUoZm9ybUVsKSl7XG4gICAgICAgIHRoaXMudW5kb1JlZnMocmVmKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGRpc2FibGVGb3JtKGZvcm1FbCwgb3B0cyA9IHt9KXtcbiAgICBsZXQgZmlsdGVySWdub3JlZCA9IGVsID0+IHtcbiAgICAgIGxldCB1c2VySWdub3JlZCA9IGNsb3Nlc3RQaHhCaW5kaW5nKGVsLCBgJHt0aGlzLmJpbmRpbmcoUEhYX1VQREFURSl9PWlnbm9yZWAsIGVsLmZvcm0pXG4gICAgICByZXR1cm4gISh1c2VySWdub3JlZCB8fCBjbG9zZXN0UGh4QmluZGluZyhlbCwgXCJkYXRhLXBoeC11cGRhdGU9aWdub3JlXCIsIGVsLmZvcm0pKVxuICAgIH1cbiAgICBsZXQgZmlsdGVyRGlzYWJsZXMgPSBlbCA9PiB7XG4gICAgICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKHRoaXMuYmluZGluZyhQSFhfRElTQUJMRV9XSVRIKSlcbiAgICB9XG4gICAgbGV0IGZpbHRlckJ1dHRvbiA9IGVsID0+IGVsLnRhZ05hbWUgPT0gXCJCVVRUT05cIlxuXG4gICAgbGV0IGZpbHRlcklucHV0ID0gZWwgPT4gW1wiSU5QVVRcIiwgXCJURVhUQVJFQVwiLCBcIlNFTEVDVFwiXS5pbmNsdWRlcyhlbC50YWdOYW1lKVxuXG4gICAgbGV0IGZvcm1FbGVtZW50cyA9IEFycmF5LmZyb20oZm9ybUVsLmVsZW1lbnRzKVxuICAgIGxldCBkaXNhYmxlcyA9IGZvcm1FbGVtZW50cy5maWx0ZXIoZmlsdGVyRGlzYWJsZXMpXG4gICAgbGV0IGJ1dHRvbnMgPSBmb3JtRWxlbWVudHMuZmlsdGVyKGZpbHRlckJ1dHRvbikuZmlsdGVyKGZpbHRlcklnbm9yZWQpXG4gICAgbGV0IGlucHV0cyA9IGZvcm1FbGVtZW50cy5maWx0ZXIoZmlsdGVySW5wdXQpLmZpbHRlcihmaWx0ZXJJZ25vcmVkKVxuXG4gICAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKFBIWF9ESVNBQkxFRCwgYnV0dG9uLmRpc2FibGVkKVxuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZVxuICAgIH0pXG4gICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFBIWF9SRUFET05MWSwgaW5wdXQucmVhZE9ubHkpXG4gICAgICBpbnB1dC5yZWFkT25seSA9IHRydWVcbiAgICAgIGlmKGlucHV0LmZpbGVzKXtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFBIWF9ESVNBQkxFRCwgaW5wdXQuZGlzYWJsZWQpXG4gICAgICAgIGlucHV0LmRpc2FibGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0pXG4gICAgZm9ybUVsLnNldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoUEhYX1BBR0VfTE9BRElORyksIFwiXCIpXG4gICAgcmV0dXJuIHRoaXMucHV0UmVmKFtmb3JtRWxdLmNvbmNhdChkaXNhYmxlcykuY29uY2F0KGJ1dHRvbnMpLmNvbmNhdChpbnB1dHMpLCBcInN1Ym1pdFwiLCBvcHRzKVxuICB9XG5cbiAgcHVzaEZvcm1TdWJtaXQoZm9ybUVsLCB0YXJnZXRDdHgsIHBoeEV2ZW50LCBzdWJtaXR0ZXIsIG9wdHMsIG9uUmVwbHkpe1xuICAgIGxldCByZWZHZW5lcmF0b3IgPSAoKSA9PiB0aGlzLmRpc2FibGVGb3JtKGZvcm1FbCwgb3B0cylcbiAgICBsZXQgY2lkID0gdGhpcy50YXJnZXRDb21wb25lbnRJRChmb3JtRWwsIHRhcmdldEN0eClcbiAgICBpZihMaXZlVXBsb2FkZXIuaGFzVXBsb2Fkc0luUHJvZ3Jlc3MoZm9ybUVsKSl7XG4gICAgICBsZXQgW3JlZiwgX2Vsc10gPSByZWZHZW5lcmF0b3IoKVxuICAgICAgbGV0IHB1c2ggPSAoKSA9PiB0aGlzLnB1c2hGb3JtU3VibWl0KGZvcm1FbCwgc3VibWl0dGVyLCB0YXJnZXRDdHgsIHBoeEV2ZW50LCBvcHRzLCBvblJlcGx5KVxuICAgICAgcmV0dXJuIHRoaXMuc2NoZWR1bGVTdWJtaXQoZm9ybUVsLCByZWYsIG9wdHMsIHB1c2gpXG4gICAgfSBlbHNlIGlmKExpdmVVcGxvYWRlci5pbnB1dHNBd2FpdGluZ1ByZWZsaWdodChmb3JtRWwpLmxlbmd0aCA+IDApe1xuICAgICAgbGV0IFtyZWYsIGVsc10gPSByZWZHZW5lcmF0b3IoKVxuICAgICAgbGV0IHByb3h5UmVmR2VuID0gKCkgPT4gW3JlZiwgZWxzLCBvcHRzXVxuICAgICAgdGhpcy51cGxvYWRGaWxlcyhmb3JtRWwsIHRhcmdldEN0eCwgcmVmLCBjaWQsIChfdXBsb2FkcykgPT4ge1xuICAgICAgICBsZXQgbWV0YSA9IHRoaXMuZXh0cmFjdE1ldGEoZm9ybUVsKVxuICAgICAgICBsZXQgZm9ybURhdGEgPSBzZXJpYWxpemVGb3JtKGZvcm1FbCwge3N1Ym1pdHRlciwgLi4ubWV0YX0pXG4gICAgICAgIHRoaXMucHVzaFdpdGhSZXBseShwcm94eVJlZkdlbiwgXCJldmVudFwiLCB7XG4gICAgICAgICAgdHlwZTogXCJmb3JtXCIsXG4gICAgICAgICAgZXZlbnQ6IHBoeEV2ZW50LFxuICAgICAgICAgIHZhbHVlOiBmb3JtRGF0YSxcbiAgICAgICAgICBjaWQ6IGNpZFxuICAgICAgICB9LCBvblJlcGx5KVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYoIShmb3JtRWwuaGFzQXR0cmlidXRlKFBIWF9SRUYpICYmIGZvcm1FbC5jbGFzc0xpc3QuY29udGFpbnMoXCJwaHgtc3VibWl0LWxvYWRpbmdcIikpKXtcbiAgICAgIGxldCBtZXRhID0gdGhpcy5leHRyYWN0TWV0YShmb3JtRWwpXG4gICAgICBsZXQgZm9ybURhdGEgPSBzZXJpYWxpemVGb3JtKGZvcm1FbCwge3N1Ym1pdHRlciwgLi4ubWV0YX0pXG4gICAgICB0aGlzLnB1c2hXaXRoUmVwbHkocmVmR2VuZXJhdG9yLCBcImV2ZW50XCIsIHtcbiAgICAgICAgdHlwZTogXCJmb3JtXCIsXG4gICAgICAgIGV2ZW50OiBwaHhFdmVudCxcbiAgICAgICAgdmFsdWU6IGZvcm1EYXRhLFxuICAgICAgICBjaWQ6IGNpZFxuICAgICAgfSwgb25SZXBseSlcbiAgICB9XG4gIH1cblxuICB1cGxvYWRGaWxlcyhmb3JtRWwsIHRhcmdldEN0eCwgcmVmLCBjaWQsIG9uQ29tcGxldGUpe1xuICAgIGxldCBqb2luQ291bnRBdFVwbG9hZCA9IHRoaXMuam9pbkNvdW50XG4gICAgbGV0IGlucHV0RWxzID0gTGl2ZVVwbG9hZGVyLmFjdGl2ZUZpbGVJbnB1dHMoZm9ybUVsKVxuICAgIGxldCBudW1GaWxlSW5wdXRzSW5Qcm9ncmVzcyA9IGlucHV0RWxzLmxlbmd0aFxuXG4gICAgLy8gZ2V0IGVhY2ggZmlsZSBpbnB1dFxuICAgIGlucHV0RWxzLmZvckVhY2goaW5wdXRFbCA9PiB7XG4gICAgICBsZXQgdXBsb2FkZXIgPSBuZXcgTGl2ZVVwbG9hZGVyKGlucHV0RWwsIHRoaXMsICgpID0+IHtcbiAgICAgICAgbnVtRmlsZUlucHV0c0luUHJvZ3Jlc3MtLVxuICAgICAgICBpZihudW1GaWxlSW5wdXRzSW5Qcm9ncmVzcyA9PT0gMCl7IG9uQ29tcGxldGUoKSB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy51cGxvYWRlcnNbaW5wdXRFbF0gPSB1cGxvYWRlclxuICAgICAgbGV0IGVudHJpZXMgPSB1cGxvYWRlci5lbnRyaWVzKCkubWFwKGVudHJ5ID0+IGVudHJ5LnRvUHJlZmxpZ2h0UGF5bG9hZCgpKVxuXG4gICAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgICAgcmVmOiBpbnB1dEVsLmdldEF0dHJpYnV0ZShQSFhfVVBMT0FEX1JFRiksXG4gICAgICAgIGVudHJpZXM6IGVudHJpZXMsXG4gICAgICAgIGNpZDogdGhpcy50YXJnZXRDb21wb25lbnRJRChpbnB1dEVsLmZvcm0sIHRhcmdldEN0eClcbiAgICAgIH1cblxuICAgICAgdGhpcy5sb2coXCJ1cGxvYWRcIiwgKCkgPT4gW1wic2VuZGluZyBwcmVmbGlnaHQgcmVxdWVzdFwiLCBwYXlsb2FkXSlcblxuICAgICAgdGhpcy5wdXNoV2l0aFJlcGx5KG51bGwsIFwiYWxsb3dfdXBsb2FkXCIsIHBheWxvYWQsIHJlc3AgPT4ge1xuICAgICAgICB0aGlzLmxvZyhcInVwbG9hZFwiLCAoKSA9PiBbXCJnb3QgcHJlZmxpZ2h0IHJlc3BvbnNlXCIsIHJlc3BdKVxuICAgICAgICBpZihyZXNwLmVycm9yKXtcbiAgICAgICAgICB0aGlzLnVuZG9SZWZzKHJlZilcbiAgICAgICAgICBsZXQgW2VudHJ5X3JlZiwgcmVhc29uXSA9IHJlc3AuZXJyb3JcbiAgICAgICAgICB0aGlzLmxvZyhcInVwbG9hZFwiLCAoKSA9PiBbYGVycm9yIGZvciBlbnRyeSAke2VudHJ5X3JlZn1gLCByZWFzb25dKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBvbkVycm9yID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwub25FcnJvcigoKSA9PiB7XG4gICAgICAgICAgICAgIGlmKHRoaXMuam9pbkNvdW50ID09PSBqb2luQ291bnRBdFVwbG9hZCl7IGNhbGxiYWNrKCkgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBsb2FkZXIuaW5pdEFkYXB0ZXJVcGxvYWQocmVzcCwgb25FcnJvciwgdGhpcy5saXZlU29ja2V0KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBkaXNwYXRjaFVwbG9hZHModGFyZ2V0Q3R4LCBuYW1lLCBmaWxlc09yQmxvYnMpe1xuICAgIGxldCB0YXJnZXRFbGVtZW50ID0gdGhpcy50YXJnZXRDdHhFbGVtZW50KHRhcmdldEN0eCkgfHwgdGhpcy5lbDtcbiAgICBsZXQgaW5wdXRzID0gRE9NLmZpbmRVcGxvYWRJbnB1dHModGFyZ2V0RWxlbWVudCkuZmlsdGVyKGVsID0+IGVsLm5hbWUgPT09IG5hbWUpXG4gICAgaWYoaW5wdXRzLmxlbmd0aCA9PT0gMCl7IGxvZ0Vycm9yKGBubyBsaXZlIGZpbGUgaW5wdXRzIGZvdW5kIG1hdGNoaW5nIHRoZSBuYW1lIFwiJHtuYW1lfVwiYCkgfVxuICAgIGVsc2UgaWYoaW5wdXRzLmxlbmd0aCA+IDEpeyBsb2dFcnJvcihgZHVwbGljYXRlIGxpdmUgZmlsZSBpbnB1dHMgZm91bmQgbWF0Y2hpbmcgdGhlIG5hbWUgXCIke25hbWV9XCJgKSB9XG4gICAgZWxzZSB7IERPTS5kaXNwYXRjaEV2ZW50KGlucHV0c1swXSwgUEhYX1RSQUNLX1VQTE9BRFMsIHtkZXRhaWw6IHtmaWxlczogZmlsZXNPckJsb2JzfX0pIH1cbiAgfVxuXG4gIHRhcmdldEN0eEVsZW1lbnQodGFyZ2V0Q3R4KSB7XG4gICAgaWYoaXNDaWQodGFyZ2V0Q3R4KSl7XG4gICAgICBsZXQgW3RhcmdldF0gPSBET00uZmluZENvbXBvbmVudE5vZGVMaXN0KHRoaXMuZWwsIHRhcmdldEN0eClcbiAgICAgIHJldHVybiB0YXJnZXRcbiAgICB9IGVsc2UgaWYodGFyZ2V0Q3R4KSB7XG4gICAgICByZXR1cm4gdGFyZ2V0Q3R4XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcHVzaEZvcm1SZWNvdmVyeShmb3JtLCBuZXdDaWQsIGNhbGxiYWNrKXtcbiAgICB0aGlzLmxpdmVTb2NrZXQud2l0aGluT3duZXJzKGZvcm0sICh2aWV3LCB0YXJnZXRDdHgpID0+IHtcbiAgICAgIGxldCBwaHhDaGFuZ2UgPSB0aGlzLmJpbmRpbmcoXCJjaGFuZ2VcIilcbiAgICAgIGxldCBpbnB1dHMgPSBBcnJheS5mcm9tKGZvcm0uZWxlbWVudHMpLmZpbHRlcihlbCA9PiBET00uaXNGb3JtSW5wdXQoZWwpICYmIGVsLm5hbWUgJiYgIWVsLmhhc0F0dHJpYnV0ZShwaHhDaGFuZ2UpKVxuICAgICAgaWYoaW5wdXRzLmxlbmd0aCA9PT0gMCl7IHJldHVybiB9XG5cbiAgICAgIC8vIHdlIG11c3QgY2xlYXIgdHJhY2tlZCB1cGxvYWRzIGJlZm9yZSByZWNvdmVyeSBhcyB0aGV5IG5vIGxvbmdlciBoYXZlIHZhbGlkIHJlZnNcbiAgICAgIGlucHV0cy5mb3JFYWNoKGlucHV0ID0+IGlucHV0Lmhhc0F0dHJpYnV0ZShQSFhfVVBMT0FEX1JFRikgJiYgTGl2ZVVwbG9hZGVyLmNsZWFyRmlsZXMoaW5wdXQpKVxuICAgICAgbGV0IGlucHV0ID0gaW5wdXRzLmZpbmQoZWwgPT4gZWwudHlwZSAhPT0gXCJoaWRkZW5cIikgfHwgaW5wdXRzWzBdXG5cbiAgICAgIGxldCBwaHhFdmVudCA9IGZvcm0uZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhQSFhfQVVUT19SRUNPVkVSKSkgfHwgZm9ybS5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFwiY2hhbmdlXCIpKVxuICAgICAgSlMuZXhlYyhcImNoYW5nZVwiLCBwaHhFdmVudCwgdmlldywgaW5wdXQsIFtcInB1c2hcIiwge190YXJnZXQ6IGlucHV0Lm5hbWUsIG5ld0NpZDogbmV3Q2lkLCBjYWxsYmFjazogY2FsbGJhY2t9XSlcbiAgICB9KVxuICB9XG5cbiAgcHVzaExpbmtQYXRjaChocmVmLCB0YXJnZXRFbCwgY2FsbGJhY2spe1xuICAgIGxldCBsaW5rUmVmID0gdGhpcy5saXZlU29ja2V0LnNldFBlbmRpbmdMaW5rKGhyZWYpXG4gICAgbGV0IHJlZkdlbiA9IHRhcmdldEVsID8gKCkgPT4gdGhpcy5wdXRSZWYoW3RhcmdldEVsXSwgXCJjbGlja1wiKSA6IG51bGxcbiAgICBsZXQgZmFsbGJhY2sgPSAoKSA9PiB0aGlzLmxpdmVTb2NrZXQucmVkaXJlY3Qod2luZG93LmxvY2F0aW9uLmhyZWYpXG4gICAgbGV0IHVybCA9IGhyZWYuc3RhcnRzV2l0aChcIi9cIikgPyBgJHtsb2NhdGlvbi5wcm90b2NvbH0vLyR7bG9jYXRpb24uaG9zdH0ke2hyZWZ9YCA6IGhyZWZcblxuICAgIGxldCBwdXNoID0gdGhpcy5wdXNoV2l0aFJlcGx5KHJlZkdlbiwgXCJsaXZlX3BhdGNoXCIsIHt1cmx9LCByZXNwID0+IHtcbiAgICAgIHRoaXMubGl2ZVNvY2tldC5yZXF1ZXN0RE9NVXBkYXRlKCgpID0+IHtcbiAgICAgICAgaWYocmVzcC5saW5rX3JlZGlyZWN0KXtcbiAgICAgICAgICB0aGlzLmxpdmVTb2NrZXQucmVwbGFjZU1haW4oaHJlZiwgbnVsbCwgY2FsbGJhY2ssIGxpbmtSZWYpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYodGhpcy5saXZlU29ja2V0LmNvbW1pdFBlbmRpbmdMaW5rKGxpbmtSZWYpKXtcbiAgICAgICAgICAgIHRoaXMuaHJlZiA9IGhyZWZcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5hcHBseVBlbmRpbmdVcGRhdGVzKClcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhsaW5rUmVmKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpZihwdXNoKXtcbiAgICAgIHB1c2gucmVjZWl2ZShcInRpbWVvdXRcIiwgZmFsbGJhY2spXG4gICAgfSBlbHNlIHtcbiAgICAgIGZhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICBmb3Jtc0ZvclJlY292ZXJ5KGh0bWwpe1xuICAgIGlmKHRoaXMuam9pbkNvdW50ID09PSAwKXsgcmV0dXJuIFtdIH1cblxuICAgIGxldCBwaHhDaGFuZ2UgPSB0aGlzLmJpbmRpbmcoXCJjaGFuZ2VcIilcbiAgICBsZXQgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIilcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sXG5cbiAgICByZXR1cm4gKFxuICAgICAgRE9NLmFsbCh0aGlzLmVsLCBgZm9ybVske3BoeENoYW5nZX1dYClcbiAgICAgICAgLmZpbHRlcihmb3JtID0+IGZvcm0uaWQgJiYgdGhpcy5vd25zRWxlbWVudChmb3JtKSlcbiAgICAgICAgLmZpbHRlcihmb3JtID0+IGZvcm0uZWxlbWVudHMubGVuZ3RoID4gMClcbiAgICAgICAgLmZpbHRlcihmb3JtID0+IGZvcm0uZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhQSFhfQVVUT19SRUNPVkVSKSkgIT09IFwiaWdub3JlXCIpXG4gICAgICAgIC5tYXAoZm9ybSA9PiB7XG4gICAgICAgICAgLy8gYXR0cmlidXRlIGdpdmVuIHZpYSBKUyBtb2R1bGUgbmVlZHMgdG8gYmUgZXNjYXBlZCBhcyBpdCBjb250YWlucyB0aGUgc3ltYm9scyBbXVwiLFxuICAgICAgICAgIC8vIHdoaWNoIHJlc3VsdCBpbiBhbiBpbnZhbGlkIGNzcyBzZWxlY3RvciBvdGhlcndpc2UuXG4gICAgICAgICAgY29uc3QgcGh4Q2hhbmdlVmFsdWUgPSBmb3JtLmdldEF0dHJpYnV0ZShwaHhDaGFuZ2UpLnJlcGxhY2VBbGwoLyhbXFxbXFxdXCJdKS9nLCAnXFxcXCQxJylcbiAgICAgICAgICBsZXQgbmV3Rm9ybSA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcihgZm9ybVtpZD1cIiR7Zm9ybS5pZH1cIl1bJHtwaHhDaGFuZ2V9PVwiJHtwaHhDaGFuZ2VWYWx1ZX1cIl1gKVxuICAgICAgICAgIGlmKG5ld0Zvcm0pe1xuICAgICAgICAgICAgcmV0dXJuIFtmb3JtLCBuZXdGb3JtLCB0aGlzLnRhcmdldENvbXBvbmVudElEKG5ld0Zvcm0pXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW2Zvcm0sIGZvcm0sIHRoaXMudGFyZ2V0Q29tcG9uZW50SUQoZm9ybSldXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKChbZm9ybSwgbmV3Rm9ybSwgbmV3Q2lkXSkgPT4gbmV3Rm9ybSlcbiAgICApXG4gIH1cblxuICBtYXliZVB1c2hDb21wb25lbnRzRGVzdHJveWVkKGRlc3Ryb3llZENJRHMpe1xuICAgIGxldCB3aWxsRGVzdHJveUNJRHMgPSBkZXN0cm95ZWRDSURzLmZpbHRlcihjaWQgPT4ge1xuICAgICAgcmV0dXJuIERPTS5maW5kQ29tcG9uZW50Tm9kZUxpc3QodGhpcy5lbCwgY2lkKS5sZW5ndGggPT09IDBcbiAgICB9KVxuICAgIGlmKHdpbGxEZXN0cm95Q0lEcy5sZW5ndGggPiAwKXtcbiAgICAgIHRoaXMucHJ1bmluZ0NJRHMucHVzaCguLi53aWxsRGVzdHJveUNJRHMpXG5cbiAgICAgIHRoaXMucHVzaFdpdGhSZXBseShudWxsLCBcImNpZHNfd2lsbF9kZXN0cm95XCIsIHtjaWRzOiB3aWxsRGVzdHJveUNJRHN9LCAoKSA9PiB7XG4gICAgICAgIC8vIFRoZSBjaWRzIGFyZSBlaXRoZXIgYmFjayBvbiB0aGUgcGFnZSBvciB0aGV5IHdpbGwgYmUgZnVsbHkgcmVtb3ZlZCxcbiAgICAgICAgLy8gc28gd2UgY2FuIHJlbW92ZSB0aGVtIGZyb20gdGhlIHBydW5pbmdDSURzLlxuICAgICAgICB0aGlzLnBydW5pbmdDSURzID0gdGhpcy5wcnVuaW5nQ0lEcy5maWx0ZXIoY2lkID0+IHdpbGxEZXN0cm95Q0lEcy5pbmRleE9mKGNpZCkgIT09IC0xKVxuXG4gICAgICAgIC8vIFNlZSBpZiBhbnkgb2YgdGhlIGNpZHMgd2Ugd2FudGVkIHRvIGRlc3Ryb3kgd2VyZSBhZGRlZCBiYWNrLFxuICAgICAgICAvLyBpZiB0aGV5IHdlcmUgYWRkZWQgYmFjaywgd2UgZG9uJ3QgYWN0dWFsbHkgZGVzdHJveSB0aGVtLlxuICAgICAgICBsZXQgY29tcGxldGVseURlc3Ryb3lDSURzID0gd2lsbERlc3Ryb3lDSURzLmZpbHRlcihjaWQgPT4ge1xuICAgICAgICAgIHJldHVybiBET00uZmluZENvbXBvbmVudE5vZGVMaXN0KHRoaXMuZWwsIGNpZCkubGVuZ3RoID09PSAwXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYoY29tcGxldGVseURlc3Ryb3lDSURzLmxlbmd0aCA+IDApe1xuICAgICAgICAgIHRoaXMucHVzaFdpdGhSZXBseShudWxsLCBcImNpZHNfZGVzdHJveWVkXCIsIHtjaWRzOiBjb21wbGV0ZWx5RGVzdHJveUNJRHN9LCAocmVzcCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZC5wcnVuZUNJRHMocmVzcC5jaWRzKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgb3duc0VsZW1lbnQoZWwpe1xuICAgIGxldCBwYXJlbnRWaWV3RWwgPSBlbC5jbG9zZXN0KFBIWF9WSUVXX1NFTEVDVE9SKVxuICAgIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoUEhYX1BBUkVOVF9JRCkgPT09IHRoaXMuaWQgfHxcbiAgICAgIChwYXJlbnRWaWV3RWwgJiYgcGFyZW50Vmlld0VsLmlkID09PSB0aGlzLmlkKSB8fFxuICAgICAgKCFwYXJlbnRWaWV3RWwgJiYgdGhpcy5pc0RlYWQpXG4gIH1cblxuICBzdWJtaXRGb3JtKGZvcm0sIHRhcmdldEN0eCwgcGh4RXZlbnQsIHN1Ym1pdHRlciwgb3B0cyA9IHt9KXtcbiAgICBET00ucHV0UHJpdmF0ZShmb3JtLCBQSFhfSEFTX1NVQk1JVFRFRCwgdHJ1ZSlcbiAgICBsZXQgcGh4RmVlZGJhY2sgPSB0aGlzLmxpdmVTb2NrZXQuYmluZGluZyhQSFhfRkVFREJBQ0tfRk9SKVxuICAgIGxldCBpbnB1dHMgPSBBcnJheS5mcm9tKGZvcm0uZWxlbWVudHMpXG4gICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gRE9NLnB1dFByaXZhdGUoaW5wdXQsIFBIWF9IQVNfU1VCTUlUVEVELCB0cnVlKSlcbiAgICB0aGlzLmxpdmVTb2NrZXQuYmx1ckFjdGl2ZUVsZW1lbnQodGhpcylcbiAgICB0aGlzLnB1c2hGb3JtU3VibWl0KGZvcm0sIHRhcmdldEN0eCwgcGh4RXZlbnQsIHN1Ym1pdHRlciwgb3B0cywgKCkgPT4ge1xuICAgICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gRE9NLnNob3dFcnJvcihpbnB1dCwgcGh4RmVlZGJhY2spKVxuICAgICAgdGhpcy5saXZlU29ja2V0LnJlc3RvcmVQcmV2aW91c2x5QWN0aXZlRm9jdXMoKVxuICAgIH0pXG4gIH1cblxuICBiaW5kaW5nKGtpbmQpeyByZXR1cm4gdGhpcy5saXZlU29ja2V0LmJpbmRpbmcoa2luZCkgfVxufVxuIiwgIi8qKiBJbml0aWFsaXplcyB0aGUgTGl2ZVNvY2tldFxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZW5kUG9pbnQgLSBUaGUgc3RyaW5nIFdlYlNvY2tldCBlbmRwb2ludCwgaWUsIGBcIndzczovL2V4YW1wbGUuY29tL2xpdmVcImAsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFwiL2xpdmVcImAgKGluaGVyaXRlZCBob3N0ICYgcHJvdG9jb2wpXG4gKiBAcGFyYW0ge1Bob2VuaXguU29ja2V0fSBzb2NrZXQgLSB0aGUgcmVxdWlyZWQgUGhvZW5peCBTb2NrZXQgY2xhc3MgaW1wb3J0ZWQgZnJvbSBcInBob2VuaXhcIi4gRm9yIGV4YW1wbGU6XG4gKlxuICogICAgIGltcG9ydCB7U29ja2V0fSBmcm9tIFwicGhvZW5peFwiXG4gKiAgICAgaW1wb3J0IHtMaXZlU29ja2V0fSBmcm9tIFwicGhvZW5peF9saXZlX3ZpZXdcIlxuICogICAgIGxldCBsaXZlU29ja2V0ID0gbmV3IExpdmVTb2NrZXQoXCIvbGl2ZVwiLCBTb2NrZXQsIHsuLi59KVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0c10gLSBPcHRpb25hbCBjb25maWd1cmF0aW9uLiBPdXRzaWRlIG9mIGtleXMgbGlzdGVkIGJlbG93LCBhbGxcbiAqIGNvbmZpZ3VyYXRpb24gaXMgcGFzc2VkIGRpcmVjdGx5IHRvIHRoZSBQaG9lbml4IFNvY2tldCBjb25zdHJ1Y3Rvci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0cy5kZWZhdWx0c10gLSBUaGUgb3B0aW9uYWwgZGVmYXVsdHMgdG8gdXNlIGZvciB2YXJpb3VzIGJpbmRpbmdzLFxuICogc3VjaCBhcyBgcGh4LWRlYm91bmNlYC4gU3VwcG9ydHMgdGhlIGZvbGxvd2luZyBrZXlzOlxuICpcbiAqICAgLSBkZWJvdW5jZSAtIHRoZSBtaWxsaXNlY29uZCBwaHgtZGVib3VuY2UgdGltZS4gRGVmYXVsdHMgMzAwXG4gKiAgIC0gdGhyb3R0bGUgLSB0aGUgbWlsbGlzZWNvbmQgcGh4LXRocm90dGxlIHRpbWUuIERlZmF1bHRzIDMwMFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLnBhcmFtc10gLSBUaGUgb3B0aW9uYWwgZnVuY3Rpb24gZm9yIHBhc3NpbmcgY29ubmVjdCBwYXJhbXMuXG4gKiBUaGUgZnVuY3Rpb24gcmVjZWl2ZXMgdGhlIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gTGl2ZVZpZXcuIEZvciBleGFtcGxlOlxuICpcbiAqICAgICAoZWwpID0+IHt2aWV3OiBlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW15LXZpZXctbmFtZVwiLCB0b2tlbjogd2luZG93Lm15VG9rZW59XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmJpbmRpbmdQcmVmaXhdIC0gVGhlIG9wdGlvbmFsIHByZWZpeCB0byB1c2UgZm9yIGFsbCBwaHggRE9NIGFubm90YXRpb25zLlxuICogRGVmYXVsdHMgdG8gXCJwaHgtXCIuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHMuaG9va3NdIC0gVGhlIG9wdGlvbmFsIG9iamVjdCBmb3IgcmVmZXJlbmNpbmcgTGl2ZVZpZXcgaG9vayBjYWxsYmFja3MuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHMudXBsb2FkZXJzXSAtIFRoZSBvcHRpb25hbCBvYmplY3QgZm9yIHJlZmVyZW5jaW5nIExpdmVWaWV3IHVwbG9hZGVyIGNhbGxiYWNrcy5cbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdHMubG9hZGVyVGltZW91dF0gLSBUaGUgb3B0aW9uYWwgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIGFwcGx5XG4gKiBsb2FkaW5nIHN0YXRlcy5cbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdHMubWF4UmVsb2Fkc10gLSBUaGUgbWF4aW11bSByZWxvYWRzIGJlZm9yZSBlbnRlcmluZyBmYWlsc2FmZSBtb2RlLlxuICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0cy5yZWxvYWRKaXR0ZXJNaW5dIC0gVGhlIG1pbmltdW0gdGltZSBiZXR3ZWVuIG5vcm1hbCByZWxvYWQgYXR0ZW1wdHMuXG4gKiBAcGFyYW0ge2ludGVnZXJ9IFtvcHRzLnJlbG9hZEppdHRlck1heF0gLSBUaGUgbWF4aW11bSB0aW1lIGJldHdlZW4gbm9ybWFsIHJlbG9hZCBhdHRlbXB0cy5cbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdHMuZmFpbHNhZmVKaXR0ZXJdIC0gVGhlIHRpbWUgYmV0d2VlbiByZWxvYWQgYXR0ZW1wdHMgaW4gZmFpbHNhZmUgbW9kZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLnZpZXdMb2dnZXJdIC0gVGhlIG9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvZyBkZWJ1ZyBpbmZvcm1hdGlvbi4gRm9yIGV4YW1wbGU6XG4gKlxuICogICAgICh2aWV3LCBraW5kLCBtc2csIG9iaikgPT4gY29uc29sZS5sb2coYCR7dmlldy5pZH0gJHtraW5kfTogJHttc2d9IC0gYCwgb2JqKVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0cy5tZXRhZGF0YV0gLSBUaGUgb3B0aW9uYWwgb2JqZWN0IG1hcHBpbmcgZXZlbnQgbmFtZXMgdG8gZnVuY3Rpb25zIGZvclxuICogcG9wdWxhdGluZyBldmVudCBtZXRhZGF0YS4gRm9yIGV4YW1wbGU6XG4gKlxuICogICAgIG1ldGFkYXRhOiB7XG4gKiAgICAgICBjbGljazogKGUsIGVsKSA9PiB7XG4gKiAgICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICAgY3RybEtleTogZS5jdHJsS2V5LFxuICogICAgICAgICAgIG1ldGFLZXk6IGUubWV0YUtleSxcbiAqICAgICAgICAgICBkZXRhaWw6IGUuZGV0YWlsIHx8IDEsXG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0sXG4gKiAgICAgICBrZXlkb3duOiAoZSwgZWwpID0+IHtcbiAqICAgICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAgICBrZXk6IGUua2V5LFxuICogICAgICAgICAgIGN0cmxLZXk6IGUuY3RybEtleSxcbiAqICAgICAgICAgICBtZXRhS2V5OiBlLm1ldGFLZXksXG4gKiAgICAgICAgICAgc2hpZnRLZXk6IGUuc2hpZnRLZXlcbiAqICAgICAgICAgfVxuICogICAgICAgfVxuICogICAgIH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0cy5zZXNzaW9uU3RvcmFnZV0gLSBBbiBvcHRpb25hbCBTdG9yYWdlIGNvbXBhdGlibGUgb2JqZWN0XG4gKiBVc2VmdWwgd2hlbiBMaXZlVmlldyB3b24ndCBoYXZlIGFjY2VzcyB0byBgc2Vzc2lvblN0b3JhZ2VgLiAgRm9yIGV4YW1wbGUsIFRoaXMgY291bGRcbiAqIGhhcHBlbiBpZiBhIHNpdGUgbG9hZHMgYSBjcm9zcy1kb21haW4gTGl2ZVZpZXcgaW4gYW4gaWZyYW1lLiAgRXhhbXBsZSB1c2FnZTpcbiAqXG4gKiAgICAgY2xhc3MgSW5NZW1vcnlTdG9yYWdlIHtcbiAqICAgICAgIGNvbnN0cnVjdG9yKCkgeyB0aGlzLnN0b3JhZ2UgPSB7fSB9XG4gKiAgICAgICBnZXRJdGVtKGtleU5hbWUpIHsgcmV0dXJuIHRoaXMuc3RvcmFnZVtrZXlOYW1lXSB8fCBudWxsIH1cbiAqICAgICAgIHJlbW92ZUl0ZW0oa2V5TmFtZSkgeyBkZWxldGUgdGhpcy5zdG9yYWdlW2tleU5hbWVdIH1cbiAqICAgICAgIHNldEl0ZW0oa2V5TmFtZSwga2V5VmFsdWUpIHsgdGhpcy5zdG9yYWdlW2tleU5hbWVdID0ga2V5VmFsdWUgfVxuICogICAgIH1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHMubG9jYWxTdG9yYWdlXSAtIEFuIG9wdGlvbmFsIFN0b3JhZ2UgY29tcGF0aWJsZSBvYmplY3RcbiAqIFVzZWZ1bCBmb3Igd2hlbiBMaXZlVmlldyB3b24ndCBoYXZlIGFjY2VzcyB0byBgbG9jYWxTdG9yYWdlYC5cbiAqIFNlZSBgb3B0cy5zZXNzaW9uU3RvcmFnZWAgZm9yIGV4YW1wbGVzLlxuKi9cblxuaW1wb3J0IHtcbiAgQklORElOR19QUkVGSVgsXG4gIENPTlNFQ1VUSVZFX1JFTE9BRFMsXG4gIERFRkFVTFRTLFxuICBGQUlMU0FGRV9KSVRURVIsXG4gIExPQURFUl9USU1FT1VULFxuICBNQVhfUkVMT0FEUyxcbiAgUEhYX0RFQk9VTkNFLFxuICBQSFhfRFJPUF9UQVJHRVQsXG4gIFBIWF9IQVNfRk9DVVNFRCxcbiAgUEhYX0tFWSxcbiAgUEhYX0xJTktfU1RBVEUsXG4gIFBIWF9MSVZFX0xJTkssXG4gIFBIWF9MVl9ERUJVRyxcbiAgUEhYX0xWX0xBVEVOQ1lfU0lNLFxuICBQSFhfTFZfUFJPRklMRSxcbiAgUEhYX01BSU4sXG4gIFBIWF9QQVJFTlRfSUQsXG4gIFBIWF9WSUVXX1NFTEVDVE9SLFxuICBQSFhfUk9PVF9JRCxcbiAgUEhYX1RIUk9UVExFLFxuICBQSFhfVFJBQ0tfVVBMT0FEUyxcbiAgUEhYX1NFU1NJT04sXG4gIFBIWF9GRUVEQkFDS19GT1IsXG4gIFJFTE9BRF9KSVRURVJfTUlOLFxuICBSRUxPQURfSklUVEVSX01BWCxcbiAgUEhYX1JFRixcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbiAgY2xvbmUsXG4gIGNsb3Nlc3RQaHhCaW5kaW5nLFxuICBjbG9zdXJlLFxuICBkZWJ1ZyxcbiAgaXNPYmplY3QsXG4gIG1heWJlXG59IGZyb20gXCIuL3V0aWxzXCJcblxuaW1wb3J0IEJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5pbXBvcnQgRE9NIGZyb20gXCIuL2RvbVwiXG5pbXBvcnQgSG9va3MgZnJvbSBcIi4vaG9va3NcIlxuaW1wb3J0IExpdmVVcGxvYWRlciBmcm9tIFwiLi9saXZlX3VwbG9hZGVyXCJcbmltcG9ydCBWaWV3IGZyb20gXCIuL3ZpZXdcIlxuaW1wb3J0IEpTIGZyb20gXCIuL2pzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGl2ZVNvY2tldCB7XG4gIGNvbnN0cnVjdG9yKHVybCwgcGh4U29ja2V0LCBvcHRzID0ge30pe1xuICAgIHRoaXMudW5sb2FkZWQgPSBmYWxzZVxuICAgIGlmKCFwaHhTb2NrZXQgfHwgcGh4U29ja2V0LmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiT2JqZWN0XCIpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBcbiAgICAgIGEgcGhvZW5peCBTb2NrZXQgbXVzdCBiZSBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIHRoZSBMaXZlU29ja2V0IGNvbnN0cnVjdG9yLiBGb3IgZXhhbXBsZTpcblxuICAgICAgICAgIGltcG9ydCB7U29ja2V0fSBmcm9tIFwicGhvZW5peFwiXG4gICAgICAgICAgaW1wb3J0IHtMaXZlU29ja2V0fSBmcm9tIFwicGhvZW5peF9saXZlX3ZpZXdcIlxuICAgICAgICAgIGxldCBsaXZlU29ja2V0ID0gbmV3IExpdmVTb2NrZXQoXCIvbGl2ZVwiLCBTb2NrZXQsIHsuLi59KVxuICAgICAgYClcbiAgICB9XG4gICAgdGhpcy5zb2NrZXQgPSBuZXcgcGh4U29ja2V0KHVybCwgb3B0cylcbiAgICB0aGlzLmJpbmRpbmdQcmVmaXggPSBvcHRzLmJpbmRpbmdQcmVmaXggfHwgQklORElOR19QUkVGSVhcbiAgICB0aGlzLm9wdHMgPSBvcHRzXG4gICAgdGhpcy5wYXJhbXMgPSBjbG9zdXJlKG9wdHMucGFyYW1zIHx8IHt9KVxuICAgIHRoaXMudmlld0xvZ2dlciA9IG9wdHMudmlld0xvZ2dlclxuICAgIHRoaXMubWV0YWRhdGFDYWxsYmFja3MgPSBvcHRzLm1ldGFkYXRhIHx8IHt9XG4gICAgdGhpcy5kZWZhdWx0cyA9IE9iamVjdC5hc3NpZ24oY2xvbmUoREVGQVVMVFMpLCBvcHRzLmRlZmF1bHRzIHx8IHt9KVxuICAgIHRoaXMuYWN0aXZlRWxlbWVudCA9IG51bGxcbiAgICB0aGlzLnByZXZBY3RpdmUgPSBudWxsXG4gICAgdGhpcy5zaWxlbmNlZCA9IGZhbHNlXG4gICAgdGhpcy5tYWluID0gbnVsbFxuICAgIHRoaXMub3V0Z29pbmdNYWluRWwgPSBudWxsXG4gICAgdGhpcy5jbGlja1N0YXJ0ZWRBdFRhcmdldCA9IG51bGxcbiAgICB0aGlzLmxpbmtSZWYgPSAxXG4gICAgdGhpcy5yb290cyA9IHt9XG4gICAgdGhpcy5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICB0aGlzLnBlbmRpbmdMaW5rID0gbnVsbFxuICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gY2xvbmUod2luZG93LmxvY2F0aW9uKVxuICAgIHRoaXMuaG9va3MgPSBvcHRzLmhvb2tzIHx8IHt9XG4gICAgdGhpcy51cGxvYWRlcnMgPSBvcHRzLnVwbG9hZGVycyB8fCB7fVxuICAgIHRoaXMubG9hZGVyVGltZW91dCA9IG9wdHMubG9hZGVyVGltZW91dCB8fCBMT0FERVJfVElNRU9VVFxuICAgIHRoaXMucmVsb2FkV2l0aEppdHRlclRpbWVyID0gbnVsbFxuICAgIHRoaXMubWF4UmVsb2FkcyA9IG9wdHMubWF4UmVsb2FkcyB8fCBNQVhfUkVMT0FEU1xuICAgIHRoaXMucmVsb2FkSml0dGVyTWluID0gb3B0cy5yZWxvYWRKaXR0ZXJNaW4gfHwgUkVMT0FEX0pJVFRFUl9NSU5cbiAgICB0aGlzLnJlbG9hZEppdHRlck1heCA9IG9wdHMucmVsb2FkSml0dGVyTWF4IHx8IFJFTE9BRF9KSVRURVJfTUFYXG4gICAgdGhpcy5mYWlsc2FmZUppdHRlciA9IG9wdHMuZmFpbHNhZmVKaXR0ZXIgfHwgRkFJTFNBRkVfSklUVEVSXG4gICAgdGhpcy5sb2NhbFN0b3JhZ2UgPSBvcHRzLmxvY2FsU3RvcmFnZSB8fCB3aW5kb3cubG9jYWxTdG9yYWdlXG4gICAgdGhpcy5zZXNzaW9uU3RvcmFnZSA9IG9wdHMuc2Vzc2lvblN0b3JhZ2UgfHwgd2luZG93LnNlc3Npb25TdG9yYWdlXG4gICAgdGhpcy5ib3VuZFRvcExldmVsRXZlbnRzID0gZmFsc2VcbiAgICB0aGlzLmRvbUNhbGxiYWNrcyA9IE9iamVjdC5hc3NpZ24oe29uTm9kZUFkZGVkOiBjbG9zdXJlKCksIG9uQmVmb3JlRWxVcGRhdGVkOiBjbG9zdXJlKCl9LCBvcHRzLmRvbSB8fCB7fSlcbiAgICB0aGlzLnRyYW5zaXRpb25zID0gbmV3IFRyYW5zaXRpb25TZXQoKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgX2UgPT4ge1xuICAgICAgdGhpcy51bmxvYWRlZCA9IHRydWVcbiAgICB9KVxuICAgIHRoaXMuc29ja2V0Lm9uT3BlbigoKSA9PiB7XG4gICAgICBpZih0aGlzLmlzVW5sb2FkZWQoKSl7XG4gICAgICAgIC8vIHJlbG9hZCBwYWdlIGlmIGJlaW5nIHJlc3RvcmVkIGZyb20gYmFjay9mb3J3YXJkIGNhY2hlIGFuZCBicm93c2VyIGRvZXMgbm90IGVtaXQgXCJwYWdlc2hvd1wiXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBwdWJsaWNcblxuICBpc1Byb2ZpbGVFbmFibGVkKCl7IHJldHVybiB0aGlzLnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEhYX0xWX1BST0ZJTEUpID09PSBcInRydWVcIiB9XG5cbiAgaXNEZWJ1Z0VuYWJsZWQoKXsgcmV0dXJuIHRoaXMuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQSFhfTFZfREVCVUcpID09PSBcInRydWVcIiB9XG5cbiAgaXNEZWJ1Z0Rpc2FibGVkKCl7IHJldHVybiB0aGlzLnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEhYX0xWX0RFQlVHKSA9PT0gXCJmYWxzZVwiIH1cblxuICBlbmFibGVEZWJ1ZygpeyB0aGlzLnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEhYX0xWX0RFQlVHLCBcInRydWVcIikgfVxuXG4gIGVuYWJsZVByb2ZpbGluZygpeyB0aGlzLnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEhYX0xWX1BST0ZJTEUsIFwidHJ1ZVwiKSB9XG5cbiAgZGlzYWJsZURlYnVnKCl7IHRoaXMuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQSFhfTFZfREVCVUcsIFwiZmFsc2VcIikgfVxuXG4gIGRpc2FibGVQcm9maWxpbmcoKXsgdGhpcy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFBIWF9MVl9QUk9GSUxFKSB9XG5cbiAgZW5hYmxlTGF0ZW5jeVNpbSh1cHBlckJvdW5kTXMpe1xuICAgIHRoaXMuZW5hYmxlRGVidWcoKVxuICAgIGNvbnNvbGUubG9nKFwibGF0ZW5jeSBzaW11bGF0b3IgZW5hYmxlZCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoaXMgYnJvd3NlciBzZXNzaW9uLiBDYWxsIGRpc2FibGVMYXRlbmN5U2ltKCkgdG8gZGlzYWJsZVwiKVxuICAgIHRoaXMuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQSFhfTFZfTEFURU5DWV9TSU0sIHVwcGVyQm91bmRNcylcbiAgfVxuXG4gIGRpc2FibGVMYXRlbmN5U2ltKCl7IHRoaXMuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShQSFhfTFZfTEFURU5DWV9TSU0pIH1cblxuICBnZXRMYXRlbmN5U2ltKCl7XG4gICAgbGV0IHN0ciA9IHRoaXMuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQSFhfTFZfTEFURU5DWV9TSU0pXG4gICAgcmV0dXJuIHN0ciA/IHBhcnNlSW50KHN0cikgOiBudWxsXG4gIH1cblxuICBnZXRTb2NrZXQoKXsgcmV0dXJuIHRoaXMuc29ja2V0IH1cblxuICBjb25uZWN0KCl7XG4gICAgLy8gZW5hYmxlIGRlYnVnIGJ5IGRlZmF1bHQgaWYgb24gbG9jYWxob3N0IGFuZCBub3QgZXhwbGljaXRseSBkaXNhYmxlZFxuICAgIGlmKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIiAmJiAhdGhpcy5pc0RlYnVnRGlzYWJsZWQoKSl7IHRoaXMuZW5hYmxlRGVidWcoKSB9XG4gICAgbGV0IGRvQ29ubmVjdCA9ICgpID0+IHtcbiAgICAgIGlmKHRoaXMuam9pblJvb3RWaWV3cygpKXtcbiAgICAgICAgdGhpcy5iaW5kVG9wTGV2ZWxFdmVudHMoKVxuICAgICAgICB0aGlzLnNvY2tldC5jb25uZWN0KClcbiAgICAgIH0gZWxzZSBpZih0aGlzLm1haW4pe1xuICAgICAgICB0aGlzLnNvY2tldC5jb25uZWN0KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYmluZFRvcExldmVsRXZlbnRzKHtkZWFkOiB0cnVlfSlcbiAgICAgIH1cbiAgICAgIHRoaXMuam9pbkRlYWRWaWV3KClcbiAgICB9XG4gICAgaWYoW1wiY29tcGxldGVcIiwgXCJsb2FkZWRcIiwgXCJpbnRlcmFjdGl2ZVwiXS5pbmRleE9mKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IDApe1xuICAgICAgZG9Db25uZWN0KClcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gZG9Db25uZWN0KCkpXG4gICAgfVxuICB9XG5cbiAgZGlzY29ubmVjdChjYWxsYmFjayl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucmVsb2FkV2l0aEppdHRlclRpbWVyKVxuICAgIHRoaXMuc29ja2V0LmRpc2Nvbm5lY3QoY2FsbGJhY2spXG4gIH1cblxuICByZXBsYWNlVHJhbnNwb3J0KHRyYW5zcG9ydCl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucmVsb2FkV2l0aEppdHRlclRpbWVyKVxuICAgIHRoaXMuc29ja2V0LnJlcGxhY2VUcmFuc3BvcnQodHJhbnNwb3J0KVxuICAgIHRoaXMuY29ubmVjdCgpXG4gIH1cblxuICBleGVjSlMoZWwsIGVuY29kZWRKUywgZXZlbnRUeXBlID0gbnVsbCl7XG4gICAgdGhpcy5vd25lcihlbCwgdmlldyA9PiBKUy5leGVjKGV2ZW50VHlwZSwgZW5jb2RlZEpTLCB2aWV3LCBlbCkpXG4gIH1cblxuICAvLyBwcml2YXRlXG5cbiAgZXhlY0pTSG9va1B1c2goZWwsIHBoeEV2ZW50LCBkYXRhLCBjYWxsYmFjayl7XG4gICAgdGhpcy53aXRoaW5Pd25lcnMoZWwsIHZpZXcgPT4ge1xuICAgICAgSlMuZXhlYyhcImhvb2tcIiwgcGh4RXZlbnQsIHZpZXcsIGVsLCBbXCJwdXNoXCIsIHtkYXRhLCBjYWxsYmFja31dKVxuICAgIH0pXG4gIH1cblxuICB1bmxvYWQoKXtcbiAgICBpZih0aGlzLnVubG9hZGVkKXsgcmV0dXJuIH1cbiAgICBpZih0aGlzLm1haW4gJiYgdGhpcy5pc0Nvbm5lY3RlZCgpKXsgdGhpcy5sb2codGhpcy5tYWluLCBcInNvY2tldFwiLCAoKSA9PiBbXCJkaXNjb25uZWN0IGZvciBwYWdlIG5hdlwiXSkgfVxuICAgIHRoaXMudW5sb2FkZWQgPSB0cnVlXG4gICAgdGhpcy5kZXN0cm95QWxsVmlld3MoKVxuICAgIHRoaXMuZGlzY29ubmVjdCgpXG4gIH1cblxuICB0cmlnZ2VyRE9NKGtpbmQsIGFyZ3MpeyB0aGlzLmRvbUNhbGxiYWNrc1traW5kXSguLi5hcmdzKSB9XG5cbiAgdGltZShuYW1lLCBmdW5jKXtcbiAgICBpZighdGhpcy5pc1Byb2ZpbGVFbmFibGVkKCkgfHwgIWNvbnNvbGUudGltZSl7IHJldHVybiBmdW5jKCkgfVxuICAgIGNvbnNvbGUudGltZShuYW1lKVxuICAgIGxldCByZXN1bHQgPSBmdW5jKClcbiAgICBjb25zb2xlLnRpbWVFbmQobmFtZSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBsb2codmlldywga2luZCwgbXNnQ2FsbGJhY2spe1xuICAgIGlmKHRoaXMudmlld0xvZ2dlcil7XG4gICAgICBsZXQgW21zZywgb2JqXSA9IG1zZ0NhbGxiYWNrKClcbiAgICAgIHRoaXMudmlld0xvZ2dlcih2aWV3LCBraW5kLCBtc2csIG9iailcbiAgICB9IGVsc2UgaWYodGhpcy5pc0RlYnVnRW5hYmxlZCgpKXtcbiAgICAgIGxldCBbbXNnLCBvYmpdID0gbXNnQ2FsbGJhY2soKVxuICAgICAgZGVidWcodmlldywga2luZCwgbXNnLCBvYmopXG4gICAgfVxuICB9XG5cbiAgcmVxdWVzdERPTVVwZGF0ZShjYWxsYmFjayl7XG4gICAgdGhpcy50cmFuc2l0aW9ucy5hZnRlcihjYWxsYmFjaylcbiAgfVxuXG4gIHRyYW5zaXRpb24odGltZSwgb25TdGFydCwgb25Eb25lID0gZnVuY3Rpb24oKXt9KXtcbiAgICB0aGlzLnRyYW5zaXRpb25zLmFkZFRyYW5zaXRpb24odGltZSwgb25TdGFydCwgb25Eb25lKVxuICB9XG5cbiAgb25DaGFubmVsKGNoYW5uZWwsIGV2ZW50LCBjYil7XG4gICAgY2hhbm5lbC5vbihldmVudCwgZGF0YSA9PiB7XG4gICAgICBsZXQgbGF0ZW5jeSA9IHRoaXMuZ2V0TGF0ZW5jeVNpbSgpXG4gICAgICBpZighbGF0ZW5jeSl7XG4gICAgICAgIGNiKGRhdGEpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGNiKGRhdGEpLCBsYXRlbmN5KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICB3cmFwUHVzaCh2aWV3LCBvcHRzLCBwdXNoKXtcbiAgICBsZXQgbGF0ZW5jeSA9IHRoaXMuZ2V0TGF0ZW5jeVNpbSgpXG4gICAgbGV0IG9sZEpvaW5Db3VudCA9IHZpZXcuam9pbkNvdW50XG4gICAgaWYoIWxhdGVuY3kpe1xuICAgICAgaWYodGhpcy5pc0Nvbm5lY3RlZCgpICYmIG9wdHMudGltZW91dCl7XG4gICAgICAgIHJldHVybiBwdXNoKCkucmVjZWl2ZShcInRpbWVvdXRcIiwgKCkgPT4ge1xuICAgICAgICAgIGlmKHZpZXcuam9pbkNvdW50ID09PSBvbGRKb2luQ291bnQgJiYgIXZpZXcuaXNEZXN0cm95ZWQoKSl7XG4gICAgICAgICAgICB0aGlzLnJlbG9hZFdpdGhKaXR0ZXIodmlldywgKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZyh2aWV3LCBcInRpbWVvdXRcIiwgKCkgPT4gW1wicmVjZWl2ZWQgdGltZW91dCB3aGlsZSBjb21tdW5pY2F0aW5nIHdpdGggc2VydmVyLiBGYWxsaW5nIGJhY2sgdG8gaGFyZCByZWZyZXNoIGZvciByZWNvdmVyeVwiXSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHB1c2goKVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBmYWtlUHVzaCA9IHtcbiAgICAgIHJlY2VpdmVzOiBbXSxcbiAgICAgIHJlY2VpdmUoa2luZCwgY2IpeyB0aGlzLnJlY2VpdmVzLnB1c2goW2tpbmQsIGNiXSkgfVxuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmKHZpZXcuaXNEZXN0cm95ZWQoKSl7IHJldHVybiB9XG4gICAgICBmYWtlUHVzaC5yZWNlaXZlcy5yZWR1Y2UoKGFjYywgW2tpbmQsIGNiXSkgPT4gYWNjLnJlY2VpdmUoa2luZCwgY2IpLCBwdXNoKCkpXG4gICAgfSwgbGF0ZW5jeSlcbiAgICByZXR1cm4gZmFrZVB1c2hcbiAgfVxuXG4gIHJlbG9hZFdpdGhKaXR0ZXIodmlldywgbG9nKXtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5yZWxvYWRXaXRoSml0dGVyVGltZXIpXG4gICAgdGhpcy5kaXNjb25uZWN0KClcbiAgICBsZXQgbWluTXMgPSB0aGlzLnJlbG9hZEppdHRlck1pblxuICAgIGxldCBtYXhNcyA9IHRoaXMucmVsb2FkSml0dGVyTWF4XG4gICAgbGV0IGFmdGVyTXMgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4TXMgLSBtaW5NcyArIDEpKSArIG1pbk1zXG4gICAgbGV0IHRyaWVzID0gQnJvd3Nlci51cGRhdGVMb2NhbCh0aGlzLmxvY2FsU3RvcmFnZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLCBDT05TRUNVVElWRV9SRUxPQURTLCAwLCBjb3VudCA9PiBjb3VudCArIDEpXG4gICAgaWYodHJpZXMgPiB0aGlzLm1heFJlbG9hZHMpe1xuICAgICAgYWZ0ZXJNcyA9IHRoaXMuZmFpbHNhZmVKaXR0ZXJcbiAgICB9XG4gICAgdGhpcy5yZWxvYWRXaXRoSml0dGVyVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIGlmIHZpZXcgaGFzIHJlY292ZXJlZCwgc3VjaCBhcyB0cmFuc3BvcnQgcmVwbGFjZWQsIHRoZW4gY2FuY2VsXG4gICAgICBpZih2aWV3LmlzRGVzdHJveWVkKCkgfHwgdmlldy5pc0Nvbm5lY3RlZCgpKXsgcmV0dXJuIH1cbiAgICAgIHZpZXcuZGVzdHJveSgpXG4gICAgICBsb2cgPyBsb2coKSA6IHRoaXMubG9nKHZpZXcsIFwiam9pblwiLCAoKSA9PiBbYGVuY291bnRlcmVkICR7dHJpZXN9IGNvbnNlY3V0aXZlIHJlbG9hZHNgXSlcbiAgICAgIGlmKHRyaWVzID4gdGhpcy5tYXhSZWxvYWRzKXtcbiAgICAgICAgdGhpcy5sb2codmlldywgXCJqb2luXCIsICgpID0+IFtgZXhjZWVkZWQgJHt0aGlzLm1heFJlbG9hZHN9IGNvbnNlY3V0aXZlIHJlbG9hZHMuIEVudGVyaW5nIGZhaWxzYWZlIG1vZGVgXSlcbiAgICAgIH1cbiAgICAgIGlmKHRoaXMuaGFzUGVuZGluZ0xpbmsoKSl7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHRoaXMucGVuZGluZ0xpbmtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgfVxuICAgIH0sIGFmdGVyTXMpXG4gIH1cblxuICBnZXRIb29rQ2FsbGJhY2tzKG5hbWUpe1xuICAgIHJldHVybiBuYW1lICYmIG5hbWUuc3RhcnRzV2l0aChcIlBob2VuaXguXCIpID8gSG9va3NbbmFtZS5zcGxpdChcIi5cIilbMV1dIDogdGhpcy5ob29rc1tuYW1lXVxuICB9XG5cbiAgaXNVbmxvYWRlZCgpeyByZXR1cm4gdGhpcy51bmxvYWRlZCB9XG5cbiAgaXNDb25uZWN0ZWQoKXsgcmV0dXJuIHRoaXMuc29ja2V0LmlzQ29ubmVjdGVkKCkgfVxuXG4gIGdldEJpbmRpbmdQcmVmaXgoKXsgcmV0dXJuIHRoaXMuYmluZGluZ1ByZWZpeCB9XG5cbiAgYmluZGluZyhraW5kKXsgcmV0dXJuIGAke3RoaXMuZ2V0QmluZGluZ1ByZWZpeCgpfSR7a2luZH1gIH1cblxuICBjaGFubmVsKHRvcGljLCBwYXJhbXMpeyByZXR1cm4gdGhpcy5zb2NrZXQuY2hhbm5lbCh0b3BpYywgcGFyYW1zKSB9XG5cbiAgam9pbkRlYWRWaWV3KCl7XG4gICAgbGV0IGJvZHkgPSBkb2N1bWVudC5ib2R5XG4gICAgaWYoYm9keSAmJiAhdGhpcy5pc1BoeFZpZXcoYm9keSkgJiYgIXRoaXMuaXNQaHhWaWV3KGRvY3VtZW50LmZpcnN0RWxlbWVudENoaWxkKSl7XG4gICAgICBsZXQgdmlldyA9IHRoaXMubmV3Um9vdFZpZXcoYm9keSlcbiAgICAgIHZpZXcuc2V0SHJlZih0aGlzLmdldEhyZWYoKSlcbiAgICAgIHZpZXcuam9pbkRlYWQoKVxuICAgICAgaWYoIXRoaXMubWFpbil7IHRoaXMubWFpbiA9IHZpZXcgfVxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB2aWV3LmV4ZWNOZXdNb3VudGVkKCkpXG4gICAgfVxuICB9XG5cbiAgam9pblJvb3RWaWV3cygpe1xuICAgIGxldCByb290c0ZvdW5kID0gZmFsc2VcbiAgICBET00uYWxsKGRvY3VtZW50LCBgJHtQSFhfVklFV19TRUxFQ1RPUn06bm90KFske1BIWF9QQVJFTlRfSUR9XSlgLCByb290RWwgPT4ge1xuICAgICAgaWYoIXRoaXMuZ2V0Um9vdEJ5SWQocm9vdEVsLmlkKSl7XG4gICAgICAgIGxldCB2aWV3ID0gdGhpcy5uZXdSb290Vmlldyhyb290RWwpXG4gICAgICAgIHZpZXcuc2V0SHJlZih0aGlzLmdldEhyZWYoKSlcbiAgICAgICAgdmlldy5qb2luKClcbiAgICAgICAgaWYocm9vdEVsLmhhc0F0dHJpYnV0ZShQSFhfTUFJTikpeyB0aGlzLm1haW4gPSB2aWV3IH1cbiAgICAgIH1cbiAgICAgIHJvb3RzRm91bmQgPSB0cnVlXG4gICAgfSlcbiAgICByZXR1cm4gcm9vdHNGb3VuZFxuICB9XG5cbiAgcmVkaXJlY3QodG8sIGZsYXNoKXtcbiAgICB0aGlzLnVubG9hZCgpXG4gICAgQnJvd3Nlci5yZWRpcmVjdCh0bywgZmxhc2gpXG4gIH1cblxuICByZXBsYWNlTWFpbihocmVmLCBmbGFzaCwgY2FsbGJhY2sgPSBudWxsLCBsaW5rUmVmID0gdGhpcy5zZXRQZW5kaW5nTGluayhocmVmKSl7XG4gICAgbGV0IGxpdmVSZWZlcmVyID0gdGhpcy5jdXJyZW50TG9jYXRpb24uaHJlZlxuICAgIHRoaXMub3V0Z29pbmdNYWluRWwgPSB0aGlzLm91dGdvaW5nTWFpbkVsIHx8IHRoaXMubWFpbi5lbFxuICAgIGxldCBuZXdNYWluRWwgPSBET00uY2xvbmVOb2RlKHRoaXMub3V0Z29pbmdNYWluRWwsIFwiXCIpXG4gICAgdGhpcy5tYWluLnNob3dMb2FkZXIodGhpcy5sb2FkZXJUaW1lb3V0KVxuICAgIHRoaXMubWFpbi5kZXN0cm95KClcblxuICAgIHRoaXMubWFpbiA9IHRoaXMubmV3Um9vdFZpZXcobmV3TWFpbkVsLCBmbGFzaCwgbGl2ZVJlZmVyZXIpXG4gICAgdGhpcy5tYWluLnNldFJlZGlyZWN0KGhyZWYpXG4gICAgdGhpcy50cmFuc2l0aW9uUmVtb3ZlcygpXG4gICAgdGhpcy5tYWluLmpvaW4oKGpvaW5Db3VudCwgb25Eb25lKSA9PiB7XG4gICAgICBpZihqb2luQ291bnQgPT09IDEgJiYgdGhpcy5jb21taXRQZW5kaW5nTGluayhsaW5rUmVmKSl7XG4gICAgICAgIHRoaXMucmVxdWVzdERPTVVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgRE9NLmZpbmRQaHhTdGlja3koZG9jdW1lbnQpLmZvckVhY2goZWwgPT4gbmV3TWFpbkVsLmFwcGVuZENoaWxkKGVsKSlcbiAgICAgICAgICB0aGlzLm91dGdvaW5nTWFpbkVsLnJlcGxhY2VXaXRoKG5ld01haW5FbClcbiAgICAgICAgICB0aGlzLm91dGdvaW5nTWFpbkVsID0gbnVsbFxuICAgICAgICAgIGNhbGxiYWNrICYmIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBjYWxsYmFjayhsaW5rUmVmKSlcbiAgICAgICAgICBvbkRvbmUoKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICB0cmFuc2l0aW9uUmVtb3ZlcyhlbGVtZW50cyl7XG4gICAgbGV0IHJlbW92ZUF0dHIgPSB0aGlzLmJpbmRpbmcoXCJyZW1vdmVcIilcbiAgICBlbGVtZW50cyA9IGVsZW1lbnRzIHx8IERPTS5hbGwoZG9jdW1lbnQsIGBbJHtyZW1vdmVBdHRyfV1gKVxuICAgIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgICAgdGhpcy5leGVjSlMoZWwsIGVsLmdldEF0dHJpYnV0ZShyZW1vdmVBdHRyKSwgXCJyZW1vdmVcIilcbiAgICB9KVxuICB9XG5cbiAgaXNQaHhWaWV3KGVsKXsgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUoUEhYX1NFU1NJT04pICE9PSBudWxsIH1cblxuICBuZXdSb290VmlldyhlbCwgZmxhc2gsIGxpdmVSZWZlcmVyKXtcbiAgICBsZXQgdmlldyA9IG5ldyBWaWV3KGVsLCB0aGlzLCBudWxsLCBmbGFzaCwgbGl2ZVJlZmVyZXIpXG4gICAgdGhpcy5yb290c1t2aWV3LmlkXSA9IHZpZXdcbiAgICByZXR1cm4gdmlld1xuICB9XG5cbiAgb3duZXIoY2hpbGRFbCwgY2FsbGJhY2spe1xuICAgIGxldCB2aWV3ID0gbWF5YmUoY2hpbGRFbC5jbG9zZXN0KFBIWF9WSUVXX1NFTEVDVE9SKSwgZWwgPT4gdGhpcy5nZXRWaWV3QnlFbChlbCkpIHx8IHRoaXMubWFpblxuICAgIGlmKHZpZXcpeyBjYWxsYmFjayh2aWV3KSB9XG4gIH1cblxuICB3aXRoaW5Pd25lcnMoY2hpbGRFbCwgY2FsbGJhY2spe1xuICAgIHRoaXMub3duZXIoY2hpbGRFbCwgdmlldyA9PiBjYWxsYmFjayh2aWV3LCBjaGlsZEVsKSlcbiAgfVxuXG4gIGdldFZpZXdCeUVsKGVsKXtcbiAgICBsZXQgcm9vdElkID0gZWwuZ2V0QXR0cmlidXRlKFBIWF9ST09UX0lEKVxuICAgIHJldHVybiBtYXliZSh0aGlzLmdldFJvb3RCeUlkKHJvb3RJZCksIHJvb3QgPT4gcm9vdC5nZXREZXNjZW5kZW50QnlFbChlbCkpXG4gIH1cblxuICBnZXRSb290QnlJZChpZCl7IHJldHVybiB0aGlzLnJvb3RzW2lkXSB9XG5cbiAgZGVzdHJveUFsbFZpZXdzKCl7XG4gICAgZm9yKGxldCBpZCBpbiB0aGlzLnJvb3RzKXtcbiAgICAgIHRoaXMucm9vdHNbaWRdLmRlc3Ryb3koKVxuICAgICAgZGVsZXRlIHRoaXMucm9vdHNbaWRdXG4gICAgfVxuICAgIHRoaXMubWFpbiA9IG51bGxcbiAgfVxuXG4gIGRlc3Ryb3lWaWV3QnlFbChlbCl7XG4gICAgbGV0IHJvb3QgPSB0aGlzLmdldFJvb3RCeUlkKGVsLmdldEF0dHJpYnV0ZShQSFhfUk9PVF9JRCkpXG4gICAgaWYocm9vdCAmJiByb290LmlkID09PSBlbC5pZCl7XG4gICAgICByb290LmRlc3Ryb3koKVxuICAgICAgZGVsZXRlIHRoaXMucm9vdHNbcm9vdC5pZF1cbiAgICB9IGVsc2UgaWYocm9vdCl7XG4gICAgICByb290LmRlc3Ryb3lEZXNjZW5kZW50KGVsLmlkKVxuICAgIH1cbiAgfVxuXG4gIHNldEFjdGl2ZUVsZW1lbnQodGFyZ2V0KXtcbiAgICBpZih0aGlzLmFjdGl2ZUVsZW1lbnQgPT09IHRhcmdldCl7IHJldHVybiB9XG4gICAgdGhpcy5hY3RpdmVFbGVtZW50ID0gdGFyZ2V0XG4gICAgbGV0IGNhbmNlbCA9ICgpID0+IHtcbiAgICAgIGlmKHRhcmdldCA9PT0gdGhpcy5hY3RpdmVFbGVtZW50KXsgdGhpcy5hY3RpdmVFbGVtZW50ID0gbnVsbCB9XG4gICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcylcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcylcbiAgICB9XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGNhbmNlbClcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGNhbmNlbClcbiAgfVxuXG4gIGdldEFjdGl2ZUVsZW1lbnQoKXtcbiAgICBpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBkb2N1bWVudC5ib2R5KXtcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZUVsZW1lbnQgfHwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGNhbiBiZSBudWxsIGluIEludGVybmV0IEV4cGxvcmVyIDExXG4gICAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCB8fCBkb2N1bWVudC5ib2R5XG4gICAgfVxuICB9XG5cbiAgZHJvcEFjdGl2ZUVsZW1lbnQodmlldyl7XG4gICAgaWYodGhpcy5wcmV2QWN0aXZlICYmIHZpZXcub3duc0VsZW1lbnQodGhpcy5wcmV2QWN0aXZlKSl7XG4gICAgICB0aGlzLnByZXZBY3RpdmUgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVzdG9yZVByZXZpb3VzbHlBY3RpdmVGb2N1cygpe1xuICAgIGlmKHRoaXMucHJldkFjdGl2ZSAmJiB0aGlzLnByZXZBY3RpdmUgIT09IGRvY3VtZW50LmJvZHkpe1xuICAgICAgdGhpcy5wcmV2QWN0aXZlLmZvY3VzKClcbiAgICB9XG4gIH1cblxuICBibHVyQWN0aXZlRWxlbWVudCgpe1xuICAgIHRoaXMucHJldkFjdGl2ZSA9IHRoaXMuZ2V0QWN0aXZlRWxlbWVudCgpXG4gICAgaWYodGhpcy5wcmV2QWN0aXZlICE9PSBkb2N1bWVudC5ib2R5KXsgdGhpcy5wcmV2QWN0aXZlLmJsdXIoKSB9XG4gIH1cblxuICBiaW5kVG9wTGV2ZWxFdmVudHMoe2RlYWR9ID0ge30pe1xuICAgIGlmKHRoaXMuYm91bmRUb3BMZXZlbEV2ZW50cyl7IHJldHVybiB9XG5cbiAgICB0aGlzLmJvdW5kVG9wTGV2ZWxFdmVudHMgPSB0cnVlXG4gICAgLy8gZW50ZXIgZmFpbHNhZmUgcmVsb2FkIGlmIHNlcnZlciBoYXMgZ29uZSBhd2F5IGludGVudGlvbmFsbHksIHN1Y2ggYXMgXCJkaXNjb25uZWN0XCIgYnJvYWRjYXN0XG4gICAgdGhpcy5zb2NrZXQub25DbG9zZShldmVudCA9PiB7XG4gICAgICAvLyBmYWlsc2FmZSByZWxvYWQgaWYgbm9ybWFsIGNsb3N1cmUgYW5kIHdlIHN0aWxsIGhhdmUgYSBtYWluIExWXG4gICAgICBpZihldmVudCAmJiBldmVudC5jb2RlID09PSAxMDAwICYmIHRoaXMubWFpbil7IHJldHVybiB0aGlzLnJlbG9hZFdpdGhKaXR0ZXIodGhpcy5tYWluKSB9XG4gICAgfSlcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKXsgfSkgLy8gZW5zdXJlIGFsbCBjbGljayBldmVudHMgYnViYmxlIGZvciBtb2JpbGUgU2FmYXJpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlc2hvd1wiLCBlID0+IHtcbiAgICAgIGlmKGUucGVyc2lzdGVkKXsgLy8gcmVsb2FkIHBhZ2UgaWYgYmVpbmcgcmVzdG9yZWQgZnJvbSBiYWNrL2ZvcndhcmQgY2FjaGVcbiAgICAgICAgdGhpcy5nZXRTb2NrZXQoKS5kaXNjb25uZWN0KClcbiAgICAgICAgdGhpcy53aXRoUGFnZUxvYWRpbmcoe3RvOiB3aW5kb3cubG9jYXRpb24uaHJlZiwga2luZDogXCJyZWRpcmVjdFwifSlcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICB9XG4gICAgfSwgdHJ1ZSlcbiAgICBpZighZGVhZCl7IHRoaXMuYmluZE5hdigpIH1cbiAgICB0aGlzLmJpbmRDbGlja3MoKVxuICAgIGlmKCFkZWFkKXsgdGhpcy5iaW5kRm9ybXMoKSB9XG4gICAgdGhpcy5iaW5kKHtrZXl1cDogXCJrZXl1cFwiLCBrZXlkb3duOiBcImtleWRvd25cIn0sIChlLCB0eXBlLCB2aWV3LCB0YXJnZXRFbCwgcGh4RXZlbnQsIGV2ZW50VGFyZ2V0KSA9PiB7XG4gICAgICBsZXQgbWF0Y2hLZXkgPSB0YXJnZXRFbC5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFBIWF9LRVkpKVxuICAgICAgbGV0IHByZXNzZWRLZXkgPSBlLmtleSAmJiBlLmtleS50b0xvd2VyQ2FzZSgpIC8vIGNocm9tZSBjbGlja2VkIGF1dG9jb21wbGV0ZXMgc2VuZCBhIGtleWRvd24gd2l0aG91dCBrZXlcbiAgICAgIGlmKG1hdGNoS2V5ICYmIG1hdGNoS2V5LnRvTG93ZXJDYXNlKCkgIT09IHByZXNzZWRLZXkpeyByZXR1cm4gfVxuXG4gICAgICBsZXQgZGF0YSA9IHtrZXk6IGUua2V5LCAuLi50aGlzLmV2ZW50TWV0YSh0eXBlLCBlLCB0YXJnZXRFbCl9XG4gICAgICBKUy5leGVjKHR5cGUsIHBoeEV2ZW50LCB2aWV3LCB0YXJnZXRFbCwgW1wicHVzaFwiLCB7ZGF0YX1dKVxuICAgIH0pXG4gICAgdGhpcy5iaW5kKHtibHVyOiBcImZvY3Vzb3V0XCIsIGZvY3VzOiBcImZvY3VzaW5cIn0sIChlLCB0eXBlLCB2aWV3LCB0YXJnZXRFbCwgcGh4RXZlbnQsIGV2ZW50VGFyZ2V0KSA9PiB7XG4gICAgICBpZighZXZlbnRUYXJnZXQpe1xuICAgICAgICBsZXQgZGF0YSA9IHtrZXk6IGUua2V5LCAuLi50aGlzLmV2ZW50TWV0YSh0eXBlLCBlLCB0YXJnZXRFbCl9XG4gICAgICAgIEpTLmV4ZWModHlwZSwgcGh4RXZlbnQsIHZpZXcsIHRhcmdldEVsLCBbXCJwdXNoXCIsIHtkYXRhfV0pXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLmJpbmQoe2JsdXI6IFwiYmx1clwiLCBmb2N1czogXCJmb2N1c1wifSwgKGUsIHR5cGUsIHZpZXcsIHRhcmdldEVsLCB0YXJnZXRDdHgsIHBoeEV2ZW50LCBwaHhUYXJnZXQpID0+IHtcbiAgICAgIC8vIGJsdXIgYW5kIGZvY3VzIGFyZSB0cmlnZ2VyZWQgb24gZG9jdW1lbnQgYW5kIHdpbmRvdy4gRGlzY2FyZCBvbmUgdG8gYXZvaWQgZHVwc1xuICAgICAgaWYocGh4VGFyZ2V0ID09PSBcIndpbmRvd1wiKXtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmV2ZW50TWV0YSh0eXBlLCBlLCB0YXJnZXRFbClcbiAgICAgICAgSlMuZXhlYyh0eXBlLCBwaHhFdmVudCwgdmlldywgdGFyZ2V0RWwsIFtcInB1c2hcIiwge2RhdGF9XSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgZSA9PiBlLnByZXZlbnREZWZhdWx0KCkpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBsZXQgZHJvcFRhcmdldElkID0gbWF5YmUoY2xvc2VzdFBoeEJpbmRpbmcoZS50YXJnZXQsIHRoaXMuYmluZGluZyhQSFhfRFJPUF9UQVJHRVQpKSwgdHJ1ZVRhcmdldCA9PiB7XG4gICAgICAgIHJldHVybiB0cnVlVGFyZ2V0LmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoUEhYX0RST1BfVEFSR0VUKSlcbiAgICAgIH0pXG4gICAgICBsZXQgZHJvcFRhcmdldCA9IGRyb3BUYXJnZXRJZCAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkcm9wVGFyZ2V0SWQpXG4gICAgICBsZXQgZmlsZXMgPSBBcnJheS5mcm9tKGUuZGF0YVRyYW5zZmVyLmZpbGVzIHx8IFtdKVxuICAgICAgaWYoIWRyb3BUYXJnZXQgfHwgZHJvcFRhcmdldC5kaXNhYmxlZCB8fCBmaWxlcy5sZW5ndGggPT09IDAgfHwgIShkcm9wVGFyZ2V0LmZpbGVzIGluc3RhbmNlb2YgRmlsZUxpc3QpKXsgcmV0dXJuIH1cblxuICAgICAgTGl2ZVVwbG9hZGVyLnRyYWNrRmlsZXMoZHJvcFRhcmdldCwgZmlsZXMsIGUuZGF0YVRyYW5zZmVyKVxuICAgICAgZHJvcFRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIsIHtidWJibGVzOiB0cnVlfSkpXG4gICAgfSlcbiAgICB0aGlzLm9uKFBIWF9UUkFDS19VUExPQURTLCBlID0+IHtcbiAgICAgIGxldCB1cGxvYWRUYXJnZXQgPSBlLnRhcmdldFxuICAgICAgaWYoIURPTS5pc1VwbG9hZElucHV0KHVwbG9hZFRhcmdldCkpeyByZXR1cm4gfVxuICAgICAgbGV0IGZpbGVzID0gQXJyYXkuZnJvbShlLmRldGFpbC5maWxlcyB8fCBbXSkuZmlsdGVyKGYgPT4gZiBpbnN0YW5jZW9mIEZpbGUgfHwgZiBpbnN0YW5jZW9mIEJsb2IpXG4gICAgICBMaXZlVXBsb2FkZXIudHJhY2tGaWxlcyh1cGxvYWRUYXJnZXQsIGZpbGVzKVxuICAgICAgdXBsb2FkVGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiaW5wdXRcIiwge2J1YmJsZXM6IHRydWV9KSlcbiAgICB9KVxuICB9XG5cbiAgZXZlbnRNZXRhKGV2ZW50TmFtZSwgZSwgdGFyZ2V0RWwpe1xuICAgIGxldCBjYWxsYmFjayA9IHRoaXMubWV0YWRhdGFDYWxsYmFja3NbZXZlbnROYW1lXVxuICAgIHJldHVybiBjYWxsYmFjayA/IGNhbGxiYWNrKGUsIHRhcmdldEVsKSA6IHt9XG4gIH1cblxuICBzZXRQZW5kaW5nTGluayhocmVmKXtcbiAgICB0aGlzLmxpbmtSZWYrK1xuICAgIHRoaXMucGVuZGluZ0xpbmsgPSBocmVmXG4gICAgcmV0dXJuIHRoaXMubGlua1JlZlxuICB9XG5cbiAgY29tbWl0UGVuZGluZ0xpbmsobGlua1JlZil7XG4gICAgaWYodGhpcy5saW5rUmVmICE9PSBsaW5rUmVmKXtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhyZWYgPSB0aGlzLnBlbmRpbmdMaW5rXG4gICAgICB0aGlzLnBlbmRpbmdMaW5rID0gbnVsbFxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBnZXRIcmVmKCl7IHJldHVybiB0aGlzLmhyZWYgfVxuXG4gIGhhc1BlbmRpbmdMaW5rKCl7IHJldHVybiAhIXRoaXMucGVuZGluZ0xpbmsgfVxuXG4gIGJpbmQoZXZlbnRzLCBjYWxsYmFjayl7XG4gICAgZm9yKGxldCBldmVudCBpbiBldmVudHMpe1xuICAgICAgbGV0IGJyb3dzZXJFdmVudE5hbWUgPSBldmVudHNbZXZlbnRdXG5cbiAgICAgIHRoaXMub24oYnJvd3NlckV2ZW50TmFtZSwgZSA9PiB7XG4gICAgICAgIGxldCBiaW5kaW5nID0gdGhpcy5iaW5kaW5nKGV2ZW50KVxuICAgICAgICBsZXQgd2luZG93QmluZGluZyA9IHRoaXMuYmluZGluZyhgd2luZG93LSR7ZXZlbnR9YClcbiAgICAgICAgbGV0IHRhcmdldFBoeEV2ZW50ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlICYmIGUudGFyZ2V0LmdldEF0dHJpYnV0ZShiaW5kaW5nKVxuICAgICAgICBpZih0YXJnZXRQaHhFdmVudCl7XG4gICAgICAgICAgdGhpcy5kZWJvdW5jZShlLnRhcmdldCwgZSwgYnJvd3NlckV2ZW50TmFtZSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53aXRoaW5Pd25lcnMoZS50YXJnZXQsIHZpZXcgPT4ge1xuICAgICAgICAgICAgICBjYWxsYmFjayhlLCBldmVudCwgdmlldywgZS50YXJnZXQsIHRhcmdldFBoeEV2ZW50LCBudWxsKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIERPTS5hbGwoZG9jdW1lbnQsIGBbJHt3aW5kb3dCaW5kaW5nfV1gLCBlbCA9PiB7XG4gICAgICAgICAgICBsZXQgcGh4RXZlbnQgPSBlbC5nZXRBdHRyaWJ1dGUod2luZG93QmluZGluZylcbiAgICAgICAgICAgIHRoaXMuZGVib3VuY2UoZWwsIGUsIGJyb3dzZXJFdmVudE5hbWUsICgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy53aXRoaW5Pd25lcnMoZWwsIHZpZXcgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGUsIGV2ZW50LCB2aWV3LCBlbCwgcGh4RXZlbnQsIFwid2luZG93XCIpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgYmluZENsaWNrcygpe1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB0aGlzLmNsaWNrU3RhcnRlZEF0VGFyZ2V0ID0gZS50YXJnZXQpXG4gICAgdGhpcy5iaW5kQ2xpY2soXCJjbGlja1wiLCBcImNsaWNrXCIsIGZhbHNlKVxuICAgIHRoaXMuYmluZENsaWNrKFwibW91c2Vkb3duXCIsIFwiY2FwdHVyZS1jbGlja1wiLCB0cnVlKVxuICB9XG5cbiAgYmluZENsaWNrKGV2ZW50TmFtZSwgYmluZGluZ05hbWUsIGNhcHR1cmUpe1xuICAgIGxldCBjbGljayA9IHRoaXMuYmluZGluZyhiaW5kaW5nTmFtZSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGUgPT4ge1xuICAgICAgbGV0IHRhcmdldCA9IG51bGxcbiAgICAgIGlmKGNhcHR1cmUpe1xuICAgICAgICB0YXJnZXQgPSBlLnRhcmdldC5tYXRjaGVzKGBbJHtjbGlja31dYCkgPyBlLnRhcmdldCA6IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoYFske2NsaWNrfV1gKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGNsaWNrU3RhcnRlZEF0VGFyZ2V0ID0gdGhpcy5jbGlja1N0YXJ0ZWRBdFRhcmdldCB8fCBlLnRhcmdldFxuICAgICAgICB0YXJnZXQgPSBjbG9zZXN0UGh4QmluZGluZyhjbGlja1N0YXJ0ZWRBdFRhcmdldCwgY2xpY2spXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hDbGlja0F3YXkoZSwgY2xpY2tTdGFydGVkQXRUYXJnZXQpXG4gICAgICAgIHRoaXMuY2xpY2tTdGFydGVkQXRUYXJnZXQgPSBudWxsXG4gICAgICB9XG4gICAgICBsZXQgcGh4RXZlbnQgPSB0YXJnZXQgJiYgdGFyZ2V0LmdldEF0dHJpYnV0ZShjbGljaylcbiAgICAgIGlmKCFwaHhFdmVudCl7XG4gICAgICAgIGlmKCFjYXB0dXJlICYmIERPTS5pc05ld1BhZ2VDbGljayhlLCB3aW5kb3cubG9jYXRpb24pKXsgdGhpcy51bmxvYWQoKSB9XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZih0YXJnZXQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIpeyBlLnByZXZlbnREZWZhdWx0KCkgfVxuXG4gICAgICAvLyBub29wIGlmIHdlIGFyZSBpbiB0aGUgbWlkZGxlIG9mIGF3YWl0aW5nIGFuIGFjayBmb3IgdGhpcyBlbCBhbHJlYWR5XG4gICAgICBpZih0YXJnZXQuaGFzQXR0cmlidXRlKFBIWF9SRUYpKXsgcmV0dXJuIH1cblxuICAgICAgdGhpcy5kZWJvdW5jZSh0YXJnZXQsIGUsIFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLndpdGhpbk93bmVycyh0YXJnZXQsIHZpZXcgPT4ge1xuICAgICAgICAgIEpTLmV4ZWMoXCJjbGlja1wiLCBwaHhFdmVudCwgdmlldywgdGFyZ2V0LCBbXCJwdXNoXCIsIHtkYXRhOiB0aGlzLmV2ZW50TWV0YShcImNsaWNrXCIsIGUsIHRhcmdldCl9XSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSwgY2FwdHVyZSlcbiAgfVxuXG4gIGRpc3BhdGNoQ2xpY2tBd2F5KGUsIGNsaWNrU3RhcnRlZEF0KXtcbiAgICBsZXQgcGh4Q2xpY2tBd2F5ID0gdGhpcy5iaW5kaW5nKFwiY2xpY2stYXdheVwiKVxuICAgIERPTS5hbGwoZG9jdW1lbnQsIGBbJHtwaHhDbGlja0F3YXl9XWAsIGVsID0+IHtcbiAgICAgIGlmKCEoZWwuaXNTYW1lTm9kZShjbGlja1N0YXJ0ZWRBdCkgfHwgZWwuY29udGFpbnMoY2xpY2tTdGFydGVkQXQpKSl7XG4gICAgICAgIHRoaXMud2l0aGluT3duZXJzKGUudGFyZ2V0LCB2aWV3ID0+IHtcbiAgICAgICAgICBsZXQgcGh4RXZlbnQgPSBlbC5nZXRBdHRyaWJ1dGUocGh4Q2xpY2tBd2F5KVxuICAgICAgICAgIGlmKEpTLmlzVmlzaWJsZShlbCkpe1xuICAgICAgICAgICAgSlMuZXhlYyhcImNsaWNrXCIsIHBoeEV2ZW50LCB2aWV3LCBlbCwgW1wicHVzaFwiLCB7ZGF0YTogdGhpcy5ldmVudE1ldGEoXCJjbGlja1wiLCBlLCBlLnRhcmdldCl9XSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGJpbmROYXYoKXtcbiAgICBpZighQnJvd3Nlci5jYW5QdXNoU3RhdGUoKSl7IHJldHVybiB9XG4gICAgaWYoaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbil7IGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcIm1hbnVhbFwiIH1cbiAgICBsZXQgc2Nyb2xsVGltZXIgPSBudWxsXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgX2UgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbFRpbWVyKVxuICAgICAgc2Nyb2xsVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgQnJvd3Nlci51cGRhdGVDdXJyZW50U3RhdGUoc3RhdGUgPT4gT2JqZWN0LmFzc2lnbihzdGF0ZSwge3Njcm9sbDogd2luZG93LnNjcm9sbFl9KSlcbiAgICAgIH0sIDEwMClcbiAgICB9KVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgZXZlbnQgPT4ge1xuICAgICAgaWYoIXRoaXMucmVnaXN0ZXJOZXdMb2NhdGlvbih3aW5kb3cubG9jYXRpb24pKXsgcmV0dXJuIH1cbiAgICAgIGxldCB7dHlwZSwgaWQsIHJvb3QsIHNjcm9sbH0gPSBldmVudC5zdGF0ZSB8fCB7fVxuICAgICAgbGV0IGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxuXG4gICAgICBET00uZGlzcGF0Y2hFdmVudCh3aW5kb3csIFwicGh4Om5hdmlnYXRlXCIsIHtkZXRhaWw6IHtocmVmLCBwYXRjaDogdHlwZSA9PT0gXCJwYXRjaFwiLCBwb3A6IHRydWV9fSlcbiAgICAgIHRoaXMucmVxdWVzdERPTVVwZGF0ZSgoKSA9PiB7XG4gICAgICAgIGlmKHRoaXMubWFpbi5pc0Nvbm5lY3RlZCgpICYmICh0eXBlID09PSBcInBhdGNoXCIgJiYgaWQgPT09IHRoaXMubWFpbi5pZCkpe1xuICAgICAgICAgIHRoaXMubWFpbi5wdXNoTGlua1BhdGNoKGhyZWYsIG51bGwsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWF5YmVTY3JvbGwoc2Nyb2xsKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZXBsYWNlTWFpbihocmVmLCBudWxsLCAoKSA9PiB7XG4gICAgICAgICAgICBpZihyb290KXsgdGhpcy5yZXBsYWNlUm9vdEhpc3RvcnkoKSB9XG4gICAgICAgICAgICB0aGlzLm1heWJlU2Nyb2xsKHNjcm9sbClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sIGZhbHNlKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XG4gICAgICBsZXQgdGFyZ2V0ID0gY2xvc2VzdFBoeEJpbmRpbmcoZS50YXJnZXQsIFBIWF9MSVZFX0xJTkspXG4gICAgICBsZXQgdHlwZSA9IHRhcmdldCAmJiB0YXJnZXQuZ2V0QXR0cmlidXRlKFBIWF9MSVZFX0xJTkspXG4gICAgICBpZighdHlwZSB8fCAhdGhpcy5pc0Nvbm5lY3RlZCgpIHx8ICF0aGlzLm1haW4gfHwgRE9NLndhbnRzTmV3VGFiKGUpKXsgcmV0dXJuIH1cblxuICAgICAgbGV0IGhyZWYgPSB0YXJnZXQuaHJlZlxuICAgICAgbGV0IGxpbmtTdGF0ZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoUEhYX0xJTktfU1RBVEUpXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkgLy8gZG8gbm90IGJ1YmJsZSBjbGljayB0byByZWd1bGFyIHBoeC1jbGljayBiaW5kaW5nc1xuICAgICAgaWYodGhpcy5wZW5kaW5nTGluayA9PT0gaHJlZil7IHJldHVybiB9XG5cbiAgICAgIHRoaXMucmVxdWVzdERPTVVwZGF0ZSgoKSA9PiB7XG4gICAgICAgIGlmKHR5cGUgPT09IFwicGF0Y2hcIil7XG4gICAgICAgICAgdGhpcy5wdXNoSGlzdG9yeVBhdGNoKGhyZWYsIGxpbmtTdGF0ZSwgdGFyZ2V0KVxuICAgICAgICB9IGVsc2UgaWYodHlwZSA9PT0gXCJyZWRpcmVjdFwiKXtcbiAgICAgICAgICB0aGlzLmhpc3RvcnlSZWRpcmVjdChocmVmLCBsaW5rU3RhdGUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBleHBlY3RlZCAke1BIWF9MSVZFX0xJTkt9IHRvIGJlIFwicGF0Y2hcIiBvciBcInJlZGlyZWN0XCIsIGdvdDogJHt0eXBlfWApXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBoeENsaWNrID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoXCJjbGlja1wiKSlcbiAgICAgICAgaWYocGh4Q2xpY2spe1xuICAgICAgICAgIHRoaXMucmVxdWVzdERPTVVwZGF0ZSgoKSA9PiB0aGlzLmV4ZWNKUyh0YXJnZXQsIHBoeENsaWNrLCBcImNsaWNrXCIpKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sIGZhbHNlKVxuICB9XG5cbiAgbWF5YmVTY3JvbGwoc2Nyb2xsKSB7XG4gICAgaWYodHlwZW9mKHNjcm9sbCkgPT09IFwibnVtYmVyXCIpe1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHNjcm9sbClcbiAgICAgIH0pIC8vIHRoZSBib2R5IG5lZWRzIHRvIHJlbmRlciBiZWZvcmUgd2Ugc2Nyb2xsLlxuICAgIH1cbiAgfVxuXG4gIGRpc3BhdGNoRXZlbnQoZXZlbnQsIHBheWxvYWQgPSB7fSl7XG4gICAgRE9NLmRpc3BhdGNoRXZlbnQod2luZG93LCBgcGh4OiR7ZXZlbnR9YCwge2RldGFpbDogcGF5bG9hZH0pXG4gIH1cblxuICBkaXNwYXRjaEV2ZW50cyhldmVudHMpe1xuICAgIGV2ZW50cy5mb3JFYWNoKChbZXZlbnQsIHBheWxvYWRdKSA9PiB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQsIHBheWxvYWQpKVxuICB9XG5cbiAgd2l0aFBhZ2VMb2FkaW5nKGluZm8sIGNhbGxiYWNrKXtcbiAgICBET00uZGlzcGF0Y2hFdmVudCh3aW5kb3csIFwicGh4OnBhZ2UtbG9hZGluZy1zdGFydFwiLCB7ZGV0YWlsOiBpbmZvfSlcbiAgICBsZXQgZG9uZSA9ICgpID0+IERPTS5kaXNwYXRjaEV2ZW50KHdpbmRvdywgXCJwaHg6cGFnZS1sb2FkaW5nLXN0b3BcIiwge2RldGFpbDogaW5mb30pXG4gICAgcmV0dXJuIGNhbGxiYWNrID8gY2FsbGJhY2soZG9uZSkgOiBkb25lXG4gIH1cblxuICBwdXNoSGlzdG9yeVBhdGNoKGhyZWYsIGxpbmtTdGF0ZSwgdGFyZ2V0RWwpe1xuICAgIGlmKCF0aGlzLmlzQ29ubmVjdGVkKCkpeyByZXR1cm4gQnJvd3Nlci5yZWRpcmVjdChocmVmKSB9XG5cbiAgICB0aGlzLndpdGhQYWdlTG9hZGluZyh7dG86IGhyZWYsIGtpbmQ6IFwicGF0Y2hcIn0sIGRvbmUgPT4ge1xuICAgICAgdGhpcy5tYWluLnB1c2hMaW5rUGF0Y2goaHJlZiwgdGFyZ2V0RWwsIGxpbmtSZWYgPT4ge1xuICAgICAgICB0aGlzLmhpc3RvcnlQYXRjaChocmVmLCBsaW5rU3RhdGUsIGxpbmtSZWYpXG4gICAgICAgIGRvbmUoKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgaGlzdG9yeVBhdGNoKGhyZWYsIGxpbmtTdGF0ZSwgbGlua1JlZiA9IHRoaXMuc2V0UGVuZGluZ0xpbmsoaHJlZikpe1xuICAgIGlmKCF0aGlzLmNvbW1pdFBlbmRpbmdMaW5rKGxpbmtSZWYpKXsgcmV0dXJuIH1cblxuICAgIEJyb3dzZXIucHVzaFN0YXRlKGxpbmtTdGF0ZSwge3R5cGU6IFwicGF0Y2hcIiwgaWQ6IHRoaXMubWFpbi5pZH0sIGhyZWYpXG4gICAgRE9NLmRpc3BhdGNoRXZlbnQod2luZG93LCBcInBoeDpuYXZpZ2F0ZVwiLCB7ZGV0YWlsOiB7cGF0Y2g6IHRydWUsIGhyZWYsIHBvcDogZmFsc2V9fSlcbiAgICB0aGlzLnJlZ2lzdGVyTmV3TG9jYXRpb24od2luZG93LmxvY2F0aW9uKVxuICB9XG5cbiAgaGlzdG9yeVJlZGlyZWN0KGhyZWYsIGxpbmtTdGF0ZSwgZmxhc2gpe1xuICAgIC8vIGNvbnZlcnQgdG8gZnVsbCBocmVmIGlmIG9ubHkgcGF0aCBwcmVmaXhcbiAgICBpZighdGhpcy5pc0Nvbm5lY3RlZCgpKXsgcmV0dXJuIEJyb3dzZXIucmVkaXJlY3QoaHJlZiwgZmxhc2gpIH1cbiAgICBpZigvXlxcLyR8XlxcL1teXFwvXSsuKiQvLnRlc3QoaHJlZikpe1xuICAgICAgbGV0IHtwcm90b2NvbCwgaG9zdH0gPSB3aW5kb3cubG9jYXRpb25cbiAgICAgIGhyZWYgPSBgJHtwcm90b2NvbH0vLyR7aG9zdH0ke2hyZWZ9YFxuICAgIH1cbiAgICBsZXQgc2Nyb2xsID0gd2luZG93LnNjcm9sbFlcbiAgICB0aGlzLndpdGhQYWdlTG9hZGluZyh7dG86IGhyZWYsIGtpbmQ6IFwicmVkaXJlY3RcIn0sIGRvbmUgPT4ge1xuICAgICAgdGhpcy5yZXBsYWNlTWFpbihocmVmLCBmbGFzaCwgKGxpbmtSZWYpID0+IHtcbiAgICAgICAgaWYobGlua1JlZiA9PT0gdGhpcy5saW5rUmVmKXtcbiAgICAgICAgICBCcm93c2VyLnB1c2hTdGF0ZShsaW5rU3RhdGUsIHt0eXBlOiBcInJlZGlyZWN0XCIsIGlkOiB0aGlzLm1haW4uaWQsIHNjcm9sbDogc2Nyb2xsfSwgaHJlZilcbiAgICAgICAgICBET00uZGlzcGF0Y2hFdmVudCh3aW5kb3csIFwicGh4Om5hdmlnYXRlXCIsIHtkZXRhaWw6IHtocmVmLCBwYXRjaDogZmFsc2UsIHBvcDogZmFsc2V9fSlcbiAgICAgICAgICB0aGlzLnJlZ2lzdGVyTmV3TG9jYXRpb24od2luZG93LmxvY2F0aW9uKVxuICAgICAgICB9XG4gICAgICAgIGRvbmUoKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgcmVwbGFjZVJvb3RIaXN0b3J5KCl7XG4gICAgQnJvd3Nlci5wdXNoU3RhdGUoXCJyZXBsYWNlXCIsIHtyb290OiB0cnVlLCB0eXBlOiBcInBhdGNoXCIsIGlkOiB0aGlzLm1haW4uaWR9KVxuICB9XG5cbiAgcmVnaXN0ZXJOZXdMb2NhdGlvbihuZXdMb2NhdGlvbil7XG4gICAgbGV0IHtwYXRobmFtZSwgc2VhcmNofSA9IHRoaXMuY3VycmVudExvY2F0aW9uXG4gICAgaWYocGF0aG5hbWUgKyBzZWFyY2ggPT09IG5ld0xvY2F0aW9uLnBhdGhuYW1lICsgbmV3TG9jYXRpb24uc2VhcmNoKXtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGNsb25lKG5ld0xvY2F0aW9uKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBiaW5kRm9ybXMoKXtcbiAgICBsZXQgaXRlcmF0aW9ucyA9IDBcbiAgICBsZXQgZXh0ZXJuYWxGb3JtU3VibWl0dGVkID0gZmFsc2VcblxuICAgIC8vIGRpc2FibGUgZm9ybXMgb24gc3VibWl0IHRoYXQgdHJhY2sgcGh4LWNoYW5nZSBidXQgcGVyZm9ybSBleHRlcm5hbCBzdWJtaXRcbiAgICB0aGlzLm9uKFwic3VibWl0XCIsIGUgPT4ge1xuICAgICAgbGV0IHBoeFN1Ym1pdCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoXCJzdWJtaXRcIikpXG4gICAgICBsZXQgcGh4Q2hhbmdlID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhcImNoYW5nZVwiKSlcbiAgICAgIGlmKCFleHRlcm5hbEZvcm1TdWJtaXR0ZWQgJiYgcGh4Q2hhbmdlICYmICFwaHhTdWJtaXQpe1xuICAgICAgICBleHRlcm5hbEZvcm1TdWJtaXR0ZWQgPSB0cnVlXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICB0aGlzLndpdGhpbk93bmVycyhlLnRhcmdldCwgdmlldyA9PiB7XG4gICAgICAgICAgdmlldy5kaXNhYmxlRm9ybShlLnRhcmdldClcbiAgICAgICAgICAvLyBzYWZhcmkgbmVlZHMgbmV4dCB0aWNrXG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICBpZihET00uaXNVbmxvYWRhYmxlRm9ybVN1Ym1pdChlKSl7IHRoaXMudW5sb2FkKCkgfVxuICAgICAgICAgICAgZS50YXJnZXQuc3VibWl0KClcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sIHRydWUpXG5cbiAgICB0aGlzLm9uKFwic3VibWl0XCIsIGUgPT4ge1xuICAgICAgbGV0IHBoeEV2ZW50ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhcInN1Ym1pdFwiKSlcbiAgICAgIGlmKCFwaHhFdmVudCl7XG4gICAgICAgIGlmKERPTS5pc1VubG9hZGFibGVGb3JtU3VibWl0KGUpKXsgdGhpcy51bmxvYWQoKSB9XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBlLnRhcmdldC5kaXNhYmxlZCA9IHRydWVcbiAgICAgIHRoaXMud2l0aGluT3duZXJzKGUudGFyZ2V0LCB2aWV3ID0+IHtcbiAgICAgICAgSlMuZXhlYyhcInN1Ym1pdFwiLCBwaHhFdmVudCwgdmlldywgZS50YXJnZXQsIFtcInB1c2hcIiwge3N1Ym1pdHRlcjogZS5zdWJtaXR0ZXJ9XSlcbiAgICAgIH0pXG4gICAgfSwgZmFsc2UpXG5cbiAgICBmb3IobGV0IHR5cGUgb2YgW1wiY2hhbmdlXCIsIFwiaW5wdXRcIl0pe1xuICAgICAgdGhpcy5vbih0eXBlLCBlID0+IHtcbiAgICAgICAgbGV0IHBoeENoYW5nZSA9IHRoaXMuYmluZGluZyhcImNoYW5nZVwiKVxuICAgICAgICBsZXQgaW5wdXQgPSBlLnRhcmdldFxuICAgICAgICBsZXQgaW5wdXRFdmVudCA9IGlucHV0LmdldEF0dHJpYnV0ZShwaHhDaGFuZ2UpXG4gICAgICAgIGxldCBmb3JtRXZlbnQgPSBpbnB1dC5mb3JtICYmIGlucHV0LmZvcm0uZ2V0QXR0cmlidXRlKHBoeENoYW5nZSlcbiAgICAgICAgbGV0IHBoeEV2ZW50ID0gaW5wdXRFdmVudCB8fCBmb3JtRXZlbnRcbiAgICAgICAgaWYoIXBoeEV2ZW50KXsgcmV0dXJuIH1cbiAgICAgICAgaWYoaW5wdXQudHlwZSA9PT0gXCJudW1iZXJcIiAmJiBpbnB1dC52YWxpZGl0eSAmJiBpbnB1dC52YWxpZGl0eS5iYWRJbnB1dCl7IHJldHVybiB9XG5cbiAgICAgICAgbGV0IGRpc3BhdGNoZXIgPSBpbnB1dEV2ZW50ID8gaW5wdXQgOiBpbnB1dC5mb3JtXG4gICAgICAgIGxldCBjdXJyZW50SXRlcmF0aW9ucyA9IGl0ZXJhdGlvbnNcbiAgICAgICAgaXRlcmF0aW9ucysrXG4gICAgICAgIGxldCB7YXQ6IGF0LCB0eXBlOiBsYXN0VHlwZX0gPSBET00ucHJpdmF0ZShpbnB1dCwgXCJwcmV2LWl0ZXJhdGlvblwiKSB8fCB7fVxuICAgICAgICAvLyBCcm93c2VycyBzaG91bGQgYWx3YXlzIGZpcmUgYXQgbGVhc3Qgb25lIFwiaW5wdXRcIiBldmVudCBiZWZvcmUgZXZlcnkgXCJjaGFuZ2VcIlxuICAgICAgICAvLyBJZ25vcmUgXCJjaGFuZ2VcIiBldmVudHMsIHVubGVzcyB0aGVyZSB3YXMgbm8gcHJpb3IgXCJpbnB1dFwiIGV2ZW50LlxuICAgICAgICAvLyBUaGlzIGNvdWxkIGhhcHBlbiBpZiB1c2VyIGNvZGUgdHJpZ2dlcnMgYSBcImNoYW5nZVwiIGV2ZW50LCBvciBpZiB0aGUgYnJvd3NlciBpcyBub24tY29uZm9ybWluZy5cbiAgICAgICAgaWYoYXQgPT09IGN1cnJlbnRJdGVyYXRpb25zIC0gMSAmJiB0eXBlID09PSBcImNoYW5nZVwiICYmIGxhc3RUeXBlID09PSBcImlucHV0XCIpeyByZXR1cm4gfVxuXG4gICAgICAgIERPTS5wdXRQcml2YXRlKGlucHV0LCBcInByZXYtaXRlcmF0aW9uXCIsIHthdDogY3VycmVudEl0ZXJhdGlvbnMsIHR5cGU6IHR5cGV9KVxuXG4gICAgICAgIHRoaXMuZGVib3VuY2UoaW5wdXQsIGUsIHR5cGUsICgpID0+IHtcbiAgICAgICAgICB0aGlzLndpdGhpbk93bmVycyhkaXNwYXRjaGVyLCB2aWV3ID0+IHtcbiAgICAgICAgICAgIERPTS5wdXRQcml2YXRlKGlucHV0LCBQSFhfSEFTX0ZPQ1VTRUQsIHRydWUpXG4gICAgICAgICAgICBpZighRE9NLmlzVGV4dHVhbElucHV0KGlucHV0KSl7XG4gICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlRWxlbWVudChpbnB1dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEpTLmV4ZWMoXCJjaGFuZ2VcIiwgcGh4RXZlbnQsIHZpZXcsIGlucHV0LCBbXCJwdXNoXCIsIHtfdGFyZ2V0OiBlLnRhcmdldC5uYW1lLCBkaXNwYXRjaGVyOiBkaXNwYXRjaGVyfV0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0sIGZhbHNlKVxuICAgIH1cbiAgICB0aGlzLm9uKFwicmVzZXRcIiwgKGUpID0+IHtcbiAgICAgIGxldCBmb3JtID0gZS50YXJnZXRcbiAgICAgIERPTS5yZXNldEZvcm0oZm9ybSwgdGhpcy5iaW5kaW5nKFBIWF9GRUVEQkFDS19GT1IpKVxuICAgICAgbGV0IGlucHV0ID0gQXJyYXkuZnJvbShmb3JtLmVsZW1lbnRzKS5maW5kKGVsID0+IGVsLnR5cGUgPT09IFwicmVzZXRcIilcbiAgICAgIC8vIHdhaXQgdW50aWwgbmV4dCB0aWNrIHRvIGdldCB1cGRhdGVkIGlucHV0IHZhbHVlXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpbnB1dFwiLCB7YnViYmxlczogdHJ1ZSwgY2FuY2VsYWJsZTogZmFsc2V9KSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGRlYm91bmNlKGVsLCBldmVudCwgZXZlbnRUeXBlLCBjYWxsYmFjayl7XG4gICAgaWYoZXZlbnRUeXBlID09PSBcImJsdXJcIiB8fCBldmVudFR5cGUgPT09IFwiZm9jdXNvdXRcIil7IHJldHVybiBjYWxsYmFjaygpIH1cblxuICAgIGxldCBwaHhEZWJvdW5jZSA9IHRoaXMuYmluZGluZyhQSFhfREVCT1VOQ0UpXG4gICAgbGV0IHBoeFRocm90dGxlID0gdGhpcy5iaW5kaW5nKFBIWF9USFJPVFRMRSlcbiAgICBsZXQgZGVmYXVsdERlYm91bmNlID0gdGhpcy5kZWZhdWx0cy5kZWJvdW5jZS50b1N0cmluZygpXG4gICAgbGV0IGRlZmF1bHRUaHJvdHRsZSA9IHRoaXMuZGVmYXVsdHMudGhyb3R0bGUudG9TdHJpbmcoKVxuXG4gICAgdGhpcy53aXRoaW5Pd25lcnMoZWwsIHZpZXcgPT4ge1xuICAgICAgbGV0IGFzeW5jRmlsdGVyID0gKCkgPT4gIXZpZXcuaXNEZXN0cm95ZWQoKSAmJiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGVsKVxuICAgICAgRE9NLmRlYm91bmNlKGVsLCBldmVudCwgcGh4RGVib3VuY2UsIGRlZmF1bHREZWJvdW5jZSwgcGh4VGhyb3R0bGUsIGRlZmF1bHRUaHJvdHRsZSwgYXN5bmNGaWx0ZXIsICgpID0+IHtcbiAgICAgICAgY2FsbGJhY2soKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgc2lsZW5jZUV2ZW50cyhjYWxsYmFjayl7XG4gICAgdGhpcy5zaWxlbmNlZCA9IHRydWVcbiAgICBjYWxsYmFjaygpXG4gICAgdGhpcy5zaWxlbmNlZCA9IGZhbHNlXG4gIH1cblxuICBvbihldmVudCwgY2FsbGJhY2spe1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBlID0+IHtcbiAgICAgIGlmKCF0aGlzLnNpbGVuY2VkKXsgY2FsbGJhY2soZSkgfVxuICAgIH0pXG4gIH1cbn1cblxuY2xhc3MgVHJhbnNpdGlvblNldCB7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy50cmFuc2l0aW9ucyA9IG5ldyBTZXQoKVxuICAgIHRoaXMucGVuZGluZ09wcyA9IFtdXG4gIH1cblxuICByZXNldCgpe1xuICAgIHRoaXMudHJhbnNpdGlvbnMuZm9yRWFjaCh0aW1lciA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpXG4gICAgICB0aGlzLnRyYW5zaXRpb25zLmRlbGV0ZSh0aW1lcilcbiAgICB9KVxuICAgIHRoaXMuZmx1c2hQZW5kaW5nT3BzKClcbiAgfVxuXG4gIGFmdGVyKGNhbGxiYWNrKXtcbiAgICBpZih0aGlzLnNpemUoKSA9PT0gMCl7XG4gICAgICBjYWxsYmFjaygpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHVzaFBlbmRpbmdPcChjYWxsYmFjaylcbiAgICB9XG4gIH1cblxuICBhZGRUcmFuc2l0aW9uKHRpbWUsIG9uU3RhcnQsIG9uRG9uZSl7XG4gICAgb25TdGFydCgpXG4gICAgbGV0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25zLmRlbGV0ZSh0aW1lcilcbiAgICAgIG9uRG9uZSgpXG4gICAgICB0aGlzLmZsdXNoUGVuZGluZ09wcygpXG4gICAgfSwgdGltZSlcbiAgICB0aGlzLnRyYW5zaXRpb25zLmFkZCh0aW1lcilcbiAgfVxuXG4gIHB1c2hQZW5kaW5nT3Aob3ApeyB0aGlzLnBlbmRpbmdPcHMucHVzaChvcCkgfVxuXG4gIHNpemUoKXsgcmV0dXJuIHRoaXMudHJhbnNpdGlvbnMuc2l6ZSB9XG5cbiAgZmx1c2hQZW5kaW5nT3BzKCl7XG4gICAgaWYodGhpcy5zaXplKCkgPiAwKXsgcmV0dXJuIH1cbiAgICBsZXQgb3AgPSB0aGlzLnBlbmRpbmdPcHMuc2hpZnQoKVxuICAgIGlmKG9wKXtcbiAgICAgIG9wKClcbiAgICAgIHRoaXMuZmx1c2hQZW5kaW5nT3BzKClcbiAgICB9XG4gIH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQSxzREFBQUEsU0FBQTtBQU9BLEtBQUMsU0FBUyxHQUFHLEdBQUc7QUFDWixVQUFJLFlBQVksT0FBTyxXQUFXLFlBQVksT0FBT0E7QUFBUSxRQUFBQSxRQUFPLFVBQVUsRUFBRTtBQUFBLGVBQVksY0FBYyxPQUFPLFVBQVUsT0FBTztBQUFLLGVBQU8sQ0FBQyxHQUFHLENBQUM7QUFBQSxXQUFRO0FBQ3ZKLFlBQUksSUFBSSxFQUFFO0FBQ1YsaUJBQVMsS0FBSztBQUFHLFdBQUMsWUFBWSxPQUFPLFVBQVUsVUFBVSxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7QUFBQSxNQUN4RTtBQUFBLElBQ0osRUFBRSxlQUFlLE9BQU8sT0FBTyxPQUFPLFNBQU8sV0FBVztBQUNwRCxhQUFPLFdBQVc7QUFDZDtBQUNBLFlBQUksSUFBSTtBQUFBLFVBQ0osTUFBTSxTQUFTQyxJQUFHQyxJQUFHO0FBQ2pCLG1CQUFPLGVBQWVBLElBQUcsY0FBYztBQUFBLGNBQ25DLE9BQU87QUFBQSxZQUNYLENBQUMsR0FBR0EsR0FBRSxVQUFVO0FBQ2hCLGdCQUFJQyxLQUFJLEVBQUUsZUFBZSxPQUFPLFVBQVUsQ0FBQyxPQUFPLFlBQVksQ0FBQyxPQUFPLFNBQVM7QUFDL0UsWUFBQUQsR0FBRSxVQUFVQztBQUFB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TTtBQUFFLFdBQU8sS0FBSyxZQUFZO0VBQUE7RUFFaEMsa0JBQWlCO0FBQ2YsUUFBRyxLQUFLLEtBQUEsSUFBUyxHQUFFO0FBQUU7SUFBQTtBQUNyQixRQUFJLEtBQUssS0FBSyxXQUFXLE1BQUE7QUFDekIsUUFBRyxJQUFHO0FBQ0osU0FBQTtBQUNBLFdBQUssZ0JBQUE7SUFBQTtFQUFBO0FBQUE7OztBM0I3NUJYLG9CQUFtQjtBQXRCbkIsSUFBTSxNQUFNLFNBQVMsY0FBYyxXQUFXO0FBRzlDLElBQUk7QUFBSyx1QkFBQUUsU0FBVSxFQUFFLE1BQU0saUJBQWlCLENBQUMsRUFBRSxLQUFLLEdBQUc7QUFNdkQsSUFBSSxZQUFZLFNBQ2IsY0FBYyx5QkFBeUIsRUFDdkMsYUFBYSxTQUFTO0FBQ3pCLElBQUksYUFBYSxJQUFJLFdBQVcsU0FBUyxRQUFRO0FBQUEsRUFDL0MsUUFBUSxFQUFFLGFBQWEsVUFBVTtBQUFBLEVBQ2pDLE9BQU87QUFDVCxDQUFDO0FBR0QsV0FBVyxRQUFRO0FBQ25CLE9BQU8sYUFBYTtBQUtwQixjQUFBQyxRQUFPLE9BQU8sRUFBRSxXQUFXLEVBQUUsR0FBRyxPQUFPLEdBQUcsYUFBYSxvQkFBb0IsQ0FBQztBQUM1RSxPQUFPLGlCQUFpQiwwQkFBMEIsQ0FBQyxTQUFTLGNBQUFBLFFBQU8sS0FBSyxDQUFDO0FBQ3pFLE9BQU8saUJBQWlCLHlCQUF5QixDQUFDLFNBQVMsY0FBQUEsUUFBTyxLQUFLLENBQUM7IiwKICAibmFtZXMiOiBbIm1vZHVsZSIsICJlIiwgInQiLCAiaSIsICJuIiwgImEiLCAiciIsICJvIiwgInMiLCAibCIsICJjIiwgInUiLCAiZiIsICJkIiwgInAiLCAiaCIsICJ2IiwgIm0iLCAieSIsICJ4IiwgIlAiLCAidyIsICJrIiwgImIiLCAibW9kdWxlIiwgIndpbmRvdyIsICJkb2N1bWVudCIsICJ0b3BiYXIiLCAiQ3VzdG9tRXZlbnQiLCAiY2xvc3VyZSIsICJsaXZlU29ja2V0IiwgImNsb3N1cmUiLCAiSG9va3MiLCAiSW5wdXRtYXNrIiwgInRvcGJhciJdCn0K
